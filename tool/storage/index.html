<!DOCTYPE html>
<html style="font-size:625%">
<head>
  <meta charset="utf-8">
  <meta name="keywords" content="livelybone, plugins, vue, vuejs, react, js, javascript, node, php">
  <meta name="author" content="livelybone(2631541504@qq.com)">
  <title>storage -- livelybone</title>
  <link rel="shortcut icon" href="../../logo.png">
  <link rel="shortcut icon" href="../../logo.svg" type="image/svg+xml">
  <link rel="stylesheet" href="../../common/css/common.css">
  <link rel="stylesheet" href="../../common/css/highlight.min.css">
  <script src="../../common/js/common.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@livelybone/storage"></script>
  <style type="text/css">
  .btn-group {
    margin: 0 0 -.15rem;
  }

  button {
    /*margin: 0 .15rem .15rem 0;*/
  }

  @media (orientation: portrait) {
    button {
      width: 100%;
    }
  }

  img {
    max-width: 100%;
    vertical-align: middle;
  }

  textarea {
    width: 2rem;
    height: 1rem;
    padding: .1rem;
  }
  </style>
</head>
<body>
<h1 class="root-h1">Storage</h1>
<section class="app">
  <h2 id="Repository" class="root-h">Repository</h2>
  <div class="root-content-wrap">
    <a href="https://github.com/livelybone/storage" target="_blank">
      https://github.com/livelybone/storage
    </a>
  </div>

  <h2 id="Storage" class="root-h">Storage</h2>
  <div class="example-wrap">
    <h3 class="root-module-title">Example</h3><br>
    <p class="root-desc">
      You can store Objects directly like
      <span class="font-warn">`{a: 1, b: '1'}`</span>,
      <span class="font-warn">`1`</span>,
      <span class="font-warn">`'true'`</span>,
      <span class="font-warn">`true`</span>
    </p>
    <p class="root-desc">
      Before store, this module will stringify the value you set (use `JSON.stringify`).
      Before return, it will parse(use `JSON.parse`) the value which you want get
    </p>
    Value: <input id="input"><br>
    <button style="margin-top: .1rem" onclick="setStorage()">Set</button>
    <button style="margin-top: .1rem" onclick="getStorage()">Get</button>
    <div id="storage-code"></div>
  </div>

  <h2 id="LocalStorage" class="root-h">LocalStorage</h2>
  <div class="example-wrap">
    <h3 class="root-module-title">Methods</h3>
    <p>
      `get`: `(key) => [Number, String, Object, Boolean]`
    </p>
    <p>
      `set`: `(key,value:[Number, String, Object, Boolean]) => void`
    </p>
    <p>
      `delete`: `(key) => void`
    </p>
    <p>
      `clear`: `() => void`
    </p>
    <p>
      `has`: `(key) => Boolean`
    </p>
    <p>
      `keys`: `() => Array&lt;String>`
    </p>
    <p>
      `values`: `() => Array&lt;Number, String, Object, Boolean>`
    </p>
    <p>
      `entries`: `() => Array<{key, value}>`
    </p>
    <p>
      `forEach`: `(callback:(key, value, instance|class) => void) => void`
    </p>
    <p>
      `addHandler`: `(handler: ({event, key, oldValue, newValue}) => any) => wrappedHandler`
    </p>
    <p>
      `removeHandler`: `(handlers: Array&lt;wrappedHandler>) => void`
    </p>
  </div>

  <h2 id="Cookie" class="root-h">Cookie</h2>
  <div class="example-wrap">
    <h3 class="root-module-title">Methods</h3>
    <p>
      `get`: `(key) => [Number, String, Object, Boolean]`
    </p>
    <p>
      `set`: `(key,value:[Number, String, Object, Boolean]) => void`
    </p>
    <p>
      `delete`: `(key) => void`
    </p>
    <p>
      `clear`: `() => void`
    </p>
    <p>
      `has`: `(key) => Boolean`
    </p>
    <p>
      `keys`: `() => Array&lt;String>`
    </p>
    <p>
      `values`: `() => Array&lt;Number, String, Object, Boolean>`
    </p>
    <p>
      `entries`: `() => Array<{key, value}>`
    </p>
    <p>
      `forEach`: `(callback:(key, value, instance|class) => void) => void`
    </p>
  </div>
</section>

<script src="../../common/js/highlight.min.js"></script>
<script type="text/javascript" id="code">
/*CATALOGUE: Repository, Storage, LocalStorage, Cookie*/

/*START*/
/*RENDER_ID: storage-code*/
/*NAME: Code*/
var useCookieWhenDegrading = !!1
var KEY = 'STORAGE_TEST'
var storage = new Storage.Storage(useCookieWhenDegrading)

function setStorage() {
  var input = getEl('#input')[0]
  if (input.value) {
    storage.set(KEY, input.value)
    alert('Value of KEY `' + KEY + '` Set success!')
  } else {
    alert('Warn: Please input something')
  }
}

function getStorage() {
  var value = storage.get(KEY)
  alert('KEY `' + KEY + '` value: ' + value)
}

/*END*/
</script>
</body>
</html>
