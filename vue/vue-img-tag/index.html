<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="keywords" content="livelybone, plugins, vue, vuejs, react, js, javascript, node, php">
  <meta name="author" content="livelybone(2631541504@qq.com)">
  <title>VueImgTag</title>
  <link rel="shortcut icon" href="../../logo.png">
  <link rel="shortcut icon" href="../../logo.svg" type="image/svg+xml">
  <link rel="stylesheet" href="../../common/css/common.css">
  <link rel="stylesheet" href="../../common/css/highlight.min.css">
  <script src="../../common/js/common.js"></script>
  <style>
  .root-module-title {
    margin-top: .2rem;
  }

  .root-module-title:first-child {
    margin-top: 0;
  }

  .root-module-title.lazy {
    margin-top: 100vh;
  }

  .img-tag {
    display: block !important;
    width: 4rem;
    max-width: 100%;
  }

  .lazy-img.wrap {
    background: #666;
    min-height: 4rem;
  }

  #input {
    display: block;
  }
  </style>
</head>
<body>
<h1 class="root-h1">vue-img-tag</h1>
<section class="app">
  <h2 class="root-h">Repository</h2>
  <div class="root-content-wrap">
    <a href="https://github.com/livelybone/vue-img-tag" target="_blank">
      https://github.com/livelybone/vue-img-tag
    </a>
  </div>
  <h2 class="root-h">Example</h2>
  <div class="example-wrap">
    <h3 class="root-module-title">Normal</h3>
    <div id="normal"></div>
    <h3 class="root-module-title">Input file</h3>
    <p class="root-desc">Just for showing input file</p>
    <input type="file" id="input">
    <div id="file"></div>
    <h3 class="root-module-title lazy">Lazy load</h3>
    <div id="lazy"></div>
  </div>
</section>

<script src="../../common/js/highlight.min.js"></script>
<script src="../../common/js/vue.min.js"></script>
<script src="../../common/js/polyfill.min.js"></script>
<script src="https://unpkg.com/vue-img-tag"></script>
<script id="code">
console.log(VueImgTag)
/*START*/
/*NAME:Lazy load*/
new Vue({
  el: '#normal',
  template: '<img-tag class="img-tag"' +
  '                   loadingImg="./loading.gif"' +
  '                   errorImg="./error.jpg"' +
  '                   :src="img"' +
  '                   :preventValue="-10"' +
  '                   @load="log"/>',
  data: function () {
    return {
      img: 'http://pic1.win4000.com/wallpaper/2018-11-26/5bfb63c4d1860.jpg'
    }
  },
  methods: {
    log: function (val) {
      console.log(val)
    }
  },
  components: { 'img-tag': VueImgTag }
})
/*END*/

/*START*/
/*NAME:Input file*/
/*DESC:Just for showing input file*/
var img = new Vue({
  el: '#file',
  template: '<img-tag v-if="img" class="img-tag"' +
  '                   loadingImg="./loading.gif"' +
  '                   errorImg="./error.jpg"' +
  '                   :src="img"' +
  '                   @load="log"/>',
  data: function () {
    return {
      img: ''
    }
  },
  methods: {
    log: function (val) {
      console.log(val)
    }
  },
  components: { 'img-tag': VueImgTag }
})

document.getElementById('input').addEventListener('change', function (ev) {
  img.img = ev.target.files[0]
  console.log(img.img)
})
/*END*/

/*START*/
/*NAME:Lazy load*/
new Vue({
  el: '#lazy',
  template: '<img-tag class="img-tag lazy-img"' +
  '                   loadingImg="./loading.gif"' +
  '                   errorImg="./error.jpg"' +
  '                   lazy' +
  '                   :src="img"' +
  '                   :preventValue="-100"' +
  '                   @load="log" ref="img"/>',
  data: function () {
    return {
      img: 'https://justifiedgrid.com/wp-content/uploads/life/biking/137646854.jpg'
    }
  },
  methods: {
    log: function (val) {
      console.log(val)
    }
  },
  components: { 'img-tag': VueImgTag }
})
/*END*/
</script>
</body>
</html>