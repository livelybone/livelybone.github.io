{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 0074d169a1c95f471136","webpack:///./src/js/chart_manager.js","webpack:///./src/js/named_object.js","webpack:///./src/js/data_sources.js","webpack:///./src/js/kline.js","webpack:///./src/js/chart_settings.js","webpack:///./src/js/util.js","webpack:///./src/js/themes.js","webpack:///./src/js/templates.js","webpack:///./src/js/control.js","webpack:///./src/js/cpoint.js","webpack:///./src/js/ctools.js","webpack:///./src/js/plotters.js","webpack:///./src/js/data_providers.js","webpack:///./src/js/areas.js","webpack:///external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}","webpack:///./src/js/mevent.js","webpack:///./src/js/cname.js","webpack:///./src/js/exprs.js","webpack:///./src/js/ranges.js","webpack:///./src/entry.js","webpack:///./node_modules/jquery-mousewheel/jquery.mousewheel.js","webpack:///./src/view/tpl.html","webpack:///./src/js/ctool_manager.js","webpack:///./src/js/timeline.js","webpack:///./src/js/layouts.js","webpack:///./src/js/chart.js","webpack:///./src/js/indicators.js"],"names":["ChartManager","_dataSources","_dataSourceCache","_dataProviders","_frames","_areas","_timelines","_ranges","_plotters","_themes","_titles","_frameMousePos","_dsChartStyle","_dragStarted","_oldX","_fakeIndicators","_captureMouseWheelDirectly","_chart","defaultFrame","Chart","_drawingTool","DrawingTool","_beforeDrawingTool","_language","_mainCanvas","_overlayCanvas","_mainContext","_overlayContext","created","instance","layer","refresh","undefined","getFrame","setChanged","layout","width","height","drawMain","clearRect","drawOverlay","canvas","getContext","$","bind","Control","mouseWheel","v","unbind","nouseParam","templates","DefaultTemplate","loadTemplate","redraw","paramTool","setRunningMode","lang","frameName","themeName","theme","themes","LightTheme","DarkTheme","_themeName","setTheme","dsName","chartStyle","style","areaName","dpName","plotterName","dp","plotter","getDataProvider","Util","isInstance","data_providers","MainDataProvider","setDataProvider","updateData","setMainIndicator","ChartSettings","get","charts","mIndic","plotters","CandlestickPlotter","CandlestickHLCPlotter","OHLCPlotter","setPlotter","MinMaxPlotter","getName","IndicatorDataProvider","setIndicator","indicators","HLCIndicator","removeMainIndicator","IndicatorPlotter","removePlotter","getArea","getAreaName","removeClass","parent","addClass","Cursor","showCursor","hideCursor","mode","pds","getDataSource","curr_o","getCurrentToolObject","state","ctools","CToolObject","AfterDraw","delToolObject","getToolObjectCount","setNormalMode","ArrowLine","addToolObject","CArrowLineObject","BandLine","CBandLineObject","BiParallelLine","CBiParallelLineObject","BiParallelRayLine","CBiParallelRayLineObject","CrossCursor","DrawFibFans","CFibFansObject","DrawFibRetrace","CFibRetraceObject","DrawLines","CStraightLineObject","HoriRayLine","CHoriRayLineObject","HoriSegLine","CHoriSegLineObject","HoriStraightLine","CHoriStraightLineObject","PriceLine","CPriceLineObject","RayLine","CRayLineObject","SegLine","CSegLineObject","StraightLine","TriParallelLine","CTriParallelLineObject","VertiStraightLine","CVertiStraightLineObject","title","dsAlias","cached","getCachedDataSource","setDataSource","data_sources","MainDataSource","setCachedDataSource","name","ds","forceRefresh","frame","area","timeline","range","point","x","y","px","py","context","plotterNames","getNameObject","getCompAt","getHeight","getWidth","i","cnt","length","Draw","getDataSourceName","getDataCount","drawArea","drawn","it","getFrameName","areas","ChartAreaGroup","drawAreaMain","e","setUpdated","n","drawGrid","drawAreaOverlay","data","update","getUpdateMode","DataSource","UpdateMode","DoNothing","setUpdateMode","Refresh","getTimeline","dpNames","updateRange","getMaxItemCount","getRange","left","top","right","bottom","measure","onLayout","substring","pArea","ee","_1","_2","selectAt","unselect","s","_highlightedFrame","hiArea","getHighlightedArea","scale","cursor","exceptTimeline","highlight","ret","indexOf","toolManager","acceptMouseMoveEvent","acceptMouseDownEvent","acceptMouseUpEvent","acceptMouseDownMoveEvent","drag","setFrameMousePos","hideCrossCursor","clearHighlight","_capturingMouseArea","onMouseMove","contains","a","move","onMouseLeave","onMouseDown","onMouseUp","_selectedFrame","select","isSelected","pDPTool","selectObject","getSelectToolObjcet","delSelectToolObject","currentObject","getState","match","indicName","notLoadSettings","indic","MAIndicator","ranges","PositiveRange","EMAIndicator","VOLUMEIndicator","ZeroBasedPositiveRange","MACDIndicator","ZeroCenteredRange","DMIIndicator","PercentageRange","DMAIndicator","Range","TRIXIndicator","BRARIndicator","VRIndicator","OBVIndicator","EMVIndicator","RSIIndicator","WRIndicator","SARIndicator","KDJIndicator","ROCIndicator","MTMIndicator","BOLLIndicator","PSYIndicator","STOCHRSIIndicator","setParameters","indics","indicDpName","indicDp","getPlotter","createIndicatorAndRange","removeDataProvider","removeRange","setRange","setPaddingTop","setPaddingBottom","setMinInterval","LastVolumePlotter","rangeAreaName","rangeArea","tableLayout","removeArea","params","getParameterCount","push","getParameterAt","getIndicator","index","getAreaCount","getAreaAt","NamedObject","_name","_nameObj","CName","rect","startPt","endPt","crossPt","firstPt","secondPt","xdiff","ydiff","Math","abs","k","_updateMode","_dataItems","Update","Append","_erasedCount","_decimalDigits","CToolManager","_updatedCount","_appendedCount","str","count","getDataAt","date","len","lastIndex","lastItem","open","high","low","close","volume","Kline","limit","d","calcDecimalDigits","id","selecedObject","toolObject","delCurrentObject","getToolObject","toolObjects","getCurrentObject","getSelectedObject","delSelectedObject","option","element","chartMgr","G_HTTP_REQUEST","timer","buttonDown","init","requestParam","symbol","symbolName","url","type","subscribePath","sendPath","stompClient","intervalTime","debug","language","socketConnected","enableSockjs","reverseColor","isSized","paused","subscribed","periodMap","tagMapPeriod","Object","assign","view","parseHTML","tpl","res","find","each","attr","html","setInterval","refreshFunction","socketConnect","registerMouseEvent","bindCanvas","document","getElementById","refreshTemplate","onSize","readCookie","setLanguage","css","visibility","switchSymbol","onSymbolChange","switchTheme","chartSwitchLanguage","isShow","showTrade","show","hide","console","log","requestData","disconnect","ready","__resize","navigator","userAgent","setTimeout","cancelBubble","returnValue","preventDefault","stopPropagation","mouseover","container","dropdown","next","containerLeft","offset","titleLeft","containerWidth","titleWidth","dropdownWidth","mouseout","prev","click","tmp","value","nextElementSibling","val","switchPeriod","hasClass","switchTools","children","switchIndic","save","Template","displayVolume","getChart","innerHTML","mgr","setChartStyle","keyup","keyCode","deleteToolObject","mousemove","r","target","getBoundingClientRect","clientX","clientY","mouseleave","mouseup","which","mousedown","change","valueArray","parseInt","setIndicatorParameters","getIndicatorParameters","cookieArray","getValue","parents","getDefaultValue","on","position","zIndex","overflow","_data","ver","period_weight","areaHeight","load","checkVersion","_indic_param","_value","param","getParameters","j","_chart_style","_m_indic","_indic","_range","_frame","indicsStatus","period","cookie","start","end","json","unescape","JSON","parse","exdate","Date","setDate","getDate","escape","stringify","toGMTString","fractionDigits","text","toFixed","toString","obj","clazz","Theme","getFont","_fonts","_colors","theme_color_id","theme_font_id","Color","Positive","Negative","PositiveDark","NegativeDark","Unchanged","Background","RangeMark","Indicator0","Indicator1","Indicator2","Indicator3","Indicator4","Indicator5","Grid0","Grid1","Grid2","Grid3","Grid4","TextPositive","TextNegative","Text0","Text1","Text2","Text3","Text4","LineColorNormal","LineColorSelected","CircleColorFill","CircleColorStroke","Font","Default","createFunc","setCurrentDataSource","createMainChartComps","createIndicatorChartComps","createTimelineComps","MainArea","setArea","addArea","MainRangeArea","MainRange","MainAreaBackgroundPlotter","CGridPlotter","MainInfoPlotter","SelectionPlotter","CDynamicLinePlotter","RangeAreaBackgroundPlotter","COrderGraphPlotter","RangePlotter","RangeSelectionPlotter","LastClosePlotter","getNextRowId","IndicatorArea","rowIndex","heights","setTop","setBottom","IndicatorRangeArea","removeIndicator","IndicatorInfoPlotter","Timeline","setTimeline","TimelineAreaBackgroundPlotter","TimelinePlotter","TimelineSelectionPlotter","BackgroundPlotter","CLiveOrderPlotter","CLiveTradePlotter","settings","unloadTemplate","createDataSource","createCandlestickDataSource","layouts","DockableLayout","setFrame","setGridColor","TimelineArea","setDockStyle","ChartArea","DockStyle","Bottom","Measuring","addHandler","TemplateMeasuringHandler","onMeasuring","TableLayout","Fill","createTableComps","setThemeName","sender","args","Width","Height","setMeasuredDimension","refreshCounter","getLanguage","num","Number","window","clearInterval","refreshHandler","showLoading","AbortRequest","clearTimeout","requestOverStomp","requestOverHttp","decodeURI","replace","ws","readyState","send","parseRequestParam","ajax","dataType","timeout","now","beforeSend","success","requestSuccessHandler","error","xhr","textStatus","errorThrown","status","complete","chart","setTitle","eval","updateDataRes","lines","setHttpRequestParam","getLastDate","depths","updateDepth","clearRefreshCounter","TwoSecondThread","abort","f","switchSymbolSelected","mainIndic","chart_style","since","langTmp","onLangChange","w","h","innerWidth","chartWidth","tradeWidth","innerHeight","toolBar","toolPanel","canvasGroup","tabBar","toolPanelShown","display","tabBarShown","toolBarRect","toolPanelRect","tabBarRect","canvasGroupRect","mainCanvas","overlayCanvas","dlgSettings","dlgLoading","domElemCache","rowTheme","rowTools","rowIndic","periodsVert","periodsHorz","showIndic","showTools","selectTheme","dropDownSettings","periodsVertNW","offsetWidth","periodsHorzNW","showIndicNW","showToolsNW","selectThemeNW","dropDownSettingsW","append","after","before","onResize","delta","command","content","submit","MEvent","raise","onThemeChange","calcPeriodWeight","strIsLine","setCurrentPeriod","p","reset","_symbol","unsubscribe","subscribe","subscribeCallback","setSymbol","periodWeight","body","socket","SockJS","Stomp","over","client","connect","CPoint","pos","Hide","ppMgr","ppCDS","ppTimeline","ppRange","pMgr","pCDS","pTimeline","pRange","pObj","getChartObjects","toIndex","toValue","result","snapValue","setPosIV","_x","toItemCenter","_y","toY","xy","getPosXY","setState","Highlight","first","floor","getFirstIndex","last","getLastIndex","pData","pDataPre","candleStickStyle","getChartStyle","dif_open","dif_high","dif_low","dif_close","Show","drawer","BeforeDraw","points","step","ppArea","areaPos","getLeft","getTop","getRight","getBottom","isValidMouseXY","setBeforeDrawPos","setDrawPos","setAfterDrawPos","prototype","oldx","oldy","_width","getItemWidth","_height","_old_x","_old_y","_new_x","_new_y","_dif_x","_dif_y","setPosXY","isFind","point1","point2","point3","xa","ya","xb","yb","xc","yc","a1","a2","b1","b2","sqrt","pow","sx","sy","ex","ey","CBiToolObject","addPoint","getPoint","CTriToolObject","DrawBandLinesPlotter","c","fibSequence","stage_y","DrawBiParallelLinesPlotter","_0x","_0y","_1x","_1y","_2x","_2y","_a","_b","_c","_3x","_3y","r1","r2","calcGap","DrawBiParallelRayLinesPlotter","DrawFibFansPlotter","fibFansSequence","stageY","tempStartPt","tempEndPt","getRectCrossPt","lenToStartPt","lenToEndPt","tempCrossPt","b","calcDistance","DrawFibRetracePlotter","DrawHoriRayLinesPlotter","setPosXYNoSnap","DrawHoriSegLinesPlotter","DrawHoriStraightLinesPlotter","DrawRayLinesPlotter","DrawSegLinesPlotter","isWithRect","DrawStraightLinesPlotter","DrawTriParallelLinesPlotter","_i","_j","_ri","_rj","_4x","_4y","_5x","_5y","r3","DrawVertiStraightLinesPlotter","DrawPriceLinesPlotter","DrawArrowLinesPlotter","Plotter","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","isChrome","dashLen","dashSolid","dX","dY","fill","dashX","dashY","rects","closePath","measureText","fillText","toLowerCase","_color","getTheme","fillStyle","getColor","fillRect","getRect","isChanged","isUpdated","max","X","toColumnLeft","Y","lastIndexOf","isMainRange","clipped","clip","gradations","getGradations","createHorzDashedLine","restore","dark","cW","getColumnWidth","iW","toItemLeft","center","strokePosRects","fillPosRects","fillUchRects","fillNegRects","iH","min","strokeStyle","createRectangles","font","textAlign","textBaseline","selIndex","getSelectedIndex","digits","getDecimalDigits","time","year","getFullYear","month","formatTime","getMonth","hour","getHours","minute","getMinutes","drawString","amplitude","getOutputCount","out","getOutputAt","execute","isNaN","info","color","outCount","getStyle","exprs","OutputExpr","outputStyle","VolumeStick","drawVolumeStick","MACDStick","drawMACDStick","SARPoint","drawSARPoint","translate","Line","drawLines","startX","toHeight","output","middle","strokeNegRects","prevMACD","NaN","MACD","endAngle","PI","arc","getInnerWidth","drawMark","getMinValue","getMinValueIndex","getMaxValue","getMaxValueIndex","arrowStart","arrowStop","_arrowStop","textStart","drawLine","fromFloat","timeInterval","TIME_INTERVAL","local_utc_diff","getTimezoneOffset","gridRects","getMiddle","utcDate","localDate","m","TP_DAY","MonthConvert","strMinute","TP_HOUR","TP_MINUTE","rangeName","getCenter","_Draw_","m_top","m_pArea","m_bottom","m_left","m_right","all","_depthData","x_offset","y_offset","ask_tmp","bid_tmp","array","m_ask_si","amounts","m_Step","m_pRange","rate","m_bid_si","DrawBackground","UpdatePoints","FillBlack","DrawGradations","DrawLine","m_pTheme","m_mode","ask_bottom","bid_top","ask_gradient","createLinearGradient","addColorStop","bid_gradient","m_ask_points","m_bid_points","index_ask","ask_p_i","m_ask_ei","index0","index1","index_bid","ceil","bid_p_i","m_bid_ei","minRange","getOuterMinValue","maxRange","getOuterMaxValue","asks_si","asks_ei","bids_si","bids_ei","m_pMgr","ask_point","bid_point","ask_first_add","ask_last_add","bid_first_add","bid_last_add","unshift","shift","pop","ticker","p1x","p1y","p2x","p2y","p3x","p3y","Mark","getSelectedPosition","strokeRect","second","getSeconds","strMonth","strDate","strHour","strSecond","getSelectedValue","MAX_VALUE","createPolygon","CToolPlotter","normalSize","selectedSize","cursorLen","cursorGapLen","drawCrossCursor","tempPt","radius","centerX","centerY","ctrlPtsNum","drawCircle","ctrlPts","startPoint","endPoint","fiboFansSequence","drawRayLines","getAreaPos","pt1","pt2","draw","drawCtrlPt","highlightCtrlPt","Array","getCtrlPts","updateCtrlPtPos","arrowSizeRatio","arrowSize","lenBetweenPts","vectorA","vectorAautho","Aautho","origin","arrowEndPt","drawArrow","getPosIV","ParallelLinesPlotter","vectorB","paraStartPoint","paraEndPoint","getParaPt","crossPt0","crossPt1","para1EndPoint","para2EndPoint","para2StartPoint","crossPt2","BandLinesPlotter","startPtValue","endPtValue","fiboSequence","stageYvalue","drawLinesAndInfo","drawFibRayLines","flag","pTDP","drawCursor","updateDraw","finishDraw","sel","DataProvider","_minValue","_maxValue","_minValueIndex","_maxValueIndex","minmax","firstIndexes","minmaxes","indexes","minIndex","maxIndex","getMinMaxAt","calcRange","_candlestickDS","_indicator","clear","reserve","getAppendedCount","getUpdatedCount","valid","_left","_top","_right","_bottom","_changed","_highlighted","_pressed","_selected","_dockStyle","dockStyle","_measuredWidth","_measuredHeight","forceChange","Left","Top","Right","_oldY","_passMoveEventToToolManager","onToolMouseDrag","onToolMouseMove","showCrossCursor","startMove","onToolMouseDown","onToolMouseUp","_highlightedArea","_selectedArea","splice","_gridColor","getSelectedArea","_handlers","o","func","g","_names","_comps","comps","split","dotNum","ExprEnv","_ds","_firstIndex","inst","env","Expr","_rid","rid","OpenExpr","HighExpr","LowExpr","CloseExpr","VolumeExpr","ConstExpr","ParameterExpr","minValue","maxValue","defaultValue","_defaultValue","OpAExpr","_exprA","OpABExpr","_exprB","OpABCExpr","_exprC","OpABCDExpr","_exprD","NegExpr","AddExpr","SubExpr","MulExpr","DivExpr","GtExpr","GeExpr","LtExpr","LeExpr","EqExpr","MaxExpr","AbsExpr","RefExpr","_offset","AndExpr","OrExpr","IfExpr","AssignExpr","_buf","_style","None","RangeOutputExpr","RangeExpr","initRange","rA","resultA","calcResult","HhvExpr","LlvExpr","CountExpr","SumExpr","StdExpr","stdData","_stdBuf","resultMA","sum","MaExpr","EmaExpr","_alpha","ExpmemaExpr","SmaExpr","_mul","SarExpr","_min","_step","_max","exprEnv","longPos","sar","ep","af","l","_updated","_outerMinValue","_outerMaxValue","_ratio","_paddingTop","_paddingBottom","_minInterval","_selectedPosition","_selectedValue","_gradations","Infinity","preSetRange","updateGradations","H","getMinInterval","interval","calcInterval","dIndex","getMaxIndex","selectedObject","curr","mouseDownMove","_innerLeft","_innerWidth","_firstColumnLeft","_scale","_lastScale","_maxItemCount","_maxIndex","_selectedIndex","_savedFirstIndex","itemWidth","spaceWidth","getSpaceWidth","maxItemCount","oldFirstIndex","oldMaxItemCount","newMaxItemCount","validateFirstIndex","calcFirstIndexAlignRight","calcColumnCount","newFirstIndex","calcFirstIndex","focusedIndex","round","calcFirstColumnLeft","firstIndex","lastFirst","PADDING_LEFT","PADDING_RIGHT","updateMaxItemCount","getItemLeftOffset","getItemCenterOffset","validateSelectedIndex","oldMaxIndex","erasedCount","getErasedCount","isLatestShown","_nextRowId","_focusedRowIndex","rowH","prevH","totalH","rows","rh","nh","nw","minRW","maxRW","rw","iArea","iIndex","iDp","minW","getRequiredWidth","maxW","lw","getMeasuredWidth","t","getMeasuredHeight","getCaptureMouseWheelDirectly","upper","lower","upperBottom","_oldUpperBottom","lowerTop","_oldLowerTop","getDockStyle","_charStyle","asks_count","bids_count","strPeriod","_contract_unit","_money_type","toUpperCase","updateDataAndDisplay","contractUnit","moneyType","onRangeChange","asks","bids","amount","_mainIndicator","getIndicatorAreaName","addIndicator","Indicator","_exprEnv","_params","_assigns","_outputs","expr","setFirstIndex","set","alert","setValue","M1","addParameter","addOutput","M2","M3","M4","M5","M6","VOLUME","SHORT","LONG","MID","DIF","DEA","N","MM","MTR","addAssign","HD","LD","DMP","DMM","PDI","MDI","ADX","ADXR","N1","N2","M","DIFMA","TRIX","MATRIX","REF_CLOSE_1","BR","AR","TH","TL","TQ","VR","MAVR","VA","OBV","MAOBV","EMV","MAEMV","N3","LC","CLOSE_LC","HHV","HHV1","LLV","LLV1","WR1","WR2","MIN","STEP","MAX","RSV","K","D","J","REF_CLOSE_N","ROC","MAROC","MTM","MTMMA","STD_CLOSE_N","BOLL","UB","LB","PSY","PSYMA","P1","P2","RSI","STOCHRSI"],"mappings":"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AACb;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,+BAA+B;AACzE,0CAA0C,8BAA8B;AACxE,0CAA0C,+BAA+B;AACzE,0CAA0C,oCAAoC;;AAE9E;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,sBAAsB;AACvD;;AAEA;AACA,6CAA6C,QAAQ;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,sCAAsC;AAC3E;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;AC5ND,seAAse,mPAAmP,6NAA6N,6NAA6N,8NAA8N,iOAAiO,8NAA8N,8NAA8N,8NAA8N,0aAA0a,kOAAkO,iOAAiO,8NAA8N,8NAA8N,yOAAyO,mdAAmd,oBAAoB,sFAAsF,8KAA8K,8KAA8K,gLAAgL,iLAAiL,+KAA+K,+KAA+K,+KAA+K,iLAAiL,mLAAmL,iLAAiL,+KAA+K,+KAA+K,4LAA4L,u7BAAu7B,01CAA01C,0rBAA0rB,kgBAAkgB,ujCAAujC,0NAA0N,oBAAoB,4EAA4E,iKAAiK,iJAAiJ,ujKAAujK,kBAAkB,8CAA8C,oOAA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","file":"kline.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"jquery\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"jquery\")) : factory(root[\"$\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_14__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0074d169a1c95f471136","import {Control} from './control'\r\nimport {Chart} from './chart'\r\nimport * as indicators from './indicators'\r\nimport * as ranges from './ranges'\r\nimport * as templates from './templates'\r\nimport * as data_sources from './data_sources'\r\nimport {ChartSettings} from './chart_settings'\r\nimport * as data_providers from './data_providers'\r\nimport * as themes from './themes'\r\nimport * as plotters from './plotters'\r\nimport * as ctools from './ctools'\r\nimport * as areas from './areas'\r\nimport {Util} from './util'\r\n\r\n\r\nexport class ChartManager {\r\n\r\n    static DrawingTool = {\r\n        Cursor: 0,\r\n        CrossCursor: 1,\r\n        DrawLines: 2,\r\n        DrawFibRetrace: 3,\r\n        DrawFibFans: 4,\r\n        SegLine: 5,\r\n        StraightLine: 6,\r\n        ArrowLine: 7,\r\n        RayLine: 8,\r\n        HoriStraightLine: 9,\r\n        HoriRayLine: 10,\r\n        HoriSegLine: 11,\r\n        VertiStraightLine: 12,\r\n        PriceLine: 13,\r\n        BiParallelLine: 14,\r\n        BiParallelRayLine: 15,\r\n        TriParallelLine: 16,\r\n        BandLine: 17\r\n    };\r\n\r\n    static created = false;\r\n    static instance = null;\r\n\r\n    constructor() {\r\n        this._dataSources = {};\r\n        this._dataSourceCache = {};\r\n        this._dataProviders = {};\r\n        this._frames = {};\r\n        this._areas = {};\r\n        this._timelines = {};\r\n        this._ranges = {};\r\n        this._plotters = {};\r\n        this._themes = {};\r\n        this._titles = {};\r\n        this._frameMousePos = {};\r\n        this._dsChartStyle = {};\r\n        this._dragStarted = false;\r\n        this._oldX = 0;\r\n        this._fakeIndicators = {};\r\n        this._captureMouseWheelDirectly = true;\r\n        this._chart = {};\r\n        this._chart.defaultFrame = new Chart();\r\n        this._drawingTool = ChartManager.DrawingTool[\"CrossCursor\"];\r\n        this._beforeDrawingTool = this._drawingTool;\r\n        this._language = \"zh-cn\";\r\n        this._mainCanvas = null;\r\n        this._overlayCanvas = null;\r\n        this._mainContext = null;\r\n        this._overlayContext = null;\r\n\r\n        if (!ChartManager.created) {\r\n            ChartManager.instance = this;\r\n            ChartManager.created = true;\r\n        }\r\n        return ChartManager.instance;\r\n    }\r\n\r\n    redraw(layer, refresh) {\r\n        if (layer === undefined || refresh) {\r\n            layer = \"All\";\r\n        }\r\n        if (layer === \"All\" || layer === \"MainCanvas\") {\r\n            if (refresh) {\r\n                this.getFrame(\"frame0\").setChanged(true);\r\n            }\r\n            this.layout(this._mainContext, \"frame0\", 0, 0, this._mainCanvas.width, this._mainCanvas.height);\r\n            this.drawMain(\"frame0\", this._mainContext);\r\n        }\r\n        if (layer === \"All\" || layer === \"OverlayCanvas\") {\r\n            this._overlayContext.clearRect(0, 0, this._overlayCanvas.width, this._overlayCanvas.height);\r\n            this.drawOverlay(\"frame0\", this._overlayContext);\r\n        }\r\n    }\r\n\r\n\r\n    bindCanvas(layer, canvas) {\r\n        if (layer === \"main\") {\r\n            this._mainCanvas = canvas;\r\n            this._mainContext = canvas.getContext(\"2d\");\r\n        } else if (layer === \"overlay\") {\r\n            this._overlayCanvas = canvas;\r\n            this._overlayContext = canvas.getContext(\"2d\");\r\n            if (this._captureMouseWheelDirectly) {\r\n                $(this._overlayCanvas).bind('mousewheel', Control.mouseWheel);\r\n            }\r\n        }\r\n    }\r\n\r\n    getCaptureMouseWheelDirectly() {\r\n        return this._captureMouseWheelDirectly;\r\n    }\r\n\r\n    setCaptureMouseWheelDirectly(v) {\r\n        this._captureMouseWheelDirectly = v;\r\n        if (v)\r\n            $(this._overlayCanvas).bind('mousewheel', Control.mouseWheel);\r\n        else\r\n            $(this._overlayCanvas).unbind('mousewheel');\r\n    }\r\n\r\n    getChart(nouseParam) {\r\n        return this._chart[\"defaultFrame\"];\r\n    }\r\n\r\n    init() {\r\n        delete this._ranges['frame0.k0.indic1'];\r\n        delete this._ranges['frame0.k0.indic1Range'];\r\n        delete this._areas['frame0.k0.indic1'];\r\n        delete this._areas['frame0.k0.indic1Range'];\r\n        templates.DefaultTemplate.loadTemplate(\"frame0.k0\", \"\");\r\n        this.redraw('All', true);\r\n    }\r\n\r\n    setCurrentDrawingTool(paramTool) {\r\n        this._drawingTool = ChartManager.DrawingTool[paramTool];\r\n        this.setRunningMode(this._drawingTool);\r\n    }\r\n\r\n    getLanguage() {\r\n        return this._language;\r\n    }\r\n\r\n    setLanguage(lang) {\r\n        this._language = lang;\r\n    }\r\n\r\n    setThemeName(frameName, themeName) {\r\n        if (themeName === undefined)\r\n            themeName = \"Dark\";\r\n        let theme;\r\n        switch (themeName) {\r\n            case \"Light\":\r\n                theme = new themes.LightTheme();\r\n                break;\r\n            default:\r\n                themeName = \"Dark\";\r\n                theme = new themes.DarkTheme();\r\n                break;\r\n        }\r\n        this._themeName = themeName;\r\n        this.setTheme(frameName, theme);\r\n        this.getFrame(frameName).setChanged(true);\r\n    }\r\n\r\n    getChartStyle(dsName) {\r\n        let chartStyle = this._dsChartStyle[dsName];\r\n        if (chartStyle === undefined)\r\n            return \"CandleStick\";\r\n        return chartStyle;\r\n    }\r\n\r\n    setChartStyle(dsName, style) {\r\n        if (this._dsChartStyle[dsName] === style)\r\n            return;\r\n        let areaName = dsName + \".main\";\r\n        let dpName = areaName + \".main\";\r\n        let plotterName = areaName + \".main\";\r\n        let dp, plotter;\r\n        switch (style) {\r\n            case \"CandleStick\":\r\n            case \"CandleStickHLC\":\r\n            case \"OHLC\":\r\n                dp = this.getDataProvider(dpName);\r\n                if (dp === undefined || !Util.isInstance(dp, data_providers.MainDataProvider)) {\r\n                    dp = new data_providers.MainDataProvider(dpName);\r\n                    this.setDataProvider(dpName, dp);\r\n                    dp.updateData();\r\n                }\r\n                this.setMainIndicator(dsName, ChartSettings.get().charts.mIndic);\r\n                switch (style) {\r\n                    case \"CandleStick\":\r\n                        plotter = new plotters.CandlestickPlotter(plotterName);\r\n                        break;\r\n                    case \"CandleStickHLC\":\r\n                        plotter = new plotters.CandlestickHLCPlotter(plotterName);\r\n                        break;\r\n                    case \"OHLC\":\r\n                        plotter = new plotters.OHLCPlotter(plotterName);\r\n                        break;\r\n                }\r\n                this.setPlotter(plotterName, plotter);\r\n                plotter = new plotters.MinMaxPlotter(areaName + \".decoration\");\r\n                this.setPlotter(plotter.getName(), plotter);\r\n                break;\r\n            case \"Line\":\r\n                dp = new data_providers.IndicatorDataProvider(dpName);\r\n                this.setDataProvider(dp.getName(), dp);\r\n                dp.setIndicator(new indicators.HLCIndicator());\r\n                this.removeMainIndicator(dsName);\r\n                plotter = new plotters.IndicatorPlotter(plotterName);\r\n                this.setPlotter(plotterName, plotter);\r\n                this.removePlotter(areaName + \".decoration\");\r\n                break;\r\n        }\r\n        this.getArea(plotter.getAreaName()).setChanged(true);\r\n        this._dsChartStyle[dsName] = style;\r\n    }\r\n\r\n    setNormalMode() {\r\n        this._drawingTool = this._beforeDrawingTool;\r\n        $(\".chart_dropdown_data\").removeClass(\"chart_dropdown-hover\");\r\n        $(\"#chart_toolpanel .chart_toolpanel_button\").removeClass(\"selected\");\r\n        $(\"#chart_CrossCursor\").parent().addClass(\"selected\");\r\n        if (this._drawingTool === ChartManager.DrawingTool.Cursor) {\r\n            this.showCursor();\r\n            $(\"#mode a\").removeClass(\"selected\");\r\n            $(\"#chart_toolpanel .chart_toolpanel_button\").removeClass(\"selected\");\r\n            $(\"#chart_Cursor\").parent().addClass(\"selected\");\r\n        } else {\r\n            this.hideCursor();\r\n        }\r\n    }\r\n\r\n    setRunningMode(mode) {\r\n        let pds = this.getDataSource(\"frame0.k0\");\r\n        let curr_o = pds.getCurrentToolObject();\r\n        if (curr_o !== null && curr_o.state !== ctools.CToolObject.state.AfterDraw) {\r\n            pds.delToolObject();\r\n        }\r\n        if (pds.getToolObjectCount() > 10) {\r\n            this.setNormalMode();\r\n            return;\r\n        }\r\n        this._drawingTool = mode;\r\n        if (mode === ChartManager.DrawingTool.Cursor) {\r\n            this.showCursor();\r\n        } else {\r\n        }\r\n        switch (mode) {\r\n            case ChartManager.DrawingTool.Cursor: {\r\n                this._beforeDrawingTool = mode;\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.ArrowLine: {\r\n                pds.addToolObject(new ctools.CArrowLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.BandLine: {\r\n                pds.addToolObject(new ctools.CBandLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.BiParallelLine: {\r\n                pds.addToolObject(new ctools.CBiParallelLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.BiParallelRayLine: {\r\n                pds.addToolObject(new ctools.CBiParallelRayLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.CrossCursor: {\r\n                this._beforeDrawingTool = mode;\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.DrawFibFans: {\r\n                pds.addToolObject(new ctools.CFibFansObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.DrawFibRetrace: {\r\n                pds.addToolObject(new ctools.CFibRetraceObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.DrawLines: {\r\n                pds.addToolObject(new ctools.CStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.HoriRayLine: {\r\n                pds.addToolObject(new ctools.CHoriRayLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.HoriSegLine: {\r\n                pds.addToolObject(new ctools.CHoriSegLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.HoriStraightLine: {\r\n                pds.addToolObject(new ctools.CHoriStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.PriceLine: {\r\n                pds.addToolObject(new ctools.CPriceLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.RayLine: {\r\n                pds.addToolObject(new ctools.CRayLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.SegLine: {\r\n                pds.addToolObject(new ctools.CSegLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.StraightLine: {\r\n                pds.addToolObject(new ctools.CStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.TriParallelLine: {\r\n                pds.addToolObject(new ctools.CTriParallelLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n            case ChartManager.DrawingTool.VertiStraightLine: {\r\n                pds.addToolObject(new ctools.CVertiStraightLineObject(\"frame0.k0\"));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getTitle(dsName) {\r\n        return this._titles[dsName];\r\n    }\r\n\r\n    setTitle(dsName, title) {\r\n        this._titles[dsName] = title;\r\n    }\r\n\r\n    setCurrentDataSource(dsName, dsAlias) {\r\n        let cached = this.getCachedDataSource(dsAlias);\r\n        if (cached !== undefined && cached !== null) {\r\n            this.setDataSource(dsName, cached, true);\r\n        } else {\r\n            cached = new data_sources.MainDataSource(dsAlias);\r\n            this.setDataSource(dsName, cached, true);\r\n            this.setCachedDataSource(dsAlias, cached);\r\n        }\r\n    }\r\n\r\n    getDataSource(name) {\r\n        return this._dataSources[name];\r\n    }\r\n\r\n    setDataSource(name, ds, forceRefresh) {\r\n        this._dataSources[name] = ds;\r\n        if (forceRefresh) {\r\n            this.updateData(name, null);\r\n        }\r\n    }\r\n\r\n    getCachedDataSource(name) {\r\n        return this._dataSourceCache[name];\r\n    }\r\n\r\n    setCachedDataSource(name, ds) {\r\n        this._dataSourceCache[name] = ds;\r\n    }\r\n\r\n    getDataProvider(name) {\r\n        return this._dataProviders[name];\r\n    }\r\n\r\n    setDataProvider(name, dp) {\r\n        this._dataProviders[name] = dp;\r\n    }\r\n\r\n    removeDataProvider(name) {\r\n        delete this._dataProviders[name];\r\n    }\r\n\r\n    getFrame(name) {\r\n        return this._frames[name];\r\n    }\r\n\r\n    setFrame(name, frame) {\r\n        this._frames[name] = frame;\r\n    }\r\n\r\n    removeFrame(name) {\r\n        delete this._frames[name];\r\n    }\r\n\r\n    getArea(name) {\r\n        return this._areas[name];\r\n    }\r\n\r\n    setArea(name, area) {\r\n        this._areas[name] = area;\r\n    }\r\n\r\n    removeArea(name) {\r\n        delete this._areas[name];\r\n    }\r\n\r\n    getTimeline(name) {\r\n        return this._timelines[name];\r\n    }\r\n\r\n    setTimeline(name, timeline) {\r\n        this._timelines[name] = timeline;\r\n    }\r\n\r\n    removeTimeline(name) {\r\n        delete this._timelines[name];\r\n    }\r\n\r\n    getRange(name) {\r\n        return this._ranges[name];\r\n    }\r\n\r\n    setRange(name, range) {\r\n        this._ranges[name] = range;\r\n    }\r\n\r\n    removeRange(name) {\r\n        delete this._ranges[name];\r\n    }\r\n\r\n    getPlotter(name) {\r\n        return this._plotters[name];\r\n    }\r\n\r\n    setPlotter(name, plotter) {\r\n        this._plotters[name] = plotter;\r\n    }\r\n\r\n    removePlotter(name) {\r\n        delete this._plotters[name];\r\n    }\r\n\r\n    getTheme(name) {\r\n        return this._themes[name];\r\n    }\r\n\r\n    setTheme(name, theme) {\r\n        this._themes[name] = theme;\r\n    }\r\n\r\n    getFrameMousePos(name, point) {\r\n        if (this._frameMousePos[name] !== undefined) {\r\n            point.x = this._frameMousePos[name].x;\r\n            point.y = this._frameMousePos[name].y;\r\n        } else {\r\n            point.x = -1;\r\n            point.y = -1;\r\n        }\r\n    }\r\n\r\n    setFrameMousePos(name, px, py) {\r\n        this._frameMousePos[name] = {x: px, y: py};\r\n    }\r\n\r\n    drawArea(context, area, plotterNames) {\r\n        let areaName = area.getNameObject().getCompAt(2);\r\n        if (areaName === \"timeline\") {\r\n            if (area.getHeight() < 20)\r\n                return;\r\n        } else {\r\n            if (area.getHeight() < 30)\r\n                return;\r\n        }\r\n        if (area.getWidth() < 30)\r\n            return;\r\n        areaName = area.getName();\r\n        let plotter;\r\n        let i, cnt = plotterNames.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            plotter = this._plotters[areaName + plotterNames[i]];\r\n            if (plotter !== undefined)\r\n                plotter.Draw(context);\r\n        }\r\n    }\r\n\r\n    drawAreaMain(context, area) {\r\n        let ds = this._dataSources[area.getDataSourceName()];\r\n        let plotterNames;\r\n        if (ds.getDataCount() < 1)\r\n            plotterNames = [\".background\"];\r\n        else\r\n            plotterNames = [\".background\", \".grid\", \".main\", \".secondary\"];\r\n        this.drawArea(context, area, plotterNames);\r\n        area.setChanged(false);\r\n    }\r\n\r\n    drawAreaOverlay(context, area) {\r\n        let ds = this._dataSources[area.getDataSourceName()];\r\n        let plotterNames;\r\n        if (ds.getDataCount() < 1)\r\n            plotterNames = [\".selection\"];\r\n        else\r\n            plotterNames = [\".decoration\", \".selection\", \".info\", \".tool\"];\r\n        this.drawArea(context, area, plotterNames);\r\n    }\r\n\r\n    drawMain(frameName, context) {\r\n        let drawn = false;\r\n\r\n        if (!drawn) {\r\n            for (let it in this._areas) {\r\n                if (this._areas[it].getFrameName() === frameName && !Util.isInstance(this._areas[it], areas.ChartAreaGroup))\r\n                    this.drawAreaMain(context, this._areas[it]);\r\n            }\r\n        }\r\n        let e;\r\n        for (let i in this._timelines) {\r\n            e = this._timelines[i];\r\n            if (e.getFrameName() === frameName)\r\n                e.setUpdated(false);\r\n        }\r\n        for (let i in this._ranges) {\r\n            e = this._ranges[i];\r\n            if (e.getFrameName() === frameName)\r\n                e.setUpdated(false);\r\n        }\r\n        for (let i in this._areas) {\r\n            e = this._areas[i];\r\n            if (e.getFrameName() === frameName)\r\n                e.setChanged(false);\r\n        }\r\n    }\r\n\r\n    drawOverlay(frameName, context) {\r\n        for (let n in this._areas) {\r\n            let area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup))\r\n                if (area.getFrameName() === frameName) {\r\n                    area.drawGrid(context);\r\n                }\r\n        }\r\n        for (let n in this._areas) {\r\n            let area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup) === false)\r\n                if (area.getFrameName() === frameName) {\r\n                    this.drawAreaOverlay(context, area);\r\n                }\r\n        }\r\n    }\r\n\r\n    updateData(dsName, data) {\r\n        let ds = this.getDataSource(dsName);\r\n        if (ds === undefined || ds === null) {\r\n            return;\r\n        }\r\n        if (data !== undefined && data !== null) {\r\n            if (!ds.update(data)) {\r\n                return false;\r\n            }\r\n            if (ds.getUpdateMode() === data_sources.DataSource.UpdateMode.DoNothing)\r\n                return true;\r\n        } else {\r\n            ds.setUpdateMode(data_sources.DataSource.UpdateMode.Refresh);\r\n        }\r\n        let timeline = this.getTimeline(dsName);\r\n        if (timeline !== undefined && timeline !== null) {\r\n            timeline.update();\r\n        }\r\n        if (ds.getDataCount() < 1) {\r\n            return true;\r\n        }\r\n        let dpNames = [\".main\", \".secondary\"];\r\n        let area, areaName;\r\n        for (let n in this._areas) {\r\n            area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup)) {\r\n                continue;\r\n            }\r\n            if (area.getDataSourceName() !== dsName) {\r\n                continue;\r\n            }\r\n            areaName = area.getName();\r\n            for (let i = 0; i < dpNames.length; i++) {\r\n                let dp = this.getDataProvider(areaName + dpNames[i]);\r\n                if (dp !== undefined && dp !== null) {\r\n                    dp.updateData();\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    updateRange(dsName) {\r\n        let ds = this.getDataSource(dsName);\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let dpNames = [\".main\", \".secondary\"];\r\n        let area, areaName;\r\n        for (let n in this._areas) {\r\n            area = this._areas[n];\r\n            if (Util.isInstance(area, areas.ChartAreaGroup))\r\n                continue;\r\n            if (area.getDataSourceName() !== dsName)\r\n                continue;\r\n            areaName = area.getName();\r\n            for (let i = 0; i < dpNames.length; i++) {\r\n                let dp = this.getDataProvider(areaName + dpNames[i]);\r\n                if (dp !== undefined && dp !== null) {\r\n                    dp.updateRange();\r\n                }\r\n            }\r\n            let timeline = this.getTimeline(dsName);\r\n            if (timeline !== undefined && timeline.getMaxItemCount() > 0) {\r\n                let range = this.getRange(areaName);\r\n                if (range !== undefined && range !== null) {\r\n                    range.update();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    layout(context, frameName, left, top, right, bottom) {\r\n        let frame = this.getFrame(frameName);\r\n        frame.measure(context, right - left, bottom - top);\r\n        frame.layout(left, top, right, bottom);\r\n        for (let n in this._timelines) {\r\n            let e = this._timelines[n];\r\n            if (e.getFrameName() === frameName)\r\n                e.onLayout();\r\n        }\r\n        for (let n in this._dataSources) {\r\n            if (n.substring(0, frameName.length) === frameName)\r\n                this.updateRange(n);\r\n        }\r\n    }\r\n\r\n    SelectRange(pArea, y) {\r\n        for (let ee in this._ranges) {\r\n            let _1 = this._ranges[ee].getAreaName();\r\n            let _2 = pArea.getName();\r\n            if (_1 === _2)\r\n                this._ranges[ee].selectAt(y);\r\n            else\r\n                this._ranges[ee].unselect();\r\n        }\r\n    }\r\n\r\n    scale(s) {\r\n        if (this._highlightedFrame === null)\r\n            return;\r\n        let hiArea = this._highlightedFrame.getHighlightedArea();\r\n        if (this.getRange(hiArea.getName()) !== undefined) {\r\n            let dsName = hiArea.getDataSourceName();\r\n            let timeline = this.getTimeline(dsName);\r\n            if (timeline !== null) {\r\n                timeline.scale(s);\r\n                this.updateRange(dsName);\r\n            }\r\n        }\r\n    }\r\n\r\n    showCursor(cursor) {\r\n        if (cursor === undefined)\r\n            cursor = 'default';\r\n        this._mainCanvas.style.cursor = cursor;\r\n        this._overlayCanvas.style.cursor = cursor;\r\n    }\r\n\r\n    hideCursor() {\r\n        this._mainCanvas.style.cursor = 'none';\r\n        this._overlayCanvas.style.cursor = 'none';\r\n    }\r\n\r\n    showCrossCursor(area, x, y) {\r\n        let e = this.getRange(area.getName());\r\n        if (e !== undefined) {\r\n            e.selectAt(y);\r\n            e = this.getTimeline(area.getDataSourceName());\r\n            if (e !== undefined)\r\n                if (e.selectAt(x))\r\n                    return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hideCrossCursor(exceptTimeline) {\r\n        if (exceptTimeline !== null && exceptTimeline !== undefined) {\r\n            for (let n in this._timelines) {\r\n                let e = this._timelines[n];\r\n                if (e !== exceptTimeline) {\r\n                    e.unselect();\r\n                }\r\n            }\r\n        } else {\r\n            for (let n in this._timelines)\r\n                this._timelines[n].unselect();\r\n        }\r\n        for (let n in this._ranges)\r\n            this._ranges[n].unselect();\r\n    }\r\n\r\n    clearHighlight() {\r\n        if (this._highlightedFrame !== null && this._highlightedFrame !== undefined) {\r\n            this._highlightedFrame.highlight(null);\r\n            this._highlightedFrame = null;\r\n        }\r\n    }\r\n\r\n    onToolMouseMove(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseMoveEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onToolMouseDown(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseDownEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onToolMouseUp(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseUpEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onToolMouseDrag(frameName, x, y) {\r\n        let ret = false;\r\n        frameName += \".\";\r\n        for (let n in this._dataSources) {\r\n            if (n.indexOf(frameName) === 0) {\r\n                let ds = this._dataSources[n];\r\n                if (Util.isInstance(ds, data_sources.MainDataSource))\r\n                    if (ds.toolManager.acceptMouseDownMoveEvent(x, y))\r\n                        ret = true;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    onMouseMove(frameName, x, y, drag) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        this.setFrameMousePos(frameName, x, y);\r\n        this.hideCrossCursor();\r\n        if (this._highlightedFrame !== frame)\r\n            this.clearHighlight();\r\n        if (this._capturingMouseArea !== null && this._capturingMouseArea !== undefined) {\r\n            this._capturingMouseArea.onMouseMove(x, y);\r\n            return;\r\n        }\r\n        let _areas = frame.contains(x, y);\r\n        if (_areas === null)\r\n            return;\r\n        let a, i, cnt = _areas.length;\r\n        for (i = cnt - 1; i >= 0; i--) {\r\n            a = _areas[i];\r\n            a = a.onMouseMove(x, y);\r\n            if (a !== null) {\r\n                if (!Util.isInstance(a, areas.ChartAreaGroup)) {\r\n                    frame.highlight(a);\r\n                    this._highlightedFrame = frame;\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    onMouseLeave(frameName, x, y, move) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        this.setFrameMousePos(frameName, x, y);\r\n        this.hideCrossCursor();\r\n        this.clearHighlight();\r\n        if (this._capturingMouseArea !== null && this._capturingMouseArea !== undefined) {\r\n            this._capturingMouseArea.onMouseLeave(x, y);\r\n            this._capturingMouseArea = null;\r\n        }\r\n        this._dragStarted = false;\r\n    }\r\n\r\n    onMouseDown(frameName, x, y) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        let areas = frame.contains(x, y);\r\n        if (areas === null)\r\n            return;\r\n        let a, i, cnt = areas.length;\r\n        for (i = cnt - 1; i >= 0; i--) {\r\n            a = areas[i];\r\n            a = a.onMouseDown(x, y);\r\n            if (a !== null) {\r\n                this._capturingMouseArea = a;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    onMouseUp(frameName, x, y) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        if (this._capturingMouseArea) {\r\n            if (this._capturingMouseArea.onMouseUp(x, y) === null && this._dragStarted === false) {\r\n                if (this._selectedFrame !== null && this._selectedFrame !== undefined && this._selectedFrame !== frame)\r\n                    this._selectedFrame.select(null);\r\n                if (this._capturingMouseArea.isSelected()) {\r\n                    if (!this._captureMouseWheelDirectly)\r\n                        $(this._overlayCanvas).unbind('mousewheel');\r\n                    frame.select(null);\r\n                    this._selectedFrame = null;\r\n                } else {\r\n                    if (this._selectedFrame !== frame)\r\n                        if (!this._captureMouseWheelDirectly)\r\n                            $(this._overlayCanvas).bind('mousewheel', Control.mouseWheel);\r\n                    frame.select(this._capturingMouseArea);\r\n                    this._selectedFrame = frame;\r\n                }\r\n            }\r\n            this._capturingMouseArea = null;\r\n            this._dragStarted = false;\r\n        }\r\n    }\r\n\r\n    deleteToolObject() {\r\n        let pDPTool = this.getDataSource(\"frame0.k0\");\r\n        let selectObject = pDPTool.getSelectToolObjcet();\r\n        if (selectObject !== null)\r\n            pDPTool.delSelectToolObject();\r\n        let currentObject = pDPTool.getCurrentToolObject();\r\n        if (currentObject !== null && currentObject.getState() !== ctools.CToolObject.state.AfterDraw) {\r\n            pDPTool.delToolObject();\r\n        }\r\n        this.setNormalMode();\r\n    }\r\n\r\n    unloadTemplate(frameName) {\r\n        let frame = this.getFrame(frameName);\r\n        if (frame === undefined)\r\n            return;\r\n        for (let n in this._dataSources) {\r\n            if (n.match(frameName + \".\"))\r\n                delete this._dataSources[n];\r\n        }\r\n        for (let n in this._dataProviders) {\r\n            if (this._dataProviders[n].getFrameName() === frameName)\r\n                delete this._dataProviders[n];\r\n        }\r\n        delete this._frames[frameName];\r\n        for (let n in this._areas) {\r\n            if (this._areas[n].getFrameName() === frameName)\r\n                delete this._areas[n];\r\n        }\r\n        for (let n in this._timelines) {\r\n            if (this._timelines[n].getFrameName() === frameName)\r\n                delete this._timelines[n];\r\n        }\r\n        for (let n in this._ranges) {\r\n            if (this._ranges[n].getFrameName() === frameName)\r\n                delete this._ranges[n];\r\n        }\r\n        for (let n in this._plotters) {\r\n            if (this._plotters[n].getFrameName() === frameName)\r\n                delete this._plotters[n];\r\n        }\r\n        delete this._themes[frameName];\r\n        delete this._frameMousePos[frameName];\r\n    }\r\n\r\n    createIndicatorAndRange(areaName, indicName, notLoadSettings) {\r\n        let indic, range;\r\n        switch (indicName) {\r\n            case \"MA\":\r\n                indic = new indicators.MAIndicator();\r\n                range = new ranges.PositiveRange(areaName);\r\n                break;\r\n            case \"EMA\":\r\n                indic = new indicators.EMAIndicator();\r\n                range = new ranges.PositiveRange(areaName);\r\n                break;\r\n            case \"VOLUME\":\r\n                indic = new indicators.VOLUMEIndicator();\r\n                range = new ranges.ZeroBasedPositiveRange(areaName);\r\n                break;\r\n            case \"MACD\":\r\n                indic = new indicators.MACDIndicator();\r\n                range = new ranges.ZeroCenteredRange(areaName);\r\n                break;\r\n            case \"DMI\":\r\n                indic = new indicators.DMIIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"DMA\":\r\n                indic = new indicators.DMAIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"TRIX\":\r\n                indic = new indicators.TRIXIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"BRAR\":\r\n                indic = new indicators.BRARIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"VR\":\r\n                indic = new indicators.VRIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"OBV\":\r\n                indic = new indicators.OBVIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"EMV\":\r\n                indic = new indicators.EMVIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"RSI\":\r\n                indic = new indicators.RSIIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"WR\":\r\n                indic = new indicators.WRIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"SAR\":\r\n                indic = new indicators.SARIndicator();\r\n                range = new ranges.PositiveRange(areaName);\r\n                break;\r\n            case \"KDJ\":\r\n                indic = new indicators.KDJIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            case \"ROC\":\r\n                indic = new indicators.ROCIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"MTM\":\r\n                indic = new indicators.MTMIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"BOLL\":\r\n                indic = new indicators.BOLLIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"PSY\":\r\n                indic = new indicators.PSYIndicator();\r\n                range = new ranges.Range(areaName);\r\n                break;\r\n            case \"StochRSI\":\r\n                indic = new indicators.STOCHRSIIndicator();\r\n                range = new ranges.PercentageRange(areaName);\r\n                break;\r\n            default:\r\n                return null;\r\n        }\r\n        if (!notLoadSettings) {\r\n            indic.setParameters(ChartSettings.get().indics[indicName]);\r\n        }\r\n        return {\"indic\": indic, \"range\": range};\r\n    }\r\n\r\n    setMainIndicator(dsName, indicName) {\r\n        let areaName = dsName + \".main\";\r\n        let dp = this.getDataProvider(areaName + \".main\");\r\n        if (dp === undefined || !Util.isInstance(dp, data_providers.MainDataProvider))\r\n            return false;\r\n        let indic;\r\n        switch (indicName) {\r\n            case \"MA\":\r\n                indic = new indicators.MAIndicator();\r\n                break;\r\n            case \"EMA\":\r\n                indic = new indicators.EMAIndicator();\r\n                break;\r\n            case \"BOLL\":\r\n                indic = new indicators.BOLLIndicator();\r\n                break;\r\n            case \"SAR\":\r\n                indic = new indicators.SARIndicator();\r\n                break;\r\n            default:\r\n                return false;\r\n        }\r\n        indic.setParameters(ChartSettings.get().indics[indicName]);\r\n        let indicDpName = areaName + \".secondary\";\r\n        let indicDp = this.getDataProvider(indicDpName);\r\n        if (indicDp === undefined) {\r\n            indicDp = new data_providers.IndicatorDataProvider(indicDpName);\r\n            this.setDataProvider(indicDp.getName(), indicDp);\r\n        }\r\n        indicDp.setIndicator(indic);\r\n        let plotter = this.getPlotter(indicDpName);\r\n        if (plotter === undefined) {\r\n            plotter = new plotters.IndicatorPlotter(indicDpName);\r\n            this.setPlotter(plotter.getName(), plotter);\r\n        }\r\n        this.getArea(areaName).setChanged(true);\r\n        return true;\r\n    }\r\n\r\n    setIndicator(areaName, indicName) {\r\n        let area = this.getArea(areaName);\r\n        if (area === null || area === undefined || area.getNameObject().getCompAt(2) === \"main\") {\r\n            return false;\r\n        }\r\n        let dp = this.getDataProvider(areaName + \".secondary\");\r\n        if (dp === null || dp === undefined || !Util.isInstance(dp, data_providers.IndicatorDataProvider)) {\r\n            return false;\r\n        }\r\n        let ret = this.createIndicatorAndRange(areaName, indicName);\r\n        if (ret === null || ret === undefined) {\r\n            return false;\r\n        }\r\n        let indic = ret.indic;\r\n        let range = ret.range;\r\n        this.removeDataProvider(areaName + \".main\");\r\n        this.removePlotter(areaName + \".main\");\r\n        this.removeRange(areaName);\r\n        this.removePlotter(areaName + \"Range.decoration\");\r\n        dp.setIndicator(indic);\r\n        this.setRange(areaName, range);\r\n        range.setPaddingTop(20);\r\n        range.setPaddingBottom(4);\r\n        range.setMinInterval(20);\r\n        if (Util.isInstance(indic, indicators.VOLUMEIndicator)) {\r\n            let plotter = new plotters.LastVolumePlotter(areaName + \"Range.decoration\");\r\n            this.setPlotter(plotter.getName(), plotter);\r\n        } else if (Util.isInstance(indic, indicators.BOLLIndicator) || Util.isInstance(indic, indicators.SARIndicator)) {\r\n            let dp = new data_providers.MainDataProvider(areaName + \".main\");\r\n            this.setDataProvider(dp.getName(), dp);\r\n            dp.updateData();\r\n            let plotter = new plotters.OHLCPlotter(areaName + \".main\");\r\n            this.setPlotter(plotter.getName(), plotter);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    removeMainIndicator(dsName) {\r\n        let areaName = dsName + \".main\";\r\n        let indicDpName = areaName + \".secondary\";\r\n        let indicDp = this.getDataProvider(indicDpName);\r\n        if (indicDp === undefined || !Util.isInstance(indicDp, data_providers.IndicatorDataProvider))\r\n            return;\r\n        this.removeDataProvider(indicDpName);\r\n        this.removePlotter(indicDpName);\r\n        this.getArea(areaName).setChanged(true);\r\n    }\r\n\r\n    removeIndicator(areaName) {\r\n        let area = this.getArea(areaName);\r\n        if (area === undefined || area.getNameObject().getCompAt(2) === \"main\")\r\n            return;\r\n        let dp = this.getDataProvider(areaName + \".secondary\");\r\n        if (dp === undefined || !Util.isInstance(dp, data_providers.IndicatorDataProvider))\r\n            return;\r\n        let rangeAreaName = areaName + \"Range\";\r\n        let rangeArea = this.getArea(rangeAreaName);\r\n        if (rangeArea === undefined)\r\n            return;\r\n        let tableLayout = this.getArea(area.getDataSourceName() + \".charts\");\r\n        if (tableLayout === undefined)\r\n            return;\r\n        tableLayout.removeArea(area);\r\n        this.removeArea(areaName);\r\n        tableLayout.removeArea(rangeArea);\r\n        this.removeArea(rangeAreaName);\r\n        for (let n in this._dataProviders) {\r\n            if (this._dataProviders[n].getAreaName() === areaName)\r\n                this.removeDataProvider(n);\r\n        }\r\n        for (let n in this._ranges) {\r\n            if (this._ranges[n].getAreaName() === areaName)\r\n                this.removeRange(n);\r\n        }\r\n        for (let n in this._plotters) {\r\n            if (this._plotters[n].getAreaName() === areaName)\r\n                this.removePlotter(n);\r\n        }\r\n        for (let n in this._plotters) {\r\n            if (this._plotters[n].getAreaName() === rangeAreaName)\r\n                this.removePlotter(n);\r\n        }\r\n    }\r\n\r\n    getIndicatorParameters(indicName) {\r\n        let indic = this._fakeIndicators[indicName];\r\n        if (indic === undefined) {\r\n            let ret = this.createIndicatorAndRange(\"\", indicName);\r\n            if (ret === null)\r\n                return null;\r\n            this._fakeIndicators[indicName] = indic = ret.indic;\r\n        }\r\n        let params = [];\r\n        let i, cnt = indic.getParameterCount();\r\n        for (i = 0; i < cnt; i++)\r\n            params.push(indic.getParameterAt(i));\r\n        return params;\r\n    }\r\n\r\n    setIndicatorParameters(indicName, params) {\r\n        let n, indic;\r\n        for (n in this._dataProviders) {\r\n            let dp = this._dataProviders[n];\r\n            if (Util.isInstance(dp, data_providers.IndicatorDataProvider) === false)\r\n                continue;\r\n            indic = dp.getIndicator();\r\n            if (indic.getName() === indicName) {\r\n                indic.setParameters(params);\r\n                dp.refresh();\r\n                this.getArea(dp.getAreaName()).setChanged(true);\r\n            }\r\n        }\r\n        indic = this._fakeIndicators[indicName];\r\n        if (indic === undefined) {\r\n            let ret = this.createIndicatorAndRange(\"\", indicName, true);\r\n            if (ret === null)\r\n                return;\r\n            this._fakeIndicators[indicName] = indic = ret.indic;\r\n        }\r\n        indic.setParameters(params);\r\n    }\r\n\r\n    getIndicatorAreaName(dsName, index) {\r\n        let tableLayout = this.getArea(dsName + \".charts\");\r\n        let cnt = tableLayout.getAreaCount() >> 1;\r\n        if (index < 0 || index >= cnt)\r\n            return \"\";\r\n        return tableLayout.getAreaAt(index << 1).getName();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/chart_manager.js","import {CName} from './cname'\r\n\r\nexport class NamedObject {\r\n\r\n    constructor(name) {\r\n        this._name = name;\r\n        this._nameObj = new CName(name);\r\n    }\r\n\r\n    getFrameName() {\r\n        return this._nameObj.getName(0);\r\n    }\r\n\r\n    getDataSourceName() {\r\n        return this._nameObj.getName(1);\r\n    }\r\n\r\n    getAreaName() {\r\n        return this._nameObj.getName(2);\r\n    }\r\n\r\n    getName() {\r\n        return this._nameObj.getName(-1);\r\n    }\r\n\r\n    getNameObject() {\r\n        return this._nameObj;\r\n    }\r\n\r\n    getRectCrossPt(rect, startPt, endPt) {\r\n        let crossPt;\r\n        let firstPt = {x: -1, y: -1};\r\n        let secondPt = {x: -1, y: -1};\r\n        let xdiff = endPt.x - startPt.x;\r\n        let ydiff = endPt.y - startPt.y;\r\n        if (Math.abs(xdiff) < 2) {\r\n            firstPt = {x: startPt.x, y: rect.top};\r\n            secondPt = {x: endPt.x, y: rect.bottom};\r\n            crossPt = [firstPt, secondPt];\r\n            return crossPt;\r\n        }\r\n        let k = ydiff / xdiff;\r\n        secondPt.x = rect.right;\r\n        secondPt.y = startPt.y + (rect.right - startPt.x) * k;\r\n        firstPt.x = rect.left;\r\n        firstPt.y = startPt.y + (rect.left - startPt.x) * k;\r\n        crossPt = [firstPt, secondPt];\r\n        return crossPt;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/named_object.js","import {NamedObject} from './named_object'\r\nimport {CToolManager} from './ctool_manager'\r\nimport Kline from './kline'\r\n\r\nexport class DataSource extends NamedObject {\r\n\r\n    static UpdateMode = {\r\n        DoNothing: 0,\r\n        Refresh: 1,\r\n        Update: 2,\r\n        Append: 3\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    getUpdateMode() {\r\n        return this._updateMode;\r\n    }\r\n\r\n    setUpdateMode(mode) {\r\n        this._updateMode = mode;\r\n    }\r\n\r\n    getCacheSize() {\r\n        return 0;\r\n    }\r\n\r\n    getDataCount() {\r\n        return 0;\r\n    }\r\n\r\n    getDataAt(index) {\r\n        return this._dataItems[index];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainDataSource extends DataSource {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._erasedCount = 0;\r\n        this._dataItems = [];\r\n        this._decimalDigits = 0;\r\n        this.toolManager = new CToolManager(name);\r\n    }\r\n\r\n    getCacheSize() {\r\n        return this._dataItems.length;\r\n    }\r\n\r\n    getDataCount() {\r\n        return this._dataItems.length;\r\n    }\r\n\r\n    getUpdatedCount() {\r\n        return this._updatedCount;\r\n    }\r\n\r\n    getAppendedCount() {\r\n        return this._appendedCount;\r\n    }\r\n\r\n    getErasedCount() {\r\n        return this._erasedCount;\r\n    }\r\n\r\n    getDecimalDigits() {\r\n        return this._decimalDigits;\r\n    }\r\n\r\n    calcDecimalDigits(v) {\r\n        let str = \"\" + v;\r\n        let i = str.indexOf('.');\r\n        if (i < 0) {\r\n            return 0;\r\n        }\r\n        return (str.length - 1) - i;\r\n    }\r\n\r\n    getLastDate() {\r\n        let count = this.getDataCount();\r\n        if (count < 1) {\r\n            return -1;\r\n        }\r\n        return this.getDataAt(count - 1).date;\r\n    }\r\n\r\n    getDataAt(index) {\r\n        return this._dataItems[index];\r\n    }\r\n\r\n    update(data) {\r\n        this._updatedCount = 0;\r\n        this._appendedCount = 0;\r\n        this._erasedCount = 0;\r\n        let len = this._dataItems.length;\r\n        if (len > 0) {\r\n            let lastIndex = len - 1;\r\n            let lastItem = this._dataItems[lastIndex];\r\n            let e, i, cnt = data.length;\r\n            for (i = 0; i < cnt; i++) {\r\n                e = data[i];\r\n                if (e[0] === lastItem.date) {\r\n                    if (lastItem.open === e[1] &&\r\n                        lastItem.high === e[2] &&\r\n                        lastItem.low === e[3] &&\r\n                        lastItem.close === e[4] &&\r\n                        lastItem.volume === e[5]) {\r\n                        this.setUpdateMode(DataSource.UpdateMode.DoNothing);\r\n                    } else {\r\n                        this.setUpdateMode(DataSource.UpdateMode.Update);\r\n                        this._dataItems[lastIndex] = {\r\n                            date: e[0],\r\n                            open: e[1],\r\n                            high: e[2],\r\n                            low: e[3],\r\n                            close: e[4],\r\n                            volume: e[5]\r\n                        };\r\n                        this._updatedCount++;\r\n                    }\r\n                    i++;\r\n                    if (i < cnt) {\r\n                        this.setUpdateMode(DataSource.UpdateMode.Append);\r\n                        for (; i < cnt; i++, this._appendedCount++) {\r\n                            e = data[i];\r\n                            this._dataItems.push({\r\n                                date: e[0],\r\n                                open: e[1],\r\n                                high: e[2],\r\n                                low: e[3],\r\n                                close: e[4],\r\n                                volume: e[5]\r\n                            });\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n            }\r\n            if (cnt < Kline.instance.limit) {\r\n                this.setUpdateMode(DataSource.UpdateMode.DoNothing);\r\n                return false;\r\n            }\r\n        }\r\n        this.setUpdateMode(DataSource.UpdateMode.Refresh);\r\n        this._dataItems = [];\r\n        let d, n, e, i, cnt = data.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = data[i];\r\n            for (n = 1; n <= 4; n++) {\r\n                d = this.calcDecimalDigits(e[n]);\r\n                if (this._decimalDigits < d)\r\n                    this._decimalDigits = d;\r\n            }\r\n            this._dataItems.push({\r\n                date: e[0],\r\n                open: e[1],\r\n                high: e[2],\r\n                low: e[3],\r\n                close: e[4],\r\n                volume: e[5]\r\n            });\r\n        }\r\n        return true;\r\n    }\r\n\r\n    select(id) {\r\n        this.toolManager.selecedObject = id;\r\n    }\r\n\r\n    unselect() {\r\n        this.toolManager.selecedObject = -1;\r\n    }\r\n\r\n    addToolObject(toolObject) {\r\n        this.toolManager.addToolObject(toolObject);\r\n    }\r\n\r\n    delToolObject() {\r\n        this.toolManager.delCurrentObject();\r\n    }\r\n\r\n    getToolObject(index) {\r\n        return this.toolManager.getToolObject(index);\r\n    }\r\n\r\n    getToolObjectCount() {\r\n        return this.toolManager.toolObjects.length;\r\n    }\r\n\r\n    getCurrentToolObject() {\r\n        return this.toolManager.getCurrentObject();\r\n    }\r\n\r\n    getSelectToolObjcet() {\r\n        return this.toolManager.getSelectedObject();\r\n    }\r\n\r\n    delSelectToolObject() {\r\n        this.toolManager.delSelectedObject();\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/data_sources.js","import $ from 'jquery'\r\nimport 'jquery-mousewheel'\r\nimport tpl from '../view/tpl.html'\r\nimport { ChartManager } from './chart_manager'\r\nimport { ChartSettings } from './chart_settings'\r\nimport { Control } from './control'\r\nimport { Template } from './templates'\r\n\r\nexport default class Kline {\r\n\r\n  static created = false;\r\n  static instance = null;\r\n\r\n  constructor(option) {\r\n    this.element = '#kline_container';\r\n    this.chartMgr = null;\r\n    this.G_HTTP_REQUEST = null;\r\n    this.timer = null;\r\n    this.buttonDown = false;\r\n    this.init = false;\r\n    this.requestParam = '';\r\n    this.data = {};\r\n    this.width = 1200;\r\n    this.height = 650;\r\n    this.symbol = '';\r\n    this.symbolName = '';\r\n    this.range = null;\r\n    this.url = '';\r\n    this.limit = 1000;\r\n    this.type = 'poll';\r\n    this.subscribePath = '';\r\n    this.sendPath = '';\r\n    this.stompClient = null;\r\n    this.intervalTime = 5000;\r\n    this.debug = true;\r\n    this.language = 'zh-cn';\r\n    this.theme = 'dark';\r\n    this.ranges = ['1w', '1d', '1h', '30m', '15m', '5m', '1m', 'line'];\r\n    this.socketConnected = false;\r\n    this.enableSockjs = true;\r\n    this.reverseColor = false;\r\n    this.isSized = false;\r\n    this.paused = false;\r\n    this.subscribed = null;\r\n\r\n    this.periodMap = {\r\n      '01w': 7 * 86400 * 1000,\r\n      '03d': 3 * 86400 * 1000,\r\n      '01d': 86400 * 1000,\r\n      '12h': 12 * 3600 * 1000,\r\n      '06h': 6 * 3600 * 1000,\r\n      '04h': 4 * 3600 * 1000,\r\n      '02h': 2 * 3600 * 1000,\r\n      '01h': 3600 * 1000,\r\n      '30m': 30 * 60 * 1000,\r\n      '15m': 15 * 60 * 1000,\r\n      '05m': 5 * 60 * 1000,\r\n      '03m': 3 * 60 * 1000,\r\n      '01m': 60 * 1000,\r\n      'line': 60 * 1000\r\n    };\r\n\r\n    this.tagMapPeriod = {\r\n      '1w': '01w',\r\n      '3d': '03d',\r\n      '1d': '01d',\r\n      '12h': '12h',\r\n      '6h': '06h',\r\n      '4h': '04h',\r\n      '2h': '02h',\r\n      '1h': '01h',\r\n      '30m': '30m',\r\n      '15m': '15m',\r\n      '5m': '05m',\r\n      '3m': '03m',\r\n      '1m': '01m',\r\n      'line': 'line'\r\n    };\r\n\r\n    Object.assign(this, option);\r\n\r\n    if (!Kline.created) {\r\n      Kline.instance = this;\r\n      Kline.created = true;\r\n    }\r\n    return Kline.instance;\r\n  }\r\n\r\n\r\n  /*********************************************\r\n   * Methods\r\n   *********************************************/\r\n\r\n  draw() {\r\n    Kline.chartMgr = new ChartManager();\r\n\r\n    let view = $.parseHTML(tpl);\r\n    for (let k in this.ranges) {\r\n      let res = $(view).find('[name=\"' + this.ranges[k] + '\"]');\r\n      res.each(function (i, e) {\r\n        $(e).attr('style', 'display:inline-block');\r\n      });\r\n    }\r\n    $(this.element).html(view);\r\n\r\n    setInterval(Control.refreshFunction, this.intervalTime);\r\n    if (this.type === 'stomp') {\r\n      Control.socketConnect();\r\n    }\r\n\r\n    this.registerMouseEvent();\r\n    ChartManager.instance.bindCanvas('main', document.getElementById('chart_mainCanvas'));\r\n    ChartManager.instance.bindCanvas('overlay', document.getElementById('chart_overlayCanvas'));\r\n    Control.refreshTemplate();\r\n    Control.onSize(this.width, this.height);\r\n    Control.readCookie();\r\n\r\n    this.setTheme(this.theme);\r\n    this.setLanguage(this.language);\r\n\r\n    $(this.element).css({ visibility: 'visible' });\r\n  }\r\n\r\n  resize(width, height) {\r\n    this.width = width;\r\n    this.height = height;\r\n    Control.onSize(this.width, this.height);\r\n  }\r\n\r\n  setSymbol(symbol, symbolName) {\r\n    this.symbol = symbol;\r\n    this.symbolName = symbolName;\r\n    Control.switchSymbol(symbol);\r\n    this.onSymbolChange(symbol, symbolName);\r\n  }\r\n\r\n  setTheme(style) {\r\n    this.theme = style;\r\n    Control.switchTheme(style);\r\n  }\r\n\r\n  setLanguage(lang) {\r\n    this.language = lang;\r\n    Control.chartSwitchLanguage(lang);\r\n  }\r\n\r\n  setShowTrade(isShow) {\r\n    this.showTrade = isShow;\r\n    if (isShow) {\r\n      $('.trade_container').show();\r\n    } else {\r\n      $('.trade_container').hide();\r\n    }\r\n    Control.onSize(this.width, this.height);\r\n  }\r\n\r\n  toggleTrade() {\r\n    if (!this.showTrade) {\r\n      this.showTrade = true;\r\n      $('.trade_container').show();\r\n    } else {\r\n      this.showTrade = false;\r\n      $('.trade_container').hide();\r\n    }\r\n    Control.onSize(this.width, this.height);\r\n  }\r\n\r\n  setIntervalTime(intervalTime) {\r\n    this.intervalTime = intervalTime;\r\n    if (this.debug) {\r\n      console.log('DEBUG: interval time changed to ' + intervalTime);\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.debug) {\r\n      console.log('DEBUG: kline paused');\r\n    }\r\n    this.paused = true;\r\n  }\r\n\r\n  resend() {\r\n    if (this.debug) {\r\n      console.log('DEBUG: kline continue');\r\n    }\r\n    this.paused = false;\r\n    Control.requestData(true);\r\n  }\r\n\r\n  connect() {\r\n    if (this.type !== 'stomp') {\r\n      if (this.debug) {\r\n        console.log('DEBUG: this is for stomp type');\r\n      }\r\n      return;\r\n    }\r\n    Control.socketConnect();\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.type !== 'stomp') {\r\n      if (this.debug) {\r\n        console.log('DEBUG: this is for stomp type');\r\n      }\r\n      return;\r\n    }\r\n    if (this.stompClient) {\r\n      this.stompClient.disconnect();\r\n      this.socketConnected = false;\r\n    }\r\n    if (this.debug) {\r\n      console.log('DEBUG: socket disconnected');\r\n    }\r\n  }\r\n\r\n\r\n  /*********************************************\r\n   * Events\r\n   *********************************************/\r\n\r\n  onResize(width, height) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: chart resized to width: ' + width + ' height: ' + height);\r\n    }\r\n  }\r\n\r\n  onLangChange(lang) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: language changed to ' + lang);\r\n    }\r\n  }\r\n\r\n  onSymbolChange(symbol, symbolName) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: symbol changed to ' + symbol + ' ' + symbolName);\r\n    }\r\n  }\r\n\r\n  onThemeChange(theme) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: themes changed to : ' + theme);\r\n    }\r\n  }\r\n\r\n  onRangeChange(range) {\r\n    if (this.debug) {\r\n      console.log('DEBUG: range changed to ' + range);\r\n    }\r\n  }\r\n\r\n  registerMouseEvent() {\r\n    $(document).ready(function () {\r\n      function __resize() {\r\n        if (navigator.userAgent.indexOf('Firefox') >= 0) {\r\n          setTimeout(function () {\r\n            Control.onSize(this.width, this.height)\r\n          }, 200);\r\n        } else {\r\n          Control.onSize(this.width, this.height)\r\n        }\r\n      }\r\n\r\n      $('#chart_overlayCanvas').bind('contextmenu', function (e) {\r\n        e.cancelBubble = true;\r\n        e.returnValue = false;\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        return false;\r\n      });\r\n      $('.chart_container .chart_dropdown .chart_dropdown_t')\r\n        .mouseover(function () {\r\n          let container = $('.chart_container');\r\n          let title = $(this);\r\n          let dropdown = title.next();\r\n          let containerLeft = container.offset().left;\r\n          let titleLeft = title.offset().left;\r\n          let containerWidth = container.width();\r\n          let titleWidth = title.width();\r\n          let dropdownWidth = dropdown.width();\r\n          let d = ((dropdownWidth - titleWidth) / 2) << 0;\r\n          if (titleLeft - d < containerLeft + 4) {\r\n            d = titleLeft - containerLeft - 4;\r\n          } else if (titleLeft + titleWidth + d > containerLeft + containerWidth - 4) {\r\n            d += titleLeft + titleWidth + d - (containerLeft + containerWidth - 4) + 19;\r\n          } else {\r\n            d += 4;\r\n          }\r\n          dropdown.css({ 'margin-left': -d });\r\n          title.addClass('chart_dropdown-hover');\r\n          dropdown.addClass('chart_dropdown-hover');\r\n        })\r\n        .mouseout(function () {\r\n          $(this).next().removeClass('chart_dropdown-hover');\r\n          $(this).removeClass('chart_dropdown-hover');\r\n        });\r\n      $('.chart_dropdown_data')\r\n        .mouseover(function () {\r\n          $(this).addClass('chart_dropdown-hover');\r\n          $(this).prev().addClass('chart_dropdown-hover');\r\n        })\r\n        .mouseout(function () {\r\n          $(this).prev().removeClass('chart_dropdown-hover');\r\n          $(this).removeClass('chart_dropdown-hover');\r\n        });\r\n      $('#chart_btn_parameter_settings').click(function () {\r\n        $('#chart_parameter_settings').addClass('clicked');\r\n        $('.chart_dropdown_data').removeClass('chart_dropdown-hover');\r\n        $('#chart_parameter_settings').find('th').each(function () {\r\n          let name = $(this).html();\r\n          let index = 0;\r\n          let tmp = ChartSettings.get();\r\n          let value = tmp.indics[name];\r\n          $(this.nextElementSibling).find('input').each(function () {\r\n            if (value !== null && index < value.length) {\r\n              $(this).val(value[index]);\r\n            }\r\n            index++;\r\n          });\r\n        });\r\n      });\r\n      $('#close_settings').click(function () {\r\n        $('#chart_parameter_settings').removeClass('clicked');\r\n      });\r\n      $('.chart_container .chart_toolbar_tabgroup a')\r\n        .click(function () {\r\n          Control.switchPeriod($(this).parent().attr('name'));\r\n\r\n        });\r\n      $('#chart_toolbar_periods_vert ul a').click(function () {\r\n\r\n        Control.switchPeriod($(this).parent().attr('name'));\r\n\r\n      });\r\n\r\n      $('.market_chooser ul a').click(function () {\r\n        Control.switchSymbol($(this).attr('name'));\r\n      });\r\n\r\n      $('#chart_show_tools')\r\n        .click(function () {\r\n          if ($(this).hasClass('selected')) {\r\n            Control.switchTools('off');\r\n          } else {\r\n            Control.switchTools('on');\r\n          }\r\n        });\r\n      $('#chart_toolpanel .chart_toolpanel_button')\r\n        .click(function () {\r\n          $('.chart_dropdown_data').removeClass('chart_dropdown-hover');\r\n          $('#chart_toolpanel .chart_toolpanel_button').removeClass('selected');\r\n          $(this).addClass('selected');\r\n          let name = $(this).children().attr('name');\r\n          Kline.instance.chartMgr.setRunningMode(ChartManager.DrawingTool[name]);\r\n        });\r\n      $('#chart_show_indicator')\r\n        .click(function () {\r\n          if ($(this).hasClass('selected')) {\r\n            Control.switchIndic('off');\r\n          } else {\r\n            Control.switchIndic('on');\r\n          }\r\n        });\r\n      $('#chart_tabbar li a')\r\n        .click(function () {\r\n          $('#chart_tabbar li a').removeClass('selected');\r\n          $(this).addClass('selected');\r\n          let name = $(this).attr('name');\r\n          let tmp = ChartSettings.get();\r\n          tmp.charts.indics[1] = name;\r\n          ChartSettings.save();\r\n          if (Template.displayVolume === false)\r\n            ChartManager.instance.getChart().setIndicator(1, name);\r\n          else\r\n            ChartManager.instance.getChart().setIndicator(2, name);\r\n        });\r\n      $('#chart_select_chart_style a')\r\n        .click(function () {\r\n          $('#chart_select_chart_style a').removeClass('selected');\r\n          $(this).addClass('selected');\r\n          let tmp = ChartSettings.get();\r\n          tmp.charts.chartStyle = $(this)[0].innerHTML;\r\n          ChartSettings.save();\r\n          let mgr = ChartManager.instance;\r\n          mgr.setChartStyle('frame0.k0', $(this).html());\r\n          mgr.redraw();\r\n        });\r\n      $('#chart_dropdown_themes li').click(function () {\r\n        $('#chart_dropdown_themes li a').removeClass('selected');\r\n        let name = $(this).attr('name');\r\n        if (name === 'chart_themes_dark') {\r\n          Control.switchTheme('dark');\r\n        } else if (name === 'chart_themes_light') {\r\n          Control.switchTheme('light');\r\n        }\r\n      });\r\n      $('#chart_select_main_indicator a')\r\n        .click(function () {\r\n          $('#chart_select_main_indicator a').removeClass('selected');\r\n          $(this).addClass('selected');\r\n          let name = $(this).attr('name');\r\n          let tmp = ChartSettings.get();\r\n          tmp.charts.mIndic = name;\r\n          ChartSettings.save();\r\n          let mgr = ChartManager.instance;\r\n          if (!mgr.setMainIndicator('frame0.k0', name))\r\n            mgr.removeMainIndicator('frame0.k0');\r\n          mgr.redraw();\r\n        });\r\n      $('#chart_toolbar_theme a').click(function () {\r\n        $('#chart_toolbar_theme a').removeClass('selected');\r\n        if ($(this).attr('name') === 'dark') {\r\n          Control.switchTheme('dark');\r\n        } else if ($(this).attr('name') === 'light') {\r\n          Control.switchTheme('light');\r\n        }\r\n      });\r\n      $('#chart_select_theme li a').click(function () {\r\n        $('#chart_select_theme a').removeClass('selected');\r\n        if ($(this).attr('name') === 'dark') {\r\n          Control.switchTheme('dark');\r\n        } else if ($(this).attr('name') === 'light') {\r\n          Control.switchTheme('light');\r\n        }\r\n      });\r\n      $('#chart_enable_tools li a').click(function () {\r\n        $('#chart_enable_tools a').removeClass('selected');\r\n        if ($(this).attr('name') === 'on') {\r\n          Control.switchTools('on');\r\n        } else if ($(this).attr('name') === 'off') {\r\n          Control.switchTools('off');\r\n        }\r\n      });\r\n      $('#chart_enable_indicator li a').click(function () {\r\n        $('#chart_enable_indicator a').removeClass('selected');\r\n        if ($(this).attr('name') === 'on') {\r\n          Control.switchIndic('on');\r\n        } else if ($(this).attr('name') === 'off') {\r\n          Control.switchIndic('off');\r\n        }\r\n      });\r\n      $('#chart_language_setting_div li a').click(function () {\r\n\r\n        $('#chart_language_setting_div a').removeClass('selected');\r\n        if ($(this).attr('name') === 'zh-cn') {\r\n          Control.chartSwitchLanguage('zh-cn');\r\n        } else if ($(this).attr('name') === 'en-us') {\r\n\r\n          Control.chartSwitchLanguage('en-us');\r\n        } else if ($(this).attr('name') === 'zh-tw') {\r\n          Control.chartSwitchLanguage('zh-tw');\r\n        }\r\n      });\r\n      $(document).keyup(function (e) {\r\n        if (e.keyCode === 46) {\r\n          ChartManager.instance.deleteToolObject();\r\n          ChartManager.instance.redraw('OverlayCanvas', false);\r\n        }\r\n      });\r\n      $('#clearCanvas').click(function () {\r\n        let pDPTool = ChartManager.instance.getDataSource('frame0.k0');\r\n        let len = pDPTool.getToolObjectCount();\r\n        for (let i = 0; i < len; i++) {\r\n          pDPTool.delToolObject();\r\n        }\r\n        ChartManager.instance.redraw('OverlayCanvas', false);\r\n      });\r\n      $('#chart_overlayCanvas')\r\n        .mousemove(function (e) {\r\n          let r = e.target.getBoundingClientRect();\r\n          let x = e.clientX - r.left;\r\n          let y = e.clientY - r.top;\r\n          let mgr = ChartManager.instance;\r\n          if (Kline.instance.buttonDown === true) {\r\n            mgr.onMouseMove('frame0', x, y, true);\r\n            mgr.redraw('All', false);\r\n          } else {\r\n            mgr.onMouseMove('frame0', x, y, false);\r\n            mgr.redraw('OverlayCanvas');\r\n          }\r\n        })\r\n        .mouseleave(function (e) {\r\n          let r = e.target.getBoundingClientRect();\r\n          let x = e.clientX - r.left;\r\n          let y = e.clientY - r.top;\r\n          let mgr = ChartManager.instance;\r\n          mgr.onMouseLeave('frame0', x, y, false);\r\n          mgr.redraw('OverlayCanvas');\r\n        })\r\n        .mouseup(function (e) {\r\n          if (e.which !== 1) {\r\n            return;\r\n          }\r\n          Kline.instance.buttonDown = false;\r\n          let r = e.target.getBoundingClientRect();\r\n          let x = e.clientX - r.left;\r\n          let y = e.clientY - r.top;\r\n          let mgr = ChartManager.instance;\r\n          mgr.onMouseUp('frame0', x, y);\r\n          mgr.redraw('All');\r\n        })\r\n        .mousedown(function (e) {\r\n          if (e.which !== 1) {\r\n            ChartManager.instance.deleteToolObject();\r\n            ChartManager.instance.redraw('OverlayCanvas', false);\r\n            return;\r\n          }\r\n          Kline.instance.buttonDown = true;\r\n          let r = e.target.getBoundingClientRect();\r\n          let x = e.clientX - r.left;\r\n          let y = e.clientY - r.top;\r\n          ChartManager.instance.onMouseDown('frame0', x, y);\r\n        });\r\n      $('#chart_parameter_settings :input').change(function () {\r\n        let name = $(this).attr('name');\r\n        let index = 0;\r\n        let valueArray = [];\r\n        let mgr = ChartManager.instance;\r\n        $('#chart_parameter_settings :input').each(function () {\r\n          if ($(this).attr('name') === name) {\r\n            if ($(this).val() !== '' && $(this).val() !== null && $(this).val() !== undefined) {\r\n              let i = parseInt($(this).val());\r\n              valueArray.push(i);\r\n            }\r\n            index++;\r\n          }\r\n        });\r\n        if (valueArray.length !== 0) {\r\n          mgr.setIndicatorParameters(name, valueArray);\r\n          let value = mgr.getIndicatorParameters(name);\r\n          let cookieArray = [];\r\n          index = 0;\r\n          $('#chart_parameter_settings :input').each(function () {\r\n            if ($(this).attr('name') === name) {\r\n              if ($(this).val() !== '' && $(this).val() !== null && $(this).val() !== undefined) {\r\n                $(this).val(value[index].getValue());\r\n                cookieArray.push(value[index].getValue());\r\n              }\r\n              index++;\r\n            }\r\n          });\r\n          let tmp = ChartSettings.get();\r\n          tmp.indics[name] = cookieArray;\r\n          ChartSettings.save();\r\n          mgr.redraw('All', false);\r\n        }\r\n      });\r\n      $('#chart_parameter_settings button').click(function () {\r\n        let name = $(this).parents('tr').children('th').html();\r\n        let index = 0;\r\n        let value = ChartManager.instance.getIndicatorParameters(name);\r\n        let valueArray = [];\r\n        $(this).parent().prev().children('input').each(function () {\r\n          if (value !== null && index < value.length) {\r\n            $(this).val(value[index].getDefaultValue());\r\n            valueArray.push(value[index].getDefaultValue());\r\n          }\r\n          index++;\r\n        });\r\n        ChartManager.instance.setIndicatorParameters(name, valueArray);\r\n        let tmp = ChartSettings.get();\r\n        tmp.indics[name] = valueArray;\r\n        ChartSettings.save();\r\n        ChartManager.instance.redraw('All', false);\r\n      });\r\n\r\n\r\n      $('body').on('click', '#sizeIcon', function () {\r\n        Kline.instance.isSized = !Kline.instance.isSized;\r\n        if (Kline.instance.isSized) {\r\n          $(Kline.instance.element).css({\r\n            position: 'fixed',\r\n            left: '0',\r\n            right: '0',\r\n            top: '0',\r\n            bottom: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            zIndex: '10000'\r\n          });\r\n\r\n          Control.onSize();\r\n          $('html,body').css({ width: '100%', height: '100%', overflow: 'hidden' });\r\n        } else {\r\n          $(Kline.instance.element).attr('style', '');\r\n\r\n          $('html,body').attr('style', '');\r\n\r\n          Control.onSize(Kline.instance.width, Kline.instance.height);\r\n          $(Kline.instance.element).css({\r\n            visibility: 'visible',\r\n            height: Kline.instance.height + 'px'\r\n          });\r\n        }\r\n      });\r\n\r\n    })\r\n\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/kline.js","import {ChartManager} from './chart_manager'\r\n\r\nexport class ChartSettings {\r\n\r\n    static checkVersion() {\r\n        if (ChartSettings._data.ver < 2) {\r\n            ChartSettings._data.ver = 2;\r\n            let charts = ChartSettings._data.charts;\r\n            charts.period_weight = {};\r\n            charts.period_weight['line'] = 8;\r\n            charts.period_weight['1min'] = 7;\r\n            charts.period_weight['5min'] = 6;\r\n            charts.period_weight['15min'] = 5;\r\n            charts.period_weight['30min'] = 4;\r\n            charts.period_weight['1hour'] = 3;\r\n            charts.period_weight['1day'] = 2;\r\n            charts.period_weight['1week'] = 1;\r\n            charts.period_weight['3min'] = 0;\r\n            charts.period_weight['2hour'] = 0;\r\n            charts.period_weight['4hour'] = 0;\r\n            charts.period_weight['6hour'] = 0;\r\n            charts.period_weight['12hour'] = 0;\r\n            charts.period_weight['3day'] = 0;\r\n        }\r\n        if (ChartSettings._data.ver < 3) {\r\n            ChartSettings._data.ver = 3;\r\n            let charts = ChartSettings._data.charts;\r\n            charts.areaHeight = [];\r\n        }\r\n    }\r\n\r\n    static get () {\r\n        if (ChartSettings._data === undefined) {\r\n            ChartSettings.init();\r\n            ChartSettings.load();\r\n            ChartSettings.checkVersion();\r\n        }\r\n        return ChartSettings._data;\r\n    };\r\n\r\n    static init() {\r\n        let _indic_param = {};\r\n        let _name = ['MA', 'EMA', 'VOLUME', 'MACD', 'KDJ', 'StochRSI', 'RSI', 'DMI', 'OBV', 'BOLL', 'DMA', 'TRIX', 'BRAR', 'VR', 'EMV', 'WR', 'ROC', 'MTM', 'PSY'];\r\n        for (let i = 0; i < _name.length; i++) {\r\n            let _value = ChartManager.instance.createIndicatorAndRange('', _name[i], true);\r\n            if (_value === null) continue;\r\n            _indic_param[_name[i]] = [];\r\n            let param = _value.indic.getParameters();\r\n            for (let j = 0; j < param.length; j++) {\r\n                _indic_param[_name[i]].push(param[j]);\r\n            }\r\n        }\r\n        let _chart_style = 'CandleStick';\r\n        let _m_indic = 'MA';\r\n        let _indic = ['VOLUME', 'MACD'];\r\n        let _range = '15m';\r\n        let _frame = {};\r\n        _frame.chartStyle = _chart_style;\r\n        _frame.mIndic = _m_indic;\r\n        _frame.indics = _indic;\r\n        _frame.indicsStatus = 'open';\r\n        _frame.period = _range;\r\n        ChartSettings._data = {\r\n            ver: 1,\r\n            charts: _frame,\r\n            indics: _indic_param,\r\n            theme: \"Dark\"\r\n        };\r\n        ChartSettings.checkVersion();\r\n    }\r\n\r\n    static load() {\r\n        if (document.cookie.length <= 0)\r\n            return;\r\n        let start = document.cookie.indexOf(\"chartSettings=\");\r\n        if (start < 0)\r\n            return;\r\n        start += \"chartSettings=\".length;\r\n        let end = document.cookie.indexOf(\";\", start);\r\n        if (end < 0)\r\n            end = document.cookie.length;\r\n        let json = unescape(document.cookie.substring(start, end));\r\n        ChartSettings._data = JSON.parse(json);\r\n    }\r\n\r\n    static save() {\r\n        let exdate = new Date();\r\n        exdate.setDate(exdate.getDate() + 2);\r\n        document.cookie = \"chartSettings=\" + escape(JSON.stringify(ChartSettings._data)) +\r\n            \";expires=\" + exdate.toGMTString();\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/chart_settings.js","export class Util {\r\n\r\n    static fromFloat(v, fractionDigits) {\r\n        let text = v.toFixed(fractionDigits);\r\n        for (let i = text.length - 1; i >= 0; i--) {\r\n            if (text[i] === '.')\r\n                return text.substring(0, i);\r\n            if (text[i] !== '0')\r\n                return text.substring(0, i + 1);\r\n        }\r\n    };\r\n\r\n    static formatTime(v) {\r\n        return (v < 10) ? \"0\" + v.toString() : v.toString();\r\n    }\r\n\r\n    static isInstance(obj, clazz) {\r\n        if (obj === null || obj === undefined) {\r\n            return false;\r\n        }\r\n        return obj instanceof clazz;\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/util.js","import Kline from './kline'\r\n\r\nexport class Theme {\r\n\r\n    static theme_color_id = 0;\r\n    static theme_font_id = 0;\r\n\r\n    static Color = {\r\n        Positive: Theme.theme_color_id++,\r\n        Negative: Theme.theme_color_id++,\r\n        PositiveDark: Theme.theme_color_id++,\r\n        NegativeDark: Theme.theme_color_id++,\r\n        Unchanged: Theme.theme_color_id++,\r\n        Background: Theme.theme_color_id++,\r\n        Cursor: Theme.theme_color_id++,\r\n        RangeMark: Theme.theme_color_id++,\r\n        Indicator0: Theme.theme_color_id++,\r\n        Indicator1: Theme.theme_color_id++,\r\n        Indicator2: Theme.theme_color_id++,\r\n        Indicator3: Theme.theme_color_id++,\r\n        Indicator4: Theme.theme_color_id++,\r\n        Indicator5: Theme.theme_color_id++,\r\n        Grid0: Theme.theme_color_id++,\r\n        Grid1: Theme.theme_color_id++,\r\n        Grid2: Theme.theme_color_id++,\r\n        Grid3: Theme.theme_color_id++,\r\n        Grid4: Theme.theme_color_id++,\r\n        TextPositive: Theme.theme_color_id++,\r\n        TextNegative: Theme.theme_color_id++,\r\n        Text0: Theme.theme_color_id++,\r\n        Text1: Theme.theme_color_id++,\r\n        Text2: Theme.theme_color_id++,\r\n        Text3: Theme.theme_color_id++,\r\n        Text4: Theme.theme_color_id++,\r\n        LineColorNormal: Theme.theme_color_id++,\r\n        LineColorSelected: Theme.theme_color_id++,\r\n        CircleColorFill: Theme.theme_color_id++,\r\n        CircleColorStroke: Theme.theme_color_id++\r\n    };\r\n\r\n    static Font = {\r\n        Default: Theme.theme_font_id++\r\n    };\r\n\r\n    _colors;\r\n    _fonts;\r\n\r\n    getColor(which) {\r\n        return this._colors[which];\r\n    }\r\n\r\n    getFont = function (which) {\r\n        return this._fonts[which];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DarkTheme extends Theme {\r\n\r\n    constructor() {\r\n        super();\r\n        this._colors = [];\r\n\r\n        if (Kline.instance.reverseColor) {\r\n            this._colors[Theme.Color.Positive] = \"#990e0e\";\r\n            this._colors[Theme.Color.Negative] = \"#19b34c\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#3b0e08\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#004718\";\r\n        } else {\r\n            this._colors[Theme.Color.Positive] = \"#19b34c\";\r\n            this._colors[Theme.Color.Negative] = \"#990e0e\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#004718\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#3b0e08\";\r\n        }\r\n        this._colors[Theme.Color.Unchanged] = \"#fff\";\r\n        this._colors[Theme.Color.Background] = \"#0a0a0a\";\r\n        this._colors[Theme.Color.Cursor] = \"#aaa\";\r\n        this._colors[Theme.Color.RangeMark] = \"#f9ee30\";\r\n        this._colors[Theme.Color.Indicator0] = \"#ddd\";\r\n        this._colors[Theme.Color.Indicator1] = \"#f9ee30\";\r\n        this._colors[Theme.Color.Indicator2] = \"#f600ff\";\r\n        this._colors[Theme.Color.Indicator3] = \"#6bf\";\r\n        this._colors[Theme.Color.Indicator4] = \"#a5cf81\";\r\n        this._colors[Theme.Color.Indicator5] = \"#e18b89\";\r\n        this._colors[Theme.Color.Grid0] = \"#333\";\r\n        this._colors[Theme.Color.Grid1] = \"#444\";\r\n        this._colors[Theme.Color.Grid2] = \"#666\";\r\n        this._colors[Theme.Color.Grid3] = \"#888\";\r\n        this._colors[Theme.Color.Grid4] = \"#aaa\";\r\n        this._colors[Theme.Color.TextPositive] = \"#1bd357\";\r\n        this._colors[Theme.Color.TextNegative] = \"#ff6f5e\";\r\n        this._colors[Theme.Color.Text0] = \"#444\";\r\n        this._colors[Theme.Color.Text1] = \"#666\";\r\n        this._colors[Theme.Color.Text2] = \"#888\";\r\n        this._colors[Theme.Color.Text3] = \"#aaa\";\r\n        this._colors[Theme.Color.Text4] = \"#ccc\";\r\n        this._colors[Theme.Color.LineColorNormal] = \"#a6a6a6\";\r\n        this._colors[Theme.Color.LineColorSelected] = \"#ffffff\";\r\n        this._colors[Theme.Color.CircleColorFill] = \"#000000\";\r\n        this._colors[Theme.Color.CircleColorStroke] = \"#ffffff\";\r\n        this._fonts = [];\r\n        this._fonts[Theme.Font.Default] = \"12px Tahoma\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LightTheme extends Theme {\r\n\r\n    constructor() {\r\n        super();\r\n        this._colors = [];\r\n\r\n        if (Kline.instance.reverseColor) {\r\n            this._colors[Theme.Color.Positive] = \"#db5542\";\r\n            this._colors[Theme.Color.Negative] = \"#53b37b\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#ffadaa\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#66d293\";\r\n        } else {\r\n            this._colors[Theme.Color.Positive] = \"#53b37b\";\r\n            this._colors[Theme.Color.Negative] = \"#db5542\";\r\n            this._colors[Theme.Color.PositiveDark] = \"#66d293\";\r\n            this._colors[Theme.Color.NegativeDark] = \"#ffadaa\";\r\n        }\r\n        this._colors[Theme.Color.Unchanged] = \"#fff\";\r\n        this._colors[Theme.Color.Background] = \"#fff\";\r\n        this._colors[Theme.Color.Cursor] = \"#aaa\";\r\n        this._colors[Theme.Color.RangeMark] = \"#f27935\";\r\n        this._colors[Theme.Color.Indicator0] = \"#2fd2b2\";\r\n        this._colors[Theme.Color.Indicator1] = \"#ffb400\";\r\n        this._colors[Theme.Color.Indicator2] = \"#e849b9\";\r\n        this._colors[Theme.Color.Indicator3] = \"#1478c8\";\r\n        this._colors[Theme.Color.Grid0] = \"#eee\";\r\n        this._colors[Theme.Color.Grid1] = \"#afb1b3\";\r\n        this._colors[Theme.Color.Grid2] = \"#ccc\";\r\n        this._colors[Theme.Color.Grid3] = \"#bbb\";\r\n        this._colors[Theme.Color.Grid4] = \"#aaa\";\r\n        this._colors[Theme.Color.TextPositive] = \"#53b37b\";\r\n        this._colors[Theme.Color.TextNegative] = \"#db5542\";\r\n        this._colors[Theme.Color.Text0] = \"#ccc\";\r\n        this._colors[Theme.Color.Text1] = \"#aaa\";\r\n        this._colors[Theme.Color.Text2] = \"#888\";\r\n        this._colors[Theme.Color.Text3] = \"#666\";\r\n        this._colors[Theme.Color.Text4] = \"#444\";\r\n        this._colors[Theme.Color.LineColorNormal] = \"#8c8c8c\";\r\n        this._colors[Theme.Color.LineColorSelected] = \"#393c40\";\r\n        this._colors[Theme.Color.CircleColorFill] = \"#ffffff\";\r\n        this._colors[Theme.Color.CircleColorStroke] = \"#393c40\";\r\n        this._fonts = [];\r\n        this._fonts[Theme.Font.Default] = \"12px Tahoma\";\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/themes.js","import {ChartManager} from './chart_manager'\r\nimport {ChartSettings} from './chart_settings'\r\nimport * as data_sources from './data_sources'\r\nimport * as data_providers from './data_providers'\r\nimport * as areas from './areas'\r\nimport * as plotters from './plotters'\r\nimport {Timeline} from './timeline'\r\nimport {CName} from './cname'\r\nimport * as layouts from './layouts'\r\nimport * as themes from './themes'\r\nimport * as ranges from './ranges'\r\n\r\nexport class Template {\r\n\r\n    static displayVolume = true;\r\n\r\n    static createCandlestickDataSource(dsAlias) {\r\n        return new data_sources.MainDataSource(dsAlias);\r\n    }\r\n\r\n    static createDataSource(dsName, dsAlias, createFunc) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr.getCachedDataSource(dsAlias) === null)\r\n            mgr.setCachedDataSource(dsAlias, createFunc(dsAlias));\r\n        mgr.setCurrentDataSource(dsName, dsAlias);\r\n        mgr.updateData(dsName, null);\r\n    }\r\n\r\n    static createTableComps(dsName) {\r\n        this.createMainChartComps(dsName);\r\n        if (this.displayVolume) {\r\n            this.createIndicatorChartComps(dsName, \"VOLUME\");\r\n        }\r\n        this.createTimelineComps(dsName);\r\n    }\r\n\r\n    static createMainChartComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let tableLayout = mgr.getArea(dsName + \".charts\");\r\n        let areaName = dsName + \".main\";\r\n        let rangeAreaName = areaName + \"Range\";\r\n        let area = new areas.MainArea(areaName);\r\n        mgr.setArea(areaName, area);\r\n        tableLayout.addArea(area);\r\n        let rangeArea = new areas.MainRangeArea(rangeAreaName);\r\n        mgr.setArea(rangeAreaName, rangeArea);\r\n        tableLayout.addArea(rangeArea);\r\n        let dp = new data_providers.MainDataProvider(areaName + \".main\");\r\n        mgr.setDataProvider(dp.getName(), dp);\r\n        mgr.setMainIndicator(dsName, \"MA\");\r\n        let range = new ranges.MainRange(areaName);\r\n        mgr.setRange(range.getName(), range);\r\n        range.setPaddingTop(28);\r\n        range.setPaddingBottom(12);\r\n        let plotter = new plotters.MainAreaBackgroundPlotter(areaName + \".background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CGridPlotter(areaName + \".grid\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CandlestickPlotter(areaName + \".main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.MinMaxPlotter(areaName + \".decoration\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.MainInfoPlotter(areaName + \".info\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.SelectionPlotter(areaName + \".selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CDynamicLinePlotter(areaName + \".tool\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeAreaBackgroundPlotter(areaName + \"Range.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.COrderGraphPlotter(areaName + \"Range.grid\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangePlotter(areaName + \"Range.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeSelectionPlotter(areaName + \"Range.selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.LastClosePlotter(areaName + \"Range.decoration\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createIndicatorChartComps(dsName, indicName) {\r\n        let mgr = ChartManager.instance;\r\n        let tableLayout = mgr.getArea(dsName + \".charts\");\r\n        let areaName = dsName + \".indic\" + tableLayout.getNextRowId();\r\n        let rangeAreaName = areaName + \"Range\";\r\n        let area = new areas.IndicatorArea(areaName);\r\n        mgr.setArea(areaName, area);\r\n        tableLayout.addArea(area);\r\n        let rowIndex = tableLayout.getAreaCount() >> 1;\r\n        let heights = ChartSettings.get().charts.areaHeight;\r\n        if (heights.length > rowIndex) {\r\n            let a, i;\r\n            for (i = 0; i < rowIndex; i++) {\r\n                a = tableLayout.getAreaAt(i << 1);\r\n                a.setTop(0);\r\n                a.setBottom(heights[i]);\r\n            }\r\n            area.setTop(0);\r\n            area.setBottom(heights[rowIndex]);\r\n        }\r\n        let rangeArea = new areas.IndicatorRangeArea(rangeAreaName);\r\n        mgr.setArea(rangeAreaName, rangeArea);\r\n        tableLayout.addArea(rangeArea);\r\n        let dp = new data_providers.IndicatorDataProvider(areaName + \".secondary\");\r\n        mgr.setDataProvider(dp.getName(), dp);\r\n        if (mgr.setIndicator(areaName, indicName) === false) {\r\n            mgr.removeIndicator(areaName);\r\n            return;\r\n        }\r\n        let plotter = new plotters.MainAreaBackgroundPlotter(areaName + \".background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CGridPlotter(areaName + \".grid\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.IndicatorPlotter(areaName + \".secondary\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.IndicatorInfoPlotter(areaName + \".info\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.SelectionPlotter(areaName + \".selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeAreaBackgroundPlotter(areaName + \"Range.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangePlotter(areaName + \"Range.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.RangeSelectionPlotter(areaName + \"Range.selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createTimelineComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let plotter;\r\n        let timeline = new Timeline(dsName);\r\n        mgr.setTimeline(timeline.getName(), timeline);\r\n        plotter = new plotters.TimelineAreaBackgroundPlotter(dsName + \".timeline.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.TimelinePlotter(dsName + \".timeline.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.TimelineSelectionPlotter(dsName + \".timeline.selection\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createLiveOrderComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let plotter;\r\n        plotter = new plotters.BackgroundPlotter(dsName + \".main.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CLiveOrderPlotter(dsName + \".main.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n    static createLiveTradeComps(dsName) {\r\n        let mgr = ChartManager.instance;\r\n        let plotter;\r\n        plotter = new plotters.BackgroundPlotter(dsName + \".main.background\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n        plotter = new plotters.CLiveTradePlotter(dsName + \".main.main\");\r\n        mgr.setPlotter(plotter.getName(), plotter);\r\n    }\r\n\r\n}\r\n\r\nexport class DefaultTemplate extends Template {\r\n\r\n    static loadTemplate(dsName, dsAlias) {\r\n        let mgr = ChartManager.instance;\r\n        let settings = ChartSettings.get();\r\n        let frameName = (new CName(dsName)).getCompAt(0);\r\n        mgr.unloadTemplate(frameName);\r\n        this.createDataSource(dsName, dsAlias, this.createCandlestickDataSource);\r\n        let frame = new layouts.DockableLayout(frameName);\r\n        mgr.setFrame(frame.getName(), frame);\r\n        mgr.setArea(frame.getName(), frame);\r\n        frame.setGridColor(themes.Theme.Color.Grid1);\r\n        let area = new areas.TimelineArea(dsName + \".timeline\");\r\n        mgr.setArea(area.getName(), area);\r\n        frame.addArea(area);\r\n        area.setDockStyle(areas.ChartArea.DockStyle.Bottom);\r\n        area.Measuring.addHandler(area, TemplateMeasuringHandler.onMeasuring);\r\n        let tableLayout = new layouts.TableLayout(dsName + \".charts\");\r\n        mgr.setArea(tableLayout.getName(), tableLayout);\r\n        tableLayout.setDockStyle(areas.ChartArea.DockStyle.Fill);\r\n        frame.addArea(tableLayout);\r\n        this.createTableComps(dsName);\r\n        mgr.setThemeName(frameName, settings.theme);\r\n        return mgr;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TemplateMeasuringHandler {\r\n\r\n    static onMeasuring(sender, args) {\r\n        let width = args.Width;\r\n        let height = args.Height;\r\n        let areaName = sender.getNameObject().getCompAt(2);\r\n        if (areaName === \"timeline\") {\r\n            sender.setMeasuredDimension(width, 22);\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/templates.js","import { ChartManager } from './chart_manager'\r\nimport { ChartSettings } from './chart_settings'\r\nimport Kline from './kline'\r\nimport { MEvent } from './mevent'\r\nimport { DefaultTemplate, Template } from './templates'\r\n\r\n\r\nexport class Control {\r\n\r\n  static refreshCounter = 0;\r\n  static refreshHandler = null;\r\n\r\n  static refreshFunction() {\r\n    Control.refreshCounter++;\r\n    let lang = ChartManager.instance.getLanguage();\r\n    if (Control.refreshCounter > 3600) {\r\n      let num = Number(Control.refreshCounter / 3600);\r\n      if (lang === 'en-us') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + 'h');\r\n      } else if (lang === 'zh-tw') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '小時');\r\n      } else {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '小时');\r\n      }\r\n    } else if (Control.refreshCounter > 60 && Control.refreshCounter <= 3600) {\r\n      let num = Number(Control.refreshCounter / 60);\r\n      if (lang === 'en-us') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + 'm');\r\n      } else if (lang === 'zh-tw') {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '分鐘');\r\n      } else {\r\n        $('#chart_updated_time_text').html(num.toFixed(0) + '分钟');\r\n      }\r\n    } else if (Control.refreshCounter <= 60) {\r\n      if (lang === 'en-us') {\r\n        $('#chart_updated_time_text').html(Control.refreshCounter + 's');\r\n      } else {\r\n        $('#chart_updated_time_text').html(Control.refreshCounter + '秒');\r\n      }\r\n    }\r\n  }\r\n\r\n  static clearRefreshCounter() {\r\n    window.clearInterval(Control.refreshHandler);\r\n    Control.refreshCounter = 0;\r\n    let lang = ChartManager.instance.getLanguage();\r\n    if (lang === 'en-us') {\r\n      $('#chart_updated_time_text').html(Control.refreshCounter + 's');\r\n    } else {\r\n      $('#chart_updated_time_text').html(Control.refreshCounter + '秒');\r\n    }\r\n    Control.refreshHandler = setInterval(Control.refreshFunction, Kline.instance.intervalTime);\r\n  }\r\n\r\n  static requestData(showLoading) {\r\n    Control.AbortRequest();\r\n    window.clearTimeout(Kline.instance.timer);\r\n    if (Kline.instance.paused) {\r\n      return;\r\n    }\r\n    if (showLoading === true) {\r\n      $('#chart_loading').addClass('activated');\r\n    }\r\n    if (Kline.instance.type === 'stomp' && Kline.instance.stompClient) {\r\n      Control.requestOverStomp();\r\n    } else {\r\n      Control.requestOverHttp();\r\n    }\r\n  }\r\n\r\n  static parseRequestParam(str) {\r\n    return JSON.parse('{\"' + decodeURI(str.replace(/&/g, '\",\"').replace(/=/g, '\":\"')) + '\"}')\r\n  }\r\n\r\n  static requestOverStomp() {\r\n    if (!Kline.instance.socketConnected) {\r\n      if (Kline.instance.debug) {\r\n        console.log('DEBUG: socket is not coonnected')\r\n      }\r\n      return;\r\n    }\r\n    if (Kline.instance.stompClient && Kline.instance.stompClient.ws.readyState === 1) {\r\n      Kline.instance.stompClient.send(Kline.instance.sendPath, {}, JSON.stringify(Control.parseRequestParam(Kline.instance.requestParam)));\r\n      return;\r\n    }\r\n    if (Kline.instance.debug) {\r\n      console.log('DEBUG: stomp client is not ready yet ...');\r\n    }\r\n    Kline.instance.timer = setTimeout(function () {\r\n      Control.requestData(true);\r\n    }, 1000);\r\n  }\r\n\r\n  static requestOverHttp() {\r\n    if (Kline.instance.debug) {\r\n      console.log('DEBUG: ' + Kline.instance.requestParam);\r\n    }\r\n    $(document).ready(\r\n      Kline.instance.G_HTTP_REQUEST = $.ajax({\r\n        type: 'GET',\r\n        url: Kline.instance.url,\r\n        dataType: 'json',\r\n        data: Kline.instance.requestParam,\r\n        timeout: 30000,\r\n        created: Date.now(),\r\n        beforeSend: function () {\r\n          this.range = Kline.instance.range;\r\n          this.symbol = Kline.instance.symbol;\r\n        },\r\n        success: function (res) {\r\n          if (Kline.instance.G_HTTP_REQUEST) {\r\n            Control.requestSuccessHandler(res);\r\n          }\r\n        },\r\n        error: function (xhr, textStatus, errorThrown) {\r\n          if (Kline.instance.debug) {\r\n            console.log(xhr);\r\n          }\r\n          if (xhr.status === 200 && xhr.readyState === 4) {\r\n            return;\r\n          }\r\n          Kline.instance.timer = setTimeout(function () {\r\n            Control.requestData(true);\r\n          }, Kline.instance.intervalTime);\r\n        },\r\n        complete: function () {\r\n          Kline.instance.G_HTTP_REQUEST = null;\r\n        }\r\n      })\r\n    );\r\n  }\r\n\r\n  static requestSuccessHandler(res) {\r\n    if (Kline.instance.debug) {\r\n      console.log(res);\r\n    }\r\n    if (!res || !res.success) {\r\n      if (Kline.instance.type === 'poll') {\r\n        Kline.instance.timer = setTimeout(function () {\r\n          Control.requestData(true);\r\n        }, Kline.instance.intervalTime);\r\n      }\r\n      return;\r\n    }\r\n    $('#chart_loading').removeClass('activated');\r\n\r\n    let chart = ChartManager.instance.getChart();\r\n    chart.setTitle();\r\n    Kline.instance.data = eval(res.data);\r\n\r\n    let updateDataRes = Kline.instance.chartMgr.updateData('frame0.k0', Kline.instance.data.lines);\r\n    Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, null, Kline.instance.chartMgr.getDataSource('frame0.k0').getLastDate());\r\n\r\n    let intervalTime = Kline.instance.intervalTime < Kline.instance.range ? Kline.instance.intervalTime : Kline.instance.range;\r\n\r\n    if (!updateDataRes) {\r\n      if (Kline.instance.type === 'poll') {\r\n        Kline.instance.timer = setTimeout(Control.requestData, intervalTime);\r\n      }\r\n      return;\r\n    }\r\n    if (Kline.instance.data.depths) {\r\n      ChartManager.instance.getChart().updateDepth(Kline.instance.data.depths);\r\n    }\r\n    Control.clearRefreshCounter();\r\n\r\n    if (Kline.instance.type === 'poll') {\r\n      Kline.instance.timer = setTimeout(Control.TwoSecondThread, intervalTime);\r\n    }\r\n\r\n    ChartManager.instance.redraw('All', false);\r\n  }\r\n\r\n  static AbortRequest() {\r\n    if (Kline.instance.type !== 'stomp' || !Kline.instance.stompClient) {\r\n      if (Kline.instance.G_HTTP_REQUEST && Kline.instance.G_HTTP_REQUEST.readyState !== 4) {\r\n        Kline.instance.G_HTTP_REQUEST.abort();\r\n      }\r\n    }\r\n  }\r\n\r\n  static TwoSecondThread() {\r\n    let f = Kline.instance.chartMgr.getDataSource('frame0.k0').getLastDate();\r\n\r\n    if (f === -1) {\r\n      Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, Kline.instance.limit, null);\r\n    } else {\r\n      Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, null, f.toString());\r\n    }\r\n\r\n    Control.requestData();\r\n  }\r\n\r\n  static readCookie() {\r\n    ChartSettings.get();\r\n    ChartSettings.save();\r\n    let tmp = ChartSettings.get();\r\n    ChartManager.instance.setChartStyle('frame0.k0', tmp.charts.chartStyle);\r\n    let symbol = tmp.charts.symbol;\r\n    if (!Kline.instance.init) {\r\n      symbol = Kline.instance.symbol;\r\n      Kline.instance.init = true;\r\n    }\r\n    Kline.instance.symbol = symbol;\r\n    Control.switchSymbolSelected(symbol);\r\n    let period = tmp.charts.period;\r\n    Control.switchPeriod(period);\r\n    $('#chart_period_' + period + '_v a').addClass('selected');\r\n    $('#chart_period_' + period + '_h a').addClass('selected');\r\n    if (tmp.charts.indicsStatus === 'close') {\r\n      Control.switchIndic('off');\r\n    } else if (tmp.charts.indicsStatus === 'open') {\r\n      Control.switchIndic('on');\r\n    }\r\n    let mainIndic = $('#chart_select_main_indicator');\r\n    mainIndic.find('a').each(function () {\r\n      if ($(this).attr('name') === tmp.charts.mIndic) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    let chart_style = $('#chart_select_chart_style');\r\n    chart_style.find('a').each(function () {\r\n      if ($(this)[0].innerHTML === tmp.charts.chartStyle) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    ChartManager.instance.getChart().setMainIndicator(tmp.charts.mIndic);\r\n    ChartManager.instance.setThemeName('frame0', tmp.theme);\r\n    Control.switchTools('off');\r\n    if (tmp.theme === 'Dark') {\r\n      Control.switchTheme('dark');\r\n    } else if (tmp.theme === 'Light') {\r\n      Control.switchTheme('light');\r\n    }\r\n    Control.chartSwitchLanguage(tmp.language || 'zh-cn');\r\n  }\r\n\r\n\r\n  static setHttpRequestParam(symbol, range, limit, since) {\r\n    let str = 'symbol=' + symbol + '&range=' + range;\r\n    if (limit !== null)\r\n      str += '&limit=' + limit;\r\n    else\r\n      str += '&since=' + since;\r\n    str += '&prevTradeTime=' + Date.now();\r\n    return str;\r\n  }\r\n\r\n  static refreshTemplate() {\r\n    Kline.instance.chartMgr = DefaultTemplate.loadTemplate('frame0.k0', '');\r\n    ChartManager.instance.redraw('All', true);\r\n  }\r\n\r\n  static chartSwitchLanguage(lang) {\r\n    let langTmp = lang.replace(/-/, '_');\r\n    $('#chart_language_switch_tmp').find('span').each(function () {\r\n      let name = $(this).attr('name');\r\n      let attr = $(this).attr(langTmp);\r\n      name = '.' + name;\r\n      let obj = $(name)[0];\r\n\r\n      if (!obj)\r\n        return;\r\n      $(name).each(function () {\r\n\r\n        $(this)[0].innerHTML = attr;\r\n      });\r\n    });\r\n    $('#chart_language_setting_div li a[name=\\'' + lang + '\\']').addClass('selected');\r\n    ChartManager.instance.setLanguage(lang);\r\n    ChartManager.instance.getChart().setTitle();\r\n    let tmp = ChartSettings.get();\r\n    tmp.language = lang;\r\n    ChartSettings.save();\r\n    Kline.instance.onLangChange(lang);\r\n  }\r\n\r\n  static onSize(w, h) {\r\n    let width = w || window.innerWidth;\r\n    let chartWidth = Kline.instance.showTrade ? (width - Kline.instance.tradeWidth) : width;\r\n    let height = h || window.innerHeight;\r\n    let container = $(Kline.instance.element);\r\n    container.css({\r\n      width: width + 'px',\r\n      height: height + 'px'\r\n    });\r\n    let toolBar = $('#chart_toolbar');\r\n    let toolPanel = $('#chart_toolpanel');\r\n    let canvasGroup = $('#chart_canvasGroup');\r\n    let tabBar = $('#chart_tabbar');\r\n    let toolPanelShown = toolPanel[0].style.display !== 'inline' ? false : true;\r\n    let tabBarShown = tabBar[0].style.display !== 'block' ? false : true;\r\n    let toolBarRect = {};\r\n    toolBarRect.x = 0;\r\n    toolBarRect.y = 0;\r\n    toolBarRect.w = chartWidth;\r\n    toolBarRect.h = 29;\r\n    let toolPanelRect = {};\r\n    toolPanelRect.x = 0;\r\n    toolPanelRect.y = toolBarRect.h + 1;\r\n    toolPanelRect.w = toolPanelShown ? 32 : 0;\r\n    toolPanelRect.h = height - toolPanelRect.y;\r\n    let tabBarRect = {};\r\n    tabBarRect.w = toolPanelShown ? chartWidth - (toolPanelRect.w + 1) : chartWidth;\r\n    tabBarRect.h = tabBarShown ? 22 : -1;\r\n    tabBarRect.x = chartWidth - tabBarRect.w;\r\n    tabBarRect.y = height - (tabBarRect.h + 1);\r\n    let canvasGroupRect = {};\r\n    canvasGroupRect.x = tabBarRect.x;\r\n    canvasGroupRect.y = toolPanelRect.y;\r\n    canvasGroupRect.w = tabBarRect.w;\r\n    canvasGroupRect.h = tabBarRect.y - toolPanelRect.y;\r\n    toolBar.css({\r\n      left: toolBarRect.x + 'px',\r\n      top: toolBarRect.y + 'px',\r\n      width: toolBarRect.w + 'px',\r\n      height: toolBarRect.h + 'px'\r\n    });\r\n    if (toolPanelShown) {\r\n      toolPanel.css({\r\n        left: toolPanelRect.x + 'px',\r\n        top: toolPanelRect.y + 'px',\r\n        width: toolPanelRect.w + 'px',\r\n        height: toolPanelRect.h + 'px'\r\n      });\r\n    }\r\n\r\n    canvasGroup.css({\r\n      left: canvasGroupRect.x + 'px',\r\n      top: canvasGroupRect.y + 'px',\r\n      // width: canvasGroupRect.w + 'px',\r\n      height: canvasGroupRect.h + 'px'\r\n    });\r\n    let mainCanvas = $('#chart_mainCanvas')[0];\r\n    let overlayCanvas = $('#chart_overlayCanvas')[0];\r\n    mainCanvas.width = canvasGroupRect.w;\r\n    mainCanvas.height = canvasGroupRect.h;\r\n    overlayCanvas.width = canvasGroupRect.w;\r\n    overlayCanvas.height = canvasGroupRect.h;\r\n    if (tabBarShown) {\r\n      tabBar.css({\r\n        left: tabBarRect.x + 'px',\r\n        top: tabBarRect.y + 'px',\r\n        width: tabBarRect.w + 'px',\r\n        height: tabBarRect.h + 'px'\r\n      });\r\n    }\r\n    let dlgSettings = $('#chart_parameter_settings');\r\n    dlgSettings.css({\r\n      left: (chartWidth - dlgSettings.width()) >> 1,\r\n      top: (height - dlgSettings.height()) >> 1\r\n    });\r\n    let dlgLoading = $('#chart_loading');\r\n    dlgLoading.css({\r\n      left: (chartWidth - dlgLoading.width()) >> 1,\r\n      top: (height - dlgLoading.height()) >> 2\r\n    });\r\n    let domElemCache = $('#chart_dom_elem_cache');\r\n    let rowTheme = $('#chart_select_theme')[0];\r\n    let rowTools = $('#chart_enable_tools')[0];\r\n    let rowIndic = $('#chart_enable_indicator')[0];\r\n    let periodsVert = $('#chart_toolbar_periods_vert');\r\n    let periodsHorz = $('#chart_toolbar_periods_horz')[0];\r\n    let showIndic = $('#chart_show_indicator')[0];\r\n    let showTools = $('#chart_show_tools')[0];\r\n    let selectTheme = $('#chart_toolbar_theme')[0];\r\n    let dropDownSettings = $('#chart_dropdown_settings');\r\n    let periodsVertNW = periodsVert[0].offsetWidth;\r\n    let periodsHorzNW = periodsVertNW + periodsHorz.offsetWidth;\r\n    let showIndicNW = periodsHorzNW + showIndic.offsetWidth + 4;\r\n    let showToolsNW = showIndicNW + showTools.offsetWidth + 4;\r\n    let selectThemeNW = showToolsNW + selectTheme.offsetWidth;\r\n    let dropDownSettingsW = dropDownSettings.find('.chart_dropdown_t')[0].offsetWidth + 150;\r\n    periodsVertNW += dropDownSettingsW;\r\n    periodsHorzNW += dropDownSettingsW;\r\n    showIndicNW += dropDownSettingsW;\r\n    showToolsNW += dropDownSettingsW;\r\n    selectThemeNW += dropDownSettingsW;\r\n    if (chartWidth < periodsHorzNW) {\r\n      domElemCache.append(periodsHorz);\r\n    } else {\r\n      periodsVert.after(periodsHorz);\r\n    }\r\n    if (chartWidth < showIndicNW) {\r\n      domElemCache.append(showIndic);\r\n      rowIndic.style.display = '';\r\n    } else {\r\n      dropDownSettings.before(showIndic);\r\n      rowIndic.style.display = 'none';\r\n    }\r\n    if (chartWidth < showToolsNW) {\r\n      domElemCache.append(showTools);\r\n      rowTools.style.display = '';\r\n    } else {\r\n      dropDownSettings.before(showTools);\r\n      rowTools.style.display = 'none';\r\n    }\r\n    if (chartWidth < selectThemeNW) {\r\n      domElemCache.append(selectTheme);\r\n      rowTheme.style.display = '';\r\n    } else {\r\n      dropDownSettings.before(selectTheme);\r\n      rowTheme.style.display = 'none';\r\n    }\r\n\r\n    ChartManager.instance.redraw('All', true);\r\n    Kline.instance.onResize(width, height);\r\n  }\r\n\r\n  static mouseWheel(e, delta) {\r\n    ChartManager.instance.scale(delta > 0 ? 1 : -1);\r\n    ChartManager.instance.redraw('All', true);\r\n    return false;\r\n  }\r\n\r\n  static switchTheme(name) {\r\n\r\n    $('#chart_toolbar_theme a').removeClass('selected');\r\n    $('#chart_select_theme a').removeClass('selected');\r\n    $('#chart_toolbar_theme').find('a').each(function () {\r\n      if ($(this).attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    $('#chart_select_theme a').each(function () {\r\n      if ($(this).attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    $('.chart_container').attr('class', 'chart_container ' + name);\r\n    $('.marketName_ a').attr('class', name);\r\n\r\n    if (name === 'dark') {\r\n      $('.trade_container').addClass('dark').removeClass('light');\r\n      ChartManager.instance.setThemeName('frame0', 'Dark');\r\n      let tmp = ChartSettings.get();\r\n      tmp.theme = 'Dark';\r\n      ChartSettings.save();\r\n    } else if (name === 'light') {\r\n      $('.trade_container').addClass('light').removeClass('dark');\r\n      ChartManager.instance.setThemeName('frame0', 'Light');\r\n      let tmp = ChartSettings.get();\r\n      tmp.theme = 'Light';\r\n      ChartSettings.save();\r\n    }\r\n    let a = {};\r\n    a.command = 'set current themes';\r\n    a.content = name;\r\n    $('#chart_output_interface_text').val(JSON.stringify(a));\r\n    $('#chart_output_interface_submit').submit();\r\n    new MEvent().raise(name);\r\n    ChartManager.instance.redraw();\r\n\r\n    Kline.instance.onThemeChange(name);\r\n  }\r\n\r\n  static switchTools(name) {\r\n    $('.chart_dropdown_data').removeClass('chart_dropdown-hover');\r\n    $('#chart_toolpanel .chart_toolpanel_button').removeClass('selected');\r\n    $('#chart_enable_tools a').removeClass('selected');\r\n    if (name === 'on') {\r\n      $('#chart_show_tools').addClass('selected');\r\n      $('#chart_enable_tools a').each(function () {\r\n        if ($(this).attr('name') === 'on') {\r\n          $(this).addClass('selected');\r\n        }\r\n      });\r\n      $('#chart_toolpanel')[0].style.display = 'inline';\r\n      if (ChartManager.instance._drawingTool === ChartManager.DrawingTool.Cursor) {\r\n        $('#chart_Cursor').parent().addClass('selected');\r\n      } else if (ChartManager.instance._drawingTool === ChartManager.DrawingTool.CrossCursor) {\r\n        $('#chart_CrossCursor').parent().addClass('selected');\r\n      }\r\n    } else if (name === 'off') {\r\n      $('#chart_show_tools').removeClass('selected');\r\n      $('#chart_enable_tools a').each(function () {\r\n        if ($(this).attr('name') === 'off') {\r\n          $(this).addClass('selected');\r\n        }\r\n      });\r\n      $('#chart_toolpanel')[0].style.display = 'none';\r\n      ChartManager.instance.setRunningMode(ChartManager.instance._beforeDrawingTool);\r\n      ChartManager.instance.redraw('All', true);\r\n    }\r\n    if (Kline.instance.isSized) {\r\n      Control.onSize();\r\n    } else {\r\n      Control.onSize(Kline.instance.width, Kline.instance.height);\r\n    }\r\n  }\r\n\r\n  static switchIndic(name) {\r\n    $('#chart_enable_indicator a').removeClass('selected');\r\n    $('#chart_enable_indicator a[name=\\'' + name + '\\']').addClass('selected');\r\n    if (name === 'on') {\r\n      $('#chart_show_indicator').addClass('selected');\r\n      let tmp = ChartSettings.get();\r\n      tmp.charts.indicsStatus = 'open';\r\n      ChartSettings.save();\r\n      let value = tmp.charts.indics[1];\r\n      if (Template.displayVolume === false)\r\n        ChartManager.instance.getChart().setIndicator(2, value);\r\n      else\r\n        ChartManager.instance.getChart().setIndicator(2, value);\r\n      $('#chart_tabbar').find('a').each(function () {\r\n        if ($(this).attr('name') === value)\r\n          $(this).addClass('selected');\r\n      });\r\n      $('#chart_tabbar')[0].style.display = 'block';\r\n    } else if (name === 'off') {\r\n      $('#chart_show_indicator').removeClass('selected');\r\n      ChartManager.instance.getChart().setIndicator(2, 'NONE');\r\n      let tmp = ChartSettings.get();\r\n      tmp.charts.indicsStatus = 'close';\r\n      ChartSettings.save();\r\n      $('#chart_tabbar')[0].style.display = 'none';\r\n      $('#chart_tabbar a').removeClass('selected');\r\n    }\r\n    if (Kline.instance.isSized) {\r\n      Control.onSize();\r\n    } else {\r\n      Control.onSize(Kline.instance.width, Kline.instance.height);\r\n    }\r\n  }\r\n\r\n  static switchPeriod(name) {\r\n    $('.chart_container .chart_toolbar_tabgroup a').removeClass('selected');\r\n    $('#chart_toolbar_periods_vert ul a').removeClass('selected');\r\n    $('.chart_container .chart_toolbar_tabgroup a').each(function () {\r\n      if ($(this).parent().attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    $('#chart_toolbar_periods_vert ul a').each(function () {\r\n      if ($(this).parent().attr('name') === name) {\r\n        $(this).addClass('selected');\r\n      }\r\n    });\r\n    ChartManager.instance.showCursor();\r\n    Control.calcPeriodWeight(name);\r\n    if (name === 'line') {\r\n      ChartManager.instance.getChart().strIsLine = true;\r\n      ChartManager.instance.setChartStyle('frame0.k0', 'Line');\r\n      ChartManager.instance.getChart().setCurrentPeriod('line');\r\n      let settings = ChartSettings.get();\r\n      settings.charts.period = name;\r\n      ChartSettings.save();\r\n      return;\r\n    }\r\n    ChartManager.instance.getChart().strIsLine = false;\r\n    let p = Kline.instance.tagMapPeriod[name];\r\n    ChartManager.instance.setChartStyle('frame0.k0', ChartSettings.get().charts.chartStyle);\r\n    ChartManager.instance.getChart().setCurrentPeriod(p);\r\n    let settings = ChartSettings.get();\r\n    settings.charts.period = name;\r\n    ChartSettings.save();\r\n  }\r\n\r\n  static reset(symbol) {\r\n    Kline.instance.symbol = symbol;\r\n  }\r\n\r\n  static switchSymbolSelected(symbol) {\r\n    Control.reset(symbol);\r\n    $('.market_chooser ul a').removeClass('selected');\r\n    $('.market_chooser ul a[name=\\'' + symbol + '\\']').addClass('selected');\r\n    ChartManager.instance.getChart()._symbol = symbol;\r\n    let settings = ChartSettings.get();\r\n    settings.charts.symbol = symbol;\r\n    ChartSettings.save();\r\n  }\r\n\r\n\r\n  static switchSymbol(symbol) {\r\n    if (Kline.instance.type === 'stomp' && Kline.instance.stompClient.ws.readyState === 1) {\r\n      Kline.instance.subscribed.unsubscribe();\r\n      Kline.instance.subscribed = Kline.instance.stompClient.subscribe(Kline.instance.subscribePath + '/' + symbol + '/' + Kline.instance.range, Control.subscribeCallback);\r\n    }\r\n    Control.switchSymbolSelected(symbol);\r\n    let settings = ChartSettings.get();\r\n    if (settings.charts.period === 'line') {\r\n      ChartManager.instance.getChart().strIsLine = true;\r\n      ChartManager.instance.setChartStyle('frame0.k0', 'Line');\r\n    } else {\r\n      ChartManager.instance.getChart().strIsLine = false;\r\n      ChartManager.instance.setChartStyle('frame0.k0', ChartSettings.get().charts.chartStyle);\r\n    }\r\n    ChartManager.instance.getChart().setSymbol(symbol);\r\n  }\r\n\r\n  static calcPeriodWeight(period) {\r\n    let index = period;\r\n    if (period !== 'line')\r\n      index = Kline.instance.periodMap[Kline.instance.tagMapPeriod[period]];\r\n    let periodWeight = ChartSettings.get().charts.period_weight;\r\n    for (let i in periodWeight) {\r\n      if (periodWeight[i] > periodWeight[index]) {\r\n        periodWeight[i] -= 1;\r\n      }\r\n    }\r\n    periodWeight[index] = 8;\r\n    ChartSettings.save();\r\n  }\r\n\r\n  static subscribeCallback(res) {\r\n    Control.requestSuccessHandler(JSON.parse(res.body));\r\n  }\r\n\r\n  static socketConnect() {\r\n\r\n    if (!Kline.instance.stompClient || !Kline.instance.socketConnected) {\r\n      if (Kline.instance.enableSockjs) {\r\n        let socket = new SockJS(Kline.instance.url);\r\n        Kline.instance.stompClient = Stomp.over(socket);\r\n      } else {\r\n        Kline.instance.stompClient = Stomp.client(Kline.instance.url);\r\n      }\r\n      Kline.instance.socketConnected = true;\r\n    }\r\n\r\n    if (Kline.instance.stompClient.ws.readyState === 1) {\r\n      console.log('DEBUG: already connected');\r\n      return;\r\n    }\r\n\r\n    if (!Kline.instance.debug) {\r\n      Kline.instance.stompClient.debug = null;\r\n    }\r\n    Kline.instance.stompClient.connect({}, function () {\r\n      Kline.instance.stompClient.subscribe('/user' + Kline.instance.subscribePath, Control.subscribeCallback);\r\n      Kline.instance.subscribed = Kline.instance.stompClient.subscribe(Kline.instance.subscribePath + '/' + Kline.instance.symbol + '/' + Kline.instance.range, Control.subscribeCallback);\r\n      Control.requestData(true);\r\n    }, function () {\r\n      Kline.instance.stompClient.disconnect();\r\n      console.log('DEBUG: reconnect in 5 seconds ...');\r\n      setTimeout(function () {\r\n        Control.socketConnect();\r\n      }, 5000);\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/control.js","import {ChartManager} from './chart_manager'\r\nimport {NamedObject} from './named_object'\r\nimport * as data_sources from './data_sources'\r\nimport {Util} from './util'\r\n\r\nexport class CPoint extends NamedObject {\r\n\r\n    static state = {\r\n        Hide: 0,\r\n        Show: 1,\r\n        Highlight: 2\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.pos = {index: -1, value: -1};\r\n        this.state = CPoint.state.Hide;\r\n    }\r\n\r\n    getChartObjects() {\r\n        let ppMgr = ChartManager.instance;\r\n        let ppCDS = ppMgr.getDataSource(\"frame0.k0\");\r\n        if (ppCDS === null || !Util.isInstance(ppCDS, data_sources.MainDataSource))\r\n            return null;\r\n        let ppTimeline = ppMgr.getTimeline(\"frame0.k0\");\r\n        if (ppTimeline === null)\r\n            return null;\r\n        let ppRange = ppMgr.getRange(\"frame0.k0.main\");\r\n        if (ppRange === null)\r\n            return null;\r\n        return {pMgr: ppMgr, pCDS: ppCDS, pTimeline: ppTimeline, pRange: ppRange};\r\n    }\r\n\r\n    setPosXY(x, y) {\r\n        let pObj = this.getChartObjects();\r\n        let i = pObj.pTimeline.toIndex(x);\r\n        let v = pObj.pRange.toValue(y);\r\n        let result = this.snapValue(i, v);\r\n        if (result !== null)\r\n            v = result;\r\n        this.setPosIV(i, v);\r\n    }\r\n\r\n    setPosXYNoSnap(x, y) {\r\n        let pObj = this.getChartObjects();\r\n        let i = pObj.pTimeline.toIndex(x);\r\n        let v = pObj.pRange.toValue(y);\r\n        this.setPosIV(i, v);\r\n    }\r\n\r\n    setPosIV(i, v) {\r\n        this.pos = {index: i, value: v};\r\n    }\r\n\r\n    getPosXY() {\r\n        let pObj = this.getChartObjects();\r\n        let _x = pObj.pTimeline.toItemCenter(this.pos.index);\r\n        let _y = pObj.pRange.toY(this.pos.value);\r\n        return {x: _x, y: _y};\r\n    }\r\n\r\n    getPosIV() {\r\n        return {i: this.pos.index, v: this.pos.value};\r\n    }\r\n\r\n    setState(s) {\r\n        this.state = s;\r\n    }\r\n\r\n    getState() {\r\n        return this.state;\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        let xy = this.getPosXY();\r\n        if (x < xy.x - 4 || x > xy.x + 4 || y < xy.y - 4 || y > xy.y + 4)\r\n            return false;\r\n        this.setState(CPoint.state.Highlight);\r\n        return true;\r\n    }\r\n\r\n    snapValue(i, v) {\r\n        let pObj = this.getChartObjects();\r\n        let result = null;\r\n        let first = Math.floor(pObj.pTimeline.getFirstIndex());\r\n        let last = Math.floor(pObj.pTimeline.getLastIndex());\r\n        if (i < first || i > last)\r\n            return result;\r\n        let y = pObj.pRange.toY(v);\r\n        let pData = pObj.pCDS.getDataAt(i);\r\n        if (pData === null || pData === undefined)\r\n            return result;\r\n        let pDataPre = null;\r\n        if (i > 0)\r\n            pDataPre = pObj.pCDS.getDataAt(i - 1);\r\n        else\r\n            pDataPre = pObj.pCDS.getDataAt(i);\r\n        let candleStickStyle = pObj.pMgr.getChartStyle(pObj.pCDS.getFrameName());\r\n        let open = pObj.pRange.toY(pData.open);\r\n        let high = pObj.pRange.toY(pData.high);\r\n        let low = pObj.pRange.toY(pData.low);\r\n        let close = pObj.pRange.toY(pData.close);\r\n        if (candleStickStyle === \"CandleStickHLC\") {\r\n            open = pObj.pRange.toY(pDataPre.close);\r\n        }\r\n        let dif_open = Math.abs(open - y);\r\n        let dif_high = Math.abs(high - y);\r\n        let dif_low = Math.abs(low - y);\r\n        let dif_close = Math.abs(close - y);\r\n        if (dif_open <= dif_high && dif_open <= dif_low && dif_open <= dif_close) {\r\n            if (dif_open < 6)\r\n                result = pData.open;\r\n        }\r\n        if (dif_high <= dif_open && dif_high <= dif_low && dif_high <= dif_close) {\r\n            if (dif_high < 6)\r\n                result = pData.high;\r\n        }\r\n        if (dif_low <= dif_open && dif_low <= dif_high && dif_low <= dif_close) {\r\n            if (dif_low < 6)\r\n                result = pData.low;\r\n        }\r\n        if (dif_close <= dif_open && dif_close <= dif_high && dif_close <= dif_low) {\r\n            if (dif_close < 6)\r\n                result = pData.close;\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/cpoint.js","import {ChartManager} from './chart_manager'\r\nimport {NamedObject} from './named_object'\r\nimport {CPoint} from './cpoint'\r\nimport {Util} from './util'\r\nimport * as data_sources from './data_sources'\r\nimport * as plotters from './plotters'\r\n\r\n\r\nexport class CToolObject extends NamedObject {\r\n\r\n    static state = {\r\n        BeforeDraw: 0,\r\n        Draw: 1,\r\n        AfterDraw: 2\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = null;\r\n        this.state = CToolObject.state.BeforeDraw;\r\n        this.points = [];\r\n        this.step = 0;\r\n    }\r\n\r\n    getChartObjects() {\r\n        let ppMgr = ChartManager.instance;\r\n        let ppCDS = ppMgr.getDataSource(\"frame0.k0\");\r\n        if (ppCDS === null || !Util.isInstance(ppCDS, data_sources.MainDataSource))\r\n            return null;\r\n        let ppTimeline = ppMgr.getTimeline(\"frame0.k0\");\r\n        if (ppTimeline === null)\r\n            return null;\r\n        let ppArea = ppMgr.getArea('frame0.k0.main');\r\n        if (ppArea === null)\r\n            return null;\r\n        let ppRange = ppMgr.getRange(\"frame0.k0.main\");\r\n        if (ppRange === null)\r\n            return null;\r\n        return {pMgr: ppMgr, pCDS: ppCDS, pTimeline: ppTimeline, pArea: ppArea, pRange: ppRange};\r\n    }\r\n\r\n    isValidMouseXY(x, y) {\r\n        let pObj = this.getChartObjects();\r\n        let areaPos = {\r\n            left: pObj.pArea.getLeft(),\r\n            top: pObj.pArea.getTop(),\r\n            right: pObj.pArea.getRight(),\r\n            bottom: pObj.pArea.getBottom()\r\n        };\r\n        return !(x < areaPos.left || x > areaPos.right ||\r\n            y < areaPos.top || y > areaPos.bottom);\r\n    }\r\n\r\n    getPlotter() {\r\n        return this.drawer;\r\n    }\r\n\r\n    setState(s) {\r\n        this.state = s;\r\n    }\r\n\r\n    getState() {\r\n        return this.state;\r\n    }\r\n\r\n    addPoint(point) {\r\n        this.points.push(point);\r\n    }\r\n\r\n    getPoint(i) {\r\n        return this.points[i];\r\n    }\r\n\r\n    acceptMouseMoveEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.BeforeDraw) {\r\n            this.setBeforeDrawPos(x, y);\r\n        } else if (this.state === CToolObject.state.Draw) {\r\n            this.setDrawPos(x, y);\r\n        } else if (this.state === CToolObject.state.AfterDraw) {\r\n            this.setAfterDrawPos(x, y);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    acceptMouseDownEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.BeforeDraw) {\r\n            this.setDrawPos(x, y);\r\n            this.setState(CToolObject.state.Draw);\r\n        } else if (this.state === CToolObject.state.Draw) {\r\n            this.setAfterDrawPos(x, y);\r\n            if (this.step === 0)\r\n                this.setState(CToolObject.state.AfterDraw);\r\n        } else if (this.state === CToolObject.state.AfterDraw) {\r\n            if (CToolObject.prototype.isSelected(x, y)) {\r\n                this.setDrawPos(x, y);\r\n                this.setState(CToolObject.state.Draw);\r\n            } else {\r\n                this.oldx = x;\r\n                this.oldy = y;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    acceptMouseDownMoveEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.Draw) {\r\n            this.setDrawPos(x, y);\r\n        } else if (this.state === CToolObject.state.AfterDraw) {\r\n            let pObj = this.getChartObjects();\r\n            let _width = pObj.pTimeline.getItemWidth();\r\n            let _height = pObj.pRange;\r\n            if (Math.abs(x - this.oldx) < _width && Math.abs(y - this.oldy) === 0)\r\n                return true;\r\n            let _old_x = pObj.pTimeline.toIndex(this.oldx);\r\n            let _old_y = pObj.pRange.toValue(this.oldy);\r\n            let _new_x = pObj.pTimeline.toIndex(x);\r\n            let _new_y = pObj.pRange.toValue(y);\r\n            this.oldx = x;\r\n            this.oldy = y;\r\n            let _dif_x = _new_x - _old_x;\r\n            let _dif_y = _new_y - _old_y;\r\n            for (let index in this.points) {\r\n                this.points[index].pos.index += _dif_x;\r\n                this.points[index].pos.value += _dif_y;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    acceptMouseUpEvent(x, y) {\r\n        if (this.isValidMouseXY(x, y) === false) {\r\n            return false;\r\n        }\r\n        if (this.state === CToolObject.state.Draw) {\r\n            this.setAfterDrawPos(x, y);\r\n            if (this.step === 0)\r\n                this.setState(CToolObject.state.AfterDraw);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    setBeforeDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n            this.points[index].setState(CPoint.state.Show);\r\n        }\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            if (this.points[index].getState() === CPoint.state.Highlight) {\r\n                this.points[index].setPosXY(x, y);\r\n            }\r\n        }\r\n    }\r\n\r\n    setAfterDrawPos(x, y) {\r\n        if (this.step !== 0) {\r\n            this.step -= 1;\r\n        }\r\n        for (let index in this.points) {\r\n            this.points[index].setState(CPoint.state.Hide);\r\n        }\r\n        if (this.step === 0) {\r\n            let pObj = this.getChartObjects();\r\n            pObj.pMgr.setNormalMode();\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        let isFind = false;\r\n        for (let index in this.points) {\r\n            if (this.points[index].isSelected(x, y)) {\r\n                this.points[index].setState(CPoint.state.Highlight);\r\n                isFind = true;\r\n                break;\r\n            }\r\n        }\r\n        if (isFind === true) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    select() {\r\n        for (let index in this.points) {\r\n            if (this.points[index].getState() === CPoint.state.Hide) {\r\n                this.points[index].setState(CPoint.state.Show);\r\n            }\r\n        }\r\n    }\r\n\r\n    unselect() {\r\n        for (let index in this.points) {\r\n            if (this.points[index].getState() !== CPoint.state.Hide) {\r\n                this.points[index].setState(CPoint.state.Hide);\r\n            }\r\n        }\r\n    }\r\n\r\n    calcDistance(point1, point2, point3) {\r\n        let xa = point1.getPosXY().x;\r\n        let ya = point1.getPosXY().y;\r\n        let xb = point2.getPosXY().x;\r\n        let yb = point2.getPosXY().y;\r\n        let xc = point3.getPosXY().x;\r\n        let yc = point3.getPosXY().y;\r\n        let a1 = xa - xc;\r\n        let a2 = ya - yc;\r\n        let b1 = xb - xc;\r\n        let b2 = yb - yc;\r\n        let area = Math.abs(a1 * b2 - a2 * b1);\r\n        let len = Math.sqrt(Math.pow((xb - xa), 2) + Math.pow((yb - ya), 2));\r\n        return area / len;\r\n    }\r\n\r\n    calcGap(r, x, y) {\r\n        let xa = r.sx;\r\n        let ya = r.sy;\r\n        let xb = r.ex;\r\n        let yb = r.ey;\r\n        let xc = x;\r\n        let yc = y;\r\n        let a1 = xa - xc;\r\n        let a2 = ya - yc;\r\n        let b1 = xb - xc;\r\n        let b2 = yb - yc;\r\n        let area = Math.abs(a1 * b2 - a2 * b1);\r\n        let len = Math.sqrt(Math.pow((xb - xa), 2) + Math.pow((yb - ya), 2));\r\n        return area / len;\r\n    }\r\n\r\n    isWithRect(point1, point2, point3) {\r\n        let sx = point1.getPosXY().x;\r\n        let sy = point1.getPosXY().y;\r\n        let ex = point2.getPosXY().x;\r\n        let ey = point2.getPosXY().y;\r\n        let x = point3.getPosXY().x;\r\n        let y = point3.getPosXY().y;\r\n        if (sx > ex) {\r\n            sx += 4;\r\n            ex -= 4;\r\n        } else {\r\n            sx -= 4;\r\n            ex += 4;\r\n        }\r\n        if (sy > ey) {\r\n            sy += 4;\r\n            ey -= 4;\r\n        } else {\r\n            sy -= 4;\r\n            ey += 4;\r\n        }\r\n        if (sx <= x && ex >= x && sy <= y && ey >= y) {\r\n            return true;\r\n        }\r\n        if (sx >= x && ex <= x && sy <= y && ey >= y) {\r\n            return true;\r\n        }\r\n        if (sx <= x && ex >= x && sy >= y && ey <= y) {\r\n            return true;\r\n        }\r\n        if (sx >= x && ex <= x && sy >= y && ey <= y) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBiToolObject extends CToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.addPoint(new CPoint(name));\r\n        this.addPoint(new CPoint(name));\r\n    }\r\n\r\n    setBeforeDrawPos(x, y) {\r\n        this.step = 1;\r\n        super.setBeforeDrawPos(x, y);\r\n        this.getPoint(0).setState(CPoint.state.Show);\r\n        this.getPoint(1).setState(CPoint.state.Highlight);\r\n    }\r\n\r\n}\r\n\r\nexport class CTriToolObject extends CToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.addPoint(new CPoint(name));\r\n        this.addPoint(new CPoint(name));\r\n        this.addPoint(new CPoint(name));\r\n    }\r\n\r\n    setBeforeDrawPos(x, y) {\r\n        this.step = 2;\r\n        super.setBeforeDrawPos(x, y);\r\n        this.getPoint(0).setState(CPoint.state.Show);\r\n        this.getPoint(1).setState(CPoint.state.Show);\r\n        this.getPoint(2).setState(CPoint.state.Highlight);\r\n    }\r\n\r\n    setAfterDrawPos(x, y) {\r\n        if (this.step !== 0)\r\n            this.step -= 1;\r\n        if (this.step === 0) {\r\n            for (let index in this.points) {\r\n                this.points[index].setState(CPoint.state.Hide);\r\n            }\r\n        } else {\r\n            this.getPoint(0).setState(CPoint.state.Show);\r\n            this.getPoint(1).setState(CPoint.state.Highlight);\r\n            this.getPoint(2).setState(CPoint.state.Show);\r\n        }\r\n        if (this.step === 0) {\r\n            let pObj = this.getChartObjects();\r\n            pObj.pMgr.setNormalMode();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBandLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawBandLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        let fibSequence = [100.0, 87.5, 75.0, 62.5, 50.0, 37.5, 25.0, 12.5, 0.0];\r\n        for (let i = 0; i < fibSequence.length; i++) {\r\n            let stage_y = sy + (100 - fibSequence[i]) / 100 * (ey - sy);\r\n            if (stage_y < y + 4 && stage_y > y - 4) {\r\n                this.select();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBiParallelLineObject extends CTriToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawBiParallelLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let _0x = this.getPoint(0).getPosXY().x;\r\n        let _0y = this.getPoint(0).getPosXY().y;\r\n        let _1x = this.getPoint(1).getPosXY().x;\r\n        let _1y = this.getPoint(1).getPosXY().y;\r\n        let _2x = this.getPoint(2).getPosXY().x;\r\n        let _2y = this.getPoint(2).getPosXY().y;\r\n        let _a = {x: _0x - _1x, y: _0y - _1y};\r\n        let _b = {x: _0x - _2x, y: _0y - _2y};\r\n        let _c = {x: _a.x + _b.x, y: _a.y + _b.y};\r\n        let _3x = _0x - _c.x;\r\n        let _3y = _0y - _c.y;\r\n        let r1 = {sx: _0x, sy: _0y, ex: _2x, ey: _2y};\r\n        let r2 = {sx: _1x, sy: _1y, ex: _3x, ey: _3y};\r\n        if (this.calcGap(r1, x, y) > 4 && this.calcGap(r2, x, y) > 4) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CBiParallelRayLineObject extends CTriToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawBiParallelRayLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let _0x = this.getPoint(0).getPosXY().x;\r\n        let _0y = this.getPoint(0).getPosXY().y;\r\n        let _1x = this.getPoint(1).getPosXY().x;\r\n        let _1y = this.getPoint(1).getPosXY().y;\r\n        let _2x = this.getPoint(2).getPosXY().x;\r\n        let _2y = this.getPoint(2).getPosXY().y;\r\n        let _a = {x: _0x - _1x, y: _0y - _1y};\r\n        let _b = {x: _0x - _2x, y: _0y - _2y};\r\n        let _c = {x: _a.x + _b.x, y: _a.y + _b.y};\r\n        let _3x = _0x - _c.x;\r\n        let _3y = _0y - _c.y;\r\n        let r1 = {sx: _0x, sy: _0y, ex: _2x, ey: _2y};\r\n        let r2 = {sx: _1x, sy: _1y, ex: _3x, ey: _3y};\r\n        if ((r1.ex > r1.sx && x > r1.sx - 4) || (r1.ex < r1.sx && x < r1.sx + 4) ||\r\n            (r2.ex > r2.sx && x > r2.sx - 4) || (r2.ex < r2.sx && x < r2.sx + 4)) {\r\n            if (this.calcGap(r1, x, y) > 4 && this.calcGap(r2, x, y) > 4) {\r\n                return false;\r\n            }\r\n        } else {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CFibFansObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawFibFansPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        let pObj = this.getChartObjects();\r\n        let areaPos = {\r\n            left: pObj.pArea.getLeft(),\r\n            top: pObj.pArea.getTop(),\r\n            right: pObj.pArea.getRight(),\r\n            bottom: pObj.pArea.getBottom()\r\n        };\r\n        let fibFansSequence = [0, 38.2, 50, 61.8];\r\n        for (let i = 0; i < fibFansSequence.length; i++) {\r\n            let stageY = sy + (100 - fibFansSequence[i]) / 100 * (ey - sy);\r\n            let tempStartPt = {x: sx, y: sy};\r\n            let tempEndPt = {x: ex, y: stageY};\r\n            let crossPt = this.getRectCrossPt(areaPos, tempStartPt, tempEndPt);\r\n            let lenToStartPt = Math.pow((crossPt[0].x - sx), 2) + Math.pow((crossPt[0].y - sy), 2);\r\n            let lenToEndPt = Math.pow((crossPt[0].x - ex), 2) + Math.pow((crossPt[0].y - ey), 2);\r\n            let tempCrossPt = lenToStartPt > lenToEndPt ? {x: crossPt[0].x, y: crossPt[0].y} : {\r\n                x: crossPt[1].x,\r\n                y: crossPt[1].y\r\n            };\r\n            if (tempCrossPt.x > sx && x < sx)\r\n                continue;\r\n            if (tempCrossPt.x < sx && x > sx)\r\n                continue;\r\n            let a = new CPoint(\"frame0.k0\");\r\n            a.setPosXY(sx, sy);\r\n            let b = new CPoint(\"frame0.k0\");\r\n            b.setPosXY(tempCrossPt.x, tempCrossPt.y);\r\n            if (this.calcDistance(a, b, c) > 4) {\r\n                continue;\r\n            }\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CFibRetraceObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawFibRetracePlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        let fibSequence = [100.0, 78.6, 61.8, 50.0, 38.2, 23.6, 0.0];\r\n        for (let i = 0; i < fibSequence.length; i++) {\r\n            let stage_y = sy + (100 - fibSequence[i]) / 100 * (ey - sy);\r\n            if (stage_y < y + 4 && stage_y > y - 4) {\r\n                this.select();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CHoriRayLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawHoriRayLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        if (this.points[0].getState() === CPoint.state.Highlight) {\r\n            this.points[0].setPosXY(x, y);\r\n            this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x, this.points[0].getPosXY().y);\r\n            return;\r\n        }\r\n        if (this.points[1].getState() === CPoint.state.Highlight) {\r\n            this.points[1].setPosXY(x, y);\r\n            this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x, this.points[1].getPosXY().y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        if (y > sy + 4 || y < sy - 4) {\r\n            return false;\r\n        }\r\n        if (ex > sx && x < sx - 4) {\r\n            return false;\r\n        }\r\n        if (ex < sx && x > sx + 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CHoriSegLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawHoriSegLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        if (this.points[0].getState() === CPoint.state.Highlight) {\r\n            this.points[0].setPosXY(x, y);\r\n            this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x, this.points[0].getPosXY().y);\r\n            return;\r\n        }\r\n        if (this.points[1].getState() === CPoint.state.Highlight) {\r\n            this.points[1].setPosXY(x, y);\r\n            this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x, this.points[1].getPosXY().y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        if (y > sy + 4 || y < sy - 4) {\r\n            return false;\r\n        }\r\n        if (sx > ex && (x > sx + 4 || x < ex - 4)) {\r\n            return false;\r\n        }\r\n        if (sx < ex && (x < sx - 4 || x > ex + 4)) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CHoriStraightLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawHoriStraightLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        if (y > sy + 4 || y < sy - 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CRayLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawRayLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        if (ex > sx && x < sx - 4) {\r\n            return false;\r\n        }\r\n        if (ex < sx && x > sx + 4) {\r\n            return false;\r\n        }\r\n        if (this.calcDistance(this.getPoint(0), this.getPoint(1), c) < 4) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CSegLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawSegLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        if (this.isWithRect(this.getPoint(0), this.getPoint(1), c) === false) {\r\n            return false;\r\n        }\r\n        if (this.calcDistance(this.getPoint(0), this.getPoint(1), c) < 4) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CStraightLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawStraightLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        if (this.calcDistance(this.getPoint(0), this.getPoint(1), c) < 4) {\r\n            this.select();\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CTriParallelLineObject extends CTriToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawTriParallelLinesPlotter(name, this);\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let pObj = this.getChartObjects();\r\n        let _0x = this.getPoint(0).getPosXY().x;\r\n        let _0y = this.getPoint(0).getPosXY().y;\r\n        let _1x = this.getPoint(1).getPosXY().x;\r\n        let _1y = this.getPoint(1).getPosXY().y;\r\n        let _2x = this.getPoint(2).getPosXY().x;\r\n        let _2y = this.getPoint(2).getPosXY().y;\r\n        let _a = {x: _0x - _1x, y: _0y - _1y};\r\n        let _b = {x: _0x - _2x, y: _0y - _2y};\r\n        let _c = {x: _a.x + _b.x, y: _a.y + _b.y};\r\n        let _3x = _0x - _c.x;\r\n        let _3y = _0y - _c.y;\r\n        let r1 = {sx: _0x, sy: _0y, ex: _2x, ey: _2y};\r\n        let r2 = {sx: _1x, sy: _1y, ex: _3x, ey: _3y};\r\n        let _i = {x: _0x - _1x, y: _0y - _1y};\r\n        let _j = {x: _2x - _3x, y: _2y - _3y};\r\n        let _ri = {x: _1x - _0x, y: _1y - _0y};\r\n        let _rj = {x: _3x - _2x, y: _3y - _2y};\r\n        let _4x = Math.abs(_ri.x - _0x);\r\n        let _4y = Math.abs(_ri.y - _0y);\r\n        let _5x = Math.abs(_rj.x - _2x);\r\n        let _5y = Math.abs(_rj.y - _2y);\r\n        let r3 = {sx: _4x, sy: _4y, ex: _5x, ey: _5y};\r\n        if (this.calcGap(r1, x, y) > 4 &&\r\n            this.calcGap(r2, x, y) > 4 &&\r\n            this.calcGap(r3, x, y) > 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CVertiStraightLineObject extends CBiToolObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawVertiStraightLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        if (x > sx + 4 || x < sx - 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CPriceLineObject extends CSegLineObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawPriceLinesPlotter(name, this);\r\n    }\r\n\r\n    setDrawPos(x, y) {\r\n        for (let index in this.points) {\r\n            this.points[index].setPosXY(x, y);\r\n        }\r\n    }\r\n\r\n    isSelected(x, y) {\r\n        if (super.isSelected(x, y) === true) {\r\n            return true;\r\n        }\r\n        let c = new CPoint(\"frame0.k0\");\r\n        c.setPosXY(x, y);\r\n        let sx = this.getPoint(0).getPosXY().x;\r\n        let sy = this.getPoint(0).getPosXY().y;\r\n        let ex = this.getPoint(1).getPosXY().x;\r\n        let ey = this.getPoint(1).getPosXY().y;\r\n        if (x < sx - 4) {\r\n            return false;\r\n        }\r\n        if (y >= sy + 4 || y <= sy - 4) {\r\n            return false;\r\n        }\r\n        this.select();\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CArrowLineObject extends CSegLineObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.drawer = new plotters.DrawArrowLinesPlotter(name, this);\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ctools.js","import Kline from './kline'\r\nimport {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {Util} from './util'\r\nimport {CPoint} from './cpoint'\r\nimport * as exprs from './exprs'\r\nimport * as themes from './themes'\r\nimport * as data_providers from './data_providers'\r\nimport * as data_sources from './data_sources'\r\nimport * as ctools from './ctools'\r\n\r\n\r\nexport class Plotter extends NamedObject {\r\n\r\n    static isChrome = (navigator.userAgent.toLowerCase().match(/chrome/) !== null);\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    static drawLine(context, x1, y1, x2, y2) {\r\n        context.beginPath();\r\n        context.moveTo((x1 << 0) + 0.5, (y1 << 0) + 0.5);\r\n        context.lineTo((x2 << 0) + 0.5, (y2 << 0) + 0.5);\r\n        context.stroke();\r\n    }\r\n\r\n    static drawLines(context, points) {\r\n        let i, cnt = points.length;\r\n        context.beginPath();\r\n        context.moveTo(points[0].x, points[0].y);\r\n        for (i = 1; i < cnt; i++)\r\n            context.lineTo(points[i].x, points[i].y);\r\n        if (Plotter.isChrome) {\r\n            context.moveTo(points[0].x, points[0].y);\r\n            for (i = 1; i < cnt; i++)\r\n                context.lineTo(points[i].x, points[i].y);\r\n        }\r\n        context.stroke();\r\n    }\r\n\r\n    static drawDashedLine(context, x1, y1, x2, y2, dashLen, dashSolid) {\r\n        if (dashLen < 2) {\r\n            dashLen = 2;\r\n        }\r\n        let dX = x2 - x1;\r\n        let dY = y2 - y1;\r\n        context.beginPath();\r\n        if (dY === 0) {\r\n            let count = (dX / dashLen + 0.5) << 0;\r\n            for (let i = 0; i < count; i++) {\r\n                context.rect(x1, y1, dashSolid, 1);\r\n                x1 += dashLen;\r\n            }\r\n            context.fill();\r\n        } else {\r\n            let count = (Math.sqrt(dX * dX + dY * dY) / dashLen + 0.5) << 0;\r\n            dX = dX / count;\r\n            dY = dY / count;\r\n            let dashX = dX * dashSolid / dashLen;\r\n            let dashY = dY * dashSolid / dashLen;\r\n            for (let i = 0; i < count; i++) {\r\n                context.moveTo(x1 + 0.5, y1 + 0.5);\r\n                context.lineTo(x1 + 0.5 + dashX, y1 + 0.5 + dashY);\r\n                x1 += dX;\r\n                y1 += dY;\r\n            }\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    static createHorzDashedLine(context, x1, x2, y, dashLen, dashSolid) {\r\n        if (dashLen < 2) {\r\n            dashLen = 2;\r\n        }\r\n        let dX = x2 - x1;\r\n        let count = (dX / dashLen + 0.5) << 0;\r\n        for (let i = 0; i < count; i++) {\r\n            context.rect(x1, y, dashSolid, 1);\r\n            x1 += dashLen;\r\n        }\r\n    }\r\n\r\n    static createRectangles(context, rects) {\r\n        context.beginPath();\r\n        let e, i, cnt = rects.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = rects[i];\r\n            context.rect(e.x, e.y, e.w, e.h);\r\n        }\r\n    }\r\n\r\n    static createPolygon(context, points) {\r\n        context.beginPath();\r\n        context.moveTo(points[0].x + 0.5, points[0].y + 0.5);\r\n        let i, cnt = points.length;\r\n        for (i = 1; i < cnt; i++)\r\n            context.lineTo(points[i].x + 0.5, points[i].y + 0.5);\r\n        context.closePath();\r\n    }\r\n\r\n    static drawString(context, str, rect) {\r\n        let w = context.measureText(str).width;\r\n        if (rect.w < w) {\r\n            return false;\r\n        }\r\n        context.fillText(str, rect.x, rect.y);\r\n        rect.x += w;\r\n        rect.w -= w;\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BackgroundPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._color = themes.Theme.Color.Background;\r\n    }\r\n\r\n    getColor() {\r\n        return this._color;\r\n    }\r\n\r\n    setColor(c) {\r\n        this._color = c;\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(area.getLeft(), area.getTop(), area.getWidth(), area.getHeight());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainAreaBackgroundPlotter extends BackgroundPlotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let rect = area.getRect();\r\n        if (!area.isChanged() && !timeline.isUpdated() && !range.isUpdated()) {\r\n            let first = timeline.getFirstIndex();\r\n            let last = timeline.getLastIndex() - 2;\r\n            let start = Math.max(first, last);\r\n            rect.X = timeline.toColumnLeft(start);\r\n            rect.Width = area.getRight() - rect.X;\r\n        }\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(rect.X, rect.Y, rect.Width, rect.Height);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeAreaBackgroundPlotter extends BackgroundPlotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let range = mgr.getRange(areaName.substring(0, areaName.lastIndexOf(\"Range\")));\r\n        let isMainRange = range.getNameObject().getCompAt(2) === \"main\";\r\n        if (!isMainRange && !area.isChanged() && !range.isUpdated()) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(area.getLeft(), area.getTop(), area.getWidth(), area.getHeight());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelineAreaBackgroundPlotter extends BackgroundPlotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (!area.isChanged() && !timeline.isUpdated())\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(this._color);\r\n        context.fillRect(area.getLeft(), area.getTop(), area.getWidth(), area.getHeight());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CGridPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        let clipped = false;\r\n        if (!area.isChanged() && !timeline.isUpdated() && !range.isUpdated()) {\r\n            let first = timeline.getFirstIndex();\r\n            let last = timeline.getLastIndex();\r\n            let start = Math.max(first, last - 2);\r\n            let left = timeline.toColumnLeft(start);\r\n            context.save();\r\n            context.rect(left, area.getTop(), area.getRight() - left, area.getHeight());\r\n            context.clip();\r\n            clipped = true;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Grid0);\r\n        context.beginPath();\r\n        let dashLen = 4,\r\n            dashSolid = 1;\r\n        if (Plotter.isChrome) {\r\n            dashLen = 4;\r\n            dashSolid = 1;\r\n        }\r\n        let gradations = range.getGradations();\r\n        for (let n in gradations) {\r\n            Plotter.createHorzDashedLine(context, area.getLeft(), area.getRight(), range.toY(gradations[n]), dashLen, dashSolid);\r\n        }\r\n        context.fill();\r\n        if (clipped) {\r\n            context.restore();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CandlestickPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let dark = Util.isInstance(theme, themes.DarkTheme);\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated())\r\n            start = first;\r\n        else\r\n            start = Math.max(first, last - 2);\r\n        let cW = timeline.getColumnWidth();\r\n        let iW = timeline.getItemWidth();\r\n        let left = timeline.toItemLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        let strokePosRects = [];\r\n        let fillPosRects = [];\r\n        let fillUchRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = start; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let high = range.toY(data.high);\r\n            let low = range.toY(data.low);\r\n            let open = data.open;\r\n            let close = data.close;\r\n            if (close > open) {\r\n                let top = range.toY(close);\r\n                let bottom = range.toY(open);\r\n                let iH = Math.max(bottom - top, 1);\r\n                if (iH > 1 && iW > 1 && dark)\r\n                    strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                else\r\n                    fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                if (data.high > close) {\r\n                    high = Math.min(high, top - 1);\r\n                    fillPosRects.push({x: center, y: high, w: 1, h: top - high});\r\n                }\r\n                if (open > data.low) {\r\n                    low = Math.max(low, bottom + 1);\r\n                    fillPosRects.push({x: center, y: bottom, w: 1, h: low - bottom});\r\n                }\r\n            } else if (close === open) {\r\n                let top = range.toY(close);\r\n                fillUchRects.push({x: left, y: top, w: Math.max(iW, 1), h: 1});\r\n                if (data.high > close)\r\n                    high = Math.min(high, top - 1);\r\n                if (open > data.low)\r\n                    low = Math.max(low, top + 1);\r\n                if (high < low)\r\n                    fillUchRects.push({x: center, y: high, w: 1, h: low - high});\r\n            } else {\r\n                let top = range.toY(open);\r\n                let bottom = range.toY(close);\r\n                let iH = Math.max(bottom - top, 1);\r\n                fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                if (data.high > open)\r\n                    high = Math.min(high, top - 1);\r\n                if (close > data.low)\r\n                    low = Math.max(low, bottom + 1);\r\n                if (high < low)\r\n                    fillNegRects.push({x: center, y: high, w: 1, h: low - high});\r\n            }\r\n            left += cW;\r\n            center += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillUchRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillUchRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CandlestickHLCPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource) || ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let dark = Util.isInstance(theme, themes.DarkTheme);\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated()) {\r\n            start = first;\r\n        } else {\r\n            start = Math.max(first, last - 2);\r\n        }\r\n        let cW = timeline.getColumnWidth();\r\n        let iW = timeline.getItemWidth();\r\n        let left = timeline.toItemLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        let strokePosRects = [];\r\n        let fillPosRects = [];\r\n        let fillUchRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = start; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let high = range.toY(data.high);\r\n            let low = range.toY(data.low);\r\n            let open = data.open;\r\n            if (i > 0) {\r\n                open = ds.getDataAt(i - 1).close;\r\n            }\r\n            let close = data.close;\r\n            if (close > open) {\r\n                let top = range.toY(close);\r\n                let bottom = range.toY(open);\r\n                let iH = Math.max(bottom - top, 1);\r\n                if (iH > 1 && iW > 1 && dark) {\r\n                    strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                } else {\r\n                    fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                }\r\n                if (data.high > close) {\r\n                    high = Math.min(high, top - 1);\r\n                    fillPosRects.push({x: center, y: high, w: 1, h: top - high});\r\n                }\r\n                if (open > data.low) {\r\n                    low = Math.max(low, bottom + 1);\r\n                    fillPosRects.push({x: center, y: bottom, w: 1, h: low - bottom});\r\n                }\r\n            } else if (close === open) {\r\n                let top = range.toY(close);\r\n                fillUchRects.push({x: left, y: top, w: Math.max(iW, 1), h: 1});\r\n                if (data.high > close) {\r\n                    high = Math.min(high, top - 1);\r\n                }\r\n                if (open > data.low) {\r\n                    low = Math.max(low, top + 1);\r\n                }\r\n                if (high < low) {\r\n                    fillUchRects.push({x: center, y: high, w: 1, h: low - high});\r\n                }\r\n            } else {\r\n                let top = range.toY(open);\r\n                let bottom = range.toY(close);\r\n                let iH = Math.max(bottom - top, 1);\r\n                fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                if (data.high > open) {\r\n                    high = Math.min(high, top - 1);\r\n                }\r\n                if (close > data.low) {\r\n                    low = Math.max(low, bottom + 1);\r\n                }\r\n                if (high < low) {\r\n                    fillNegRects.push({x: center, y: high, w: 1, h: low - high});\r\n                }\r\n            }\r\n            left += cW;\r\n            center += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillUchRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillUchRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OHLCPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource) || ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0) {\r\n            return;\r\n        }\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated()) {\r\n            start = first;\r\n        } else {\r\n            start = Math.max(first, last - 2);\r\n        }\r\n        let cW = timeline.getColumnWidth();\r\n        let iW = timeline.getItemWidth() >> 1;\r\n        let left = timeline.toItemLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        let right = left + timeline.getItemWidth();\r\n        let fillPosRects = [];\r\n        let fillUchRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = start; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let high = range.toY(data.high);\r\n            let low = range.toY(data.low);\r\n            let iH = Math.max(low - high, 1);\r\n            if (data.close > data.open) {\r\n                let top = range.toY(data.close);\r\n                let bottom = range.toY(data.open);\r\n                fillPosRects.push({x: center, y: high, w: 1, h: iH});\r\n                fillPosRects.push({x: left, y: top, w: iW, h: 1});\r\n                fillPosRects.push({x: center, y: bottom, w: iW, h: 1});\r\n            } else if (data.close === data.open) {\r\n                let y = range.toY(data.close);\r\n                fillUchRects.push({x: center, y: high, w: 1, h: iH});\r\n                fillUchRects.push({x: left, y: y, w: iW, h: 1});\r\n                fillUchRects.push({x: center, y: y, w: iW, h: 1});\r\n            } else {\r\n                let top = range.toY(data.open);\r\n                let bottom = range.toY(data.close);\r\n                fillNegRects.push({x: center, y: high, w: 1, h: iH});\r\n                fillNegRects.push({x: left, y: top, w: iW, h: 1});\r\n                fillNegRects.push({x: center, y: bottom, w: iW, h: 1});\r\n            }\r\n            left += cW;\r\n            center += cW;\r\n            right += cW;\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillUchRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillUchRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    };\r\n\r\n}\r\n\r\n\r\nexport class MainInfoPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"top\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let rect = {\r\n            x: area.getLeft() + 4,\r\n            y: area.getTop() + 2,\r\n            w: area.getWidth() - 8,\r\n            h: 20\r\n        };\r\n        let selIndex = timeline.getSelectedIndex();\r\n        if (selIndex < 0)\r\n            return;\r\n        let data = ds.getDataAt(selIndex);\r\n        let digits = ds.getDecimalDigits();\r\n        let time = new Date(data.date);\r\n        let year = time.getFullYear();\r\n        let month = Util.formatTime(time.getMonth() + 1);\r\n        let date = Util.formatTime(time.getDate());\r\n        let hour = Util.formatTime(time.getHours());\r\n        let minute = Util.formatTime(time.getMinutes());\r\n        let lang = mgr.getLanguage();\r\n        if (lang === \"zh-cn\") {\r\n            // if (!Plotter.drawString(context, '时间: ' +\r\n            //         year + '-' + month + '-' + date + '  ' + hour + ':' + minute, rect))\r\n            //     return;\r\n            if (!Plotter.drawString(context, '  开: ' + data.open.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  高: ' + data.high.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  低: ' + data.low.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  收: ' + data.close.toFixed(digits), rect))\r\n                return;\r\n        } else if (lang === \"en-us\") {\r\n            // if (!Plotter.drawString(context, 'DATE: ' +\r\n            //         year + '-' + month + '-' + date + '  ' + hour + ':' + minute, rect))\r\n            //     return;\r\n            if (!Plotter.drawString(context, '  O: ' + data.open.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  H: ' + data.high.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  L: ' + data.low.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  C: ' + data.close.toFixed(digits), rect))\r\n                return;\r\n        } else if (lang === \"zh-tw\") {\r\n            // if (!Plotter.drawString(context, '時間: ' +\r\n            //         year + '-' + month + '-' + date + '  ' + hour + ':' + minute, rect))\r\n            //     return;\r\n            if (!Plotter.drawString(context, '  開: ' + data.open.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  高: ' + data.high.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  低: ' + data.low.toFixed(digits), rect))\r\n                return;\r\n            if (!Plotter.drawString(context, '  收: ' + data.close.toFixed(digits), rect))\r\n                return;\r\n        }\r\n        if (selIndex > 0) {\r\n            if (lang === \"zh-cn\") {\r\n                if (!Plotter.drawString(context, '  涨幅: ', rect))\r\n                    return;\r\n            } else if (lang === \"en-us\") {\r\n                if (!Plotter.drawString(context, '  CHANGE: ', rect))\r\n                    return;\r\n            } else if (lang === \"zh-tw\") {\r\n                if (!Plotter.drawString(context, '  漲幅: ', rect))\r\n                    return;\r\n            }\r\n            let prev = ds.getDataAt(selIndex - 1);\r\n            let change;\r\n            if ((data.close - prev.close) / prev.close * 100.0) {\r\n                change = (data.close - prev.close) / prev.close * 100.0;\r\n            } else {\r\n                change = 0.00;\r\n            }\r\n\r\n\r\n            if (change >= 0) {\r\n                change = ' ' + change.toFixed(2);\r\n                context.fillStyle = theme.getColor(themes.Theme.Color.TextPositive);\r\n            } else {\r\n                change = change.toFixed(2);\r\n                context.fillStyle = theme.getColor(themes.Theme.Color.TextNegative);\r\n            }\r\n            if (!Plotter.drawString(context, change, rect))\r\n                return;\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n            if (!Plotter.drawString(context, ' %', rect))\r\n                return;\r\n        }\r\n\r\n        let amplitude;\r\n        if ((data.high - data.low) / data.low * 100.0) {\r\n            amplitude = (data.high - data.low) / data.low * 100.0;\r\n        } else {\r\n            amplitude = 0.00;\r\n        }\r\n\r\n        if (lang === \"zh-cn\") {\r\n            if (!Plotter.drawString(context, '  振幅: ' + amplitude.toFixed(2) + ' %', rect)) {\r\n                return;\r\n            }\r\n            // if (!Plotter.drawString(context, '  量: ' + data.volume.toFixed(2), rect)) {\r\n            //     return;\r\n            // }\r\n        } else if (lang === \"en-us\") {\r\n            if (!Plotter.drawString(context, '  AMPLITUDE: ' + amplitude.toFixed(2) + ' %', rect)) {\r\n                return;\r\n            }\r\n            // if (!Plotter.drawString(context, '  V: ' + data.volume.toFixed(2), rect)) {\r\n            //     return;\r\n            // }\r\n        } else if (lang === \"zh-tw\") {\r\n            if (!Plotter.drawString(context, '  振幅: ' + amplitude.toFixed(2) + ' %', rect)) {\r\n                return;\r\n            }\r\n            // if (!Plotter.drawString(context, '  量: ' + data.volume.toFixed(2), rect)) {\r\n            //     return;\r\n            // }\r\n        }\r\n        let dp = mgr.getDataProvider(this.getAreaName() + \".secondary\");\r\n        if (dp === undefined) {\r\n            return;\r\n        }\r\n        let indic = dp.getIndicator();\r\n        let n, cnt = indic.getOutputCount();\r\n        for (n = 0; n < cnt; n++) {\r\n            let out = indic.getOutputAt(n);\r\n            let v = out.execute(selIndex);\r\n            if (isNaN(v)) {\r\n                continue;\r\n            }\r\n            let info = \"  \" + out.getName() + \": \" + v.toFixed(digits);\r\n            let color = out.getColor();\r\n            if (color === undefined) {\r\n                color = themes.Theme.Color.Indicator0 + n;\r\n            }\r\n            context.fillStyle = theme.getColor(color);\r\n            if (!Plotter.drawString(context, info, rect)) {\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let dp = mgr.getDataProvider(this.getName());\r\n        if (!Util.isInstance(dp, data_providers.IndicatorDataProvider))\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let cW = timeline.getColumnWidth();\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let start;\r\n        if (area.isChanged() || timeline.isUpdated() || range.isUpdated())\r\n            start = first;\r\n        else\r\n            start = Math.max(first, last - 2);\r\n        let indic = dp.getIndicator();\r\n        let out, n, outCount = indic.getOutputCount();\r\n        for (n = 0; n < outCount; n++) {\r\n            out = indic.getOutputAt(n);\r\n            let style = out.getStyle();\r\n            if (style === exprs.OutputExpr.outputStyle.VolumeStick) {\r\n                this.drawVolumeStick(context, theme,\r\n                    mgr.getDataSource(this.getDataSourceName()), start, last,\r\n                    timeline.toItemLeft(start), cW, timeline.getItemWidth(), range);\r\n            } else if (style === exprs.OutputExpr.outputStyle.MACDStick) {\r\n                this.drawMACDStick(context, theme,\r\n                    out, start, last,\r\n                    timeline.toItemLeft(start), cW, timeline.getItemWidth(), range);\r\n            } else if (style === exprs.OutputExpr.outputStyle.SARPoint) {\r\n                this.drawSARPoint(context, theme,\r\n                    out, start, last,\r\n                    timeline.toItemCenter(start), cW, timeline.getItemWidth(), range);\r\n            }\r\n        }\r\n        let left = timeline.toColumnLeft(start);\r\n        let center = timeline.toItemCenter(start);\r\n        context.save();\r\n        context.rect(left, area.getTop(), area.getRight() - left, area.getHeight());\r\n        context.clip();\r\n        context.translate(0.5, 0.5);\r\n        for (n = 0; n < outCount; n++) {\r\n            let x = center;\r\n            out = indic.getOutputAt(n);\r\n            if (out.getStyle() === exprs.OutputExpr.outputStyle.Line) {\r\n                let v, points = [];\r\n                if (start > first) {\r\n                    v = out.execute(start - 1);\r\n                    if (isNaN(v) === false)\r\n                        points.push({\"x\": x - cW, \"y\": range.toY(v)});\r\n                }\r\n                for (let i = start; i < last; i++, x += cW) {\r\n                    v = out.execute(i);\r\n                    if (isNaN(v) === false)\r\n                        points.push({\"x\": x, \"y\": range.toY(v)});\r\n                }\r\n                if (points.length > 0) {\r\n                    let color = out.getColor();\r\n                    if (color === undefined)\r\n                        color = themes.Theme.Color.Indicator0 + n;\r\n                    context.strokeStyle = theme.getColor(color);\r\n                    Plotter.drawLines(context, points);\r\n                }\r\n            }\r\n        }\r\n        context.restore();\r\n    }\r\n\r\n    drawVolumeStick(context, theme, ds, first, last, startX, cW, iW, range) {\r\n        let dark = Util.isInstance(theme, themes.DarkTheme);\r\n        let left = startX;\r\n        let bottom = range.toY(0);\r\n        let strokePosRects = [];\r\n        let fillPosRects = [];\r\n        let fillNegRects = [];\r\n        for (let i = first; i < last; i++) {\r\n            let data = ds.getDataAt(i);\r\n            let top = range.toY(data.volume);\r\n            let iH = range.toHeight(data.volume);\r\n            if (data.close > data.open) {\r\n                if (iH > 1 && iW > 1 && dark) {\r\n                    strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                } else {\r\n                    fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                }\r\n            } else if (data.close === data.open) {\r\n                if (i > 0 && data.close >= ds.getDataAt(i - 1).close) {\r\n                    if (iH > 1 && iW > 1 && dark) {\r\n                        strokePosRects.push({x: left + 0.5, y: top + 0.5, w: iW - 1, h: iH - 1});\r\n                    } else {\r\n                        fillPosRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                    }\r\n                } else {\r\n                    fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n                }\r\n            } else {\r\n                fillNegRects.push({x: left, y: top, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n            }\r\n            left += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n    drawMACDStick(context, theme, output, first, last, startX, cW, iW, range) {\r\n        let left = startX;\r\n        let middle = range.toY(0);\r\n        let strokePosRects = [];\r\n        let strokeNegRects = [];\r\n        let fillPosRects = [];\r\n        let fillNegRects = [];\r\n        let prevMACD = (first > 0) ? output.execute(first - 1) : NaN;\r\n        for (let i = first; i < last; i++) {\r\n            let MACD = output.execute(i);\r\n            if (MACD >= 0) {\r\n                let iH = range.toHeight(MACD);\r\n                if ((i === 0 || MACD >= prevMACD) && iH > 1 && iW > 1)\r\n                    strokePosRects.push({x: left + 0.5, y: middle - iH + 0.5, w: iW - 1, h: iH - 1});\r\n                else\r\n                    fillPosRects.push({x: left, y: middle - iH, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n            } else {\r\n                let iH = range.toHeight(-MACD);\r\n                if ((i === 0 || MACD >= prevMACD) && iH > 1 && iW > 1)\r\n                    strokeNegRects.push({x: left + 0.5, y: middle + 0.5, w: iW - 1, h: iH - 1});\r\n                else\r\n                    fillNegRects.push({x: left, y: middle, w: Math.max(iW, 1), h: Math.max(iH, 1)});\r\n            }\r\n            prevMACD = MACD;\r\n            left += cW;\r\n        }\r\n        if (strokePosRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, strokePosRects);\r\n            context.stroke();\r\n        }\r\n        if (strokeNegRects.length > 0) {\r\n            context.strokeStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, strokeNegRects);\r\n            context.stroke();\r\n        }\r\n        if (fillPosRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Positive);\r\n            Plotter.createRectangles(context, fillPosRects);\r\n            context.fill();\r\n        }\r\n        if (fillNegRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Negative);\r\n            Plotter.createRectangles(context, fillNegRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n    drawSARPoint(context, theme, output, first, last, startX, cW, iW, range) {\r\n        let r = iW >> 1;\r\n        if (r < 0.5) r = 0.5;\r\n        if (r > 4) r = 4;\r\n        let center = startX;\r\n        let right = center + r;\r\n        let endAngle = 2 * Math.PI;\r\n        context.save();\r\n        context.translate(0.5, 0.5);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Indicator3);\r\n        context.beginPath();\r\n        for (let i = first; i < last; i++) {\r\n            let y = range.toY(output.execute(i));\r\n            context.moveTo(right, y);\r\n            context.arc(center, y, r, 0, endAngle);\r\n            center += cW;\r\n            right += cW;\r\n        }\r\n        context.stroke();\r\n        context.restore();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorInfoPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let dp = mgr.getDataProvider(this.getAreaName() + \".secondary\");\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"top\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let rect = {\r\n            x: area.getLeft() + 4,\r\n            y: area.getTop() + 2,\r\n            w: area.getWidth() - 8,\r\n            h: 20\r\n        };\r\n        let indic = dp.getIndicator();\r\n        let title;\r\n        switch (indic.getParameterCount()) {\r\n            case 0:\r\n                title = indic.getName();\r\n                break;\r\n            case 1:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() +\r\n                    \")\";\r\n                break;\r\n            case 2:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() + \",\" +\r\n                    indic.getParameterAt(1).getValue() +\r\n                    \")\";\r\n                break;\r\n            case 3:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() + \",\" +\r\n                    indic.getParameterAt(1).getValue() + \",\" +\r\n                    indic.getParameterAt(2).getValue() +\r\n                    \")\";\r\n                break;\r\n            case 4:\r\n                title = indic.getName() + \"(\" +\r\n                    indic.getParameterAt(0).getValue() + \",\" +\r\n                    indic.getParameterAt(1).getValue() + \",\" +\r\n                    indic.getParameterAt(2).getValue() + \",\" +\r\n                    indic.getParameterAt(3).getValue() +\r\n                    \")\";\r\n                break;\r\n            default:\r\n                return;\r\n        }\r\n        if (!Plotter.drawString(context, title, rect))\r\n            return;\r\n        let selIndex = timeline.getSelectedIndex();\r\n        if (selIndex < 0)\r\n            return;\r\n        let out, v, info, color;\r\n        let n, cnt = indic.getOutputCount();\r\n        for (n = 0; n < cnt; n++) {\r\n            out = indic.getOutputAt(n);\r\n            v = out.execute(selIndex);\r\n            if (isNaN(v))\r\n                continue;\r\n            info = \"  \" + out.getName() + \": \" + v.toFixed(2);\r\n            color = out.getColor();\r\n            if (color === undefined)\r\n                color = themes.Theme.Color.Indicator0 + n;\r\n            context.fillStyle = theme.getColor(color);\r\n            if (!Plotter.drawString(context, info, rect))\r\n                return;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MinMaxPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1)\r\n            return;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getInnerWidth() < timeline.getColumnWidth())\r\n            return;\r\n        let range = mgr.getRange(this.getAreaName());\r\n        if (range.getRange() === 0)\r\n            return;\r\n        let dp = mgr.getDataProvider(this.getAreaName() + \".main\");\r\n        let first = timeline.getFirstIndex();\r\n        let center = (first + timeline.getLastIndex()) >> 1;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let digits = ds.getDecimalDigits();\r\n        this.drawMark(context, dp.getMinValue(), digits, range.toY(dp.getMinValue()),\r\n            first, center, dp.getMinValueIndex(), timeline);\r\n        this.drawMark(context, dp.getMaxValue(), digits, range.toY(dp.getMaxValue()),\r\n            first, center, dp.getMaxValueIndex(), timeline);\r\n    }\r\n\r\n    drawMark(context, v, digits, y, first, center, index, timeline) {\r\n        let arrowStart, arrowStop, _arrowStop;\r\n        let textStart;\r\n        if (index > center) {\r\n            context.textAlign = \"right\";\r\n            arrowStart = timeline.toItemCenter(index) - 4;\r\n            arrowStop = arrowStart - 7;\r\n            _arrowStop = arrowStart - 3;\r\n            textStart = arrowStop - 4;\r\n        } else {\r\n            context.textAlign = \"left\";\r\n            arrowStart = timeline.toItemCenter(index) + 4;\r\n            arrowStop = arrowStart + 7;\r\n            _arrowStop = arrowStart + 3;\r\n            textStart = arrowStop + 4;\r\n        }\r\n        Plotter.drawLine(context, arrowStart, y, arrowStop, y);\r\n        Plotter.drawLine(context, arrowStart, y, _arrowStop, y + 2);\r\n        Plotter.drawLine(context, arrowStart, y, _arrowStop, y - 2);\r\n        context.fillText(Util.fromFloat(v, digits), textStart, y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelinePlotter extends Plotter {\r\n\r\n    static TP_MINUTE = 60 * 1000;\r\n    static TP_HOUR = 60 * TimelinePlotter.TP_MINUTE;\r\n    static TP_DAY = 24 * TimelinePlotter.TP_HOUR;\r\n\r\n    static TIME_INTERVAL = [\r\n        5 * TimelinePlotter.TP_MINUTE,\r\n        10 * TimelinePlotter.TP_MINUTE,\r\n        15 * TimelinePlotter.TP_MINUTE,\r\n        30 * TimelinePlotter.TP_MINUTE,\r\n        TimelinePlotter.TP_HOUR,\r\n        2 * TimelinePlotter.TP_HOUR,\r\n        3 * TimelinePlotter.TP_HOUR,\r\n        6 * TimelinePlotter.TP_HOUR,\r\n        12 * TimelinePlotter.TP_HOUR,\r\n        TimelinePlotter.TP_DAY,\r\n        2 * TimelinePlotter.TP_DAY\r\n    ];\r\n\r\n    static MonthConvert = {\r\n        1: \"Jan.\",\r\n        2: \"Feb.\",\r\n        3: \"Mar.\",\r\n        4: \"Apr.\",\r\n        5: \"May.\",\r\n        6: \"Jun.\",\r\n        7: \"Jul.\",\r\n        8: \"Aug.\",\r\n        9: \"Sep.\",\r\n        10: \"Oct.\",\r\n        11: \"Nov.\",\r\n        12: \"Dec.\"\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (!area.isChanged() && !timeline.isUpdated())\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 2)\r\n            return;\r\n        let timeInterval = ds.getDataAt(1).date - ds.getDataAt(0).date;\r\n        let n, cnt = TimelinePlotter.TIME_INTERVAL.length;\r\n        for (n = 0; n < cnt; n++) {\r\n            if (timeInterval < TimelinePlotter.TIME_INTERVAL[n])\r\n                break;\r\n        }\r\n        for (; n < cnt; n++) {\r\n            if (TimelinePlotter.TIME_INTERVAL[n] % timeInterval === 0)\r\n                if ((TimelinePlotter.TIME_INTERVAL[n] / timeInterval) * timeline.getColumnWidth() > 60)\r\n                    break;\r\n        }\r\n        let first = timeline.getFirstIndex();\r\n        let last = timeline.getLastIndex();\r\n        let d = new Date();\r\n        let local_utc_diff = d.getTimezoneOffset() * 60 * 1000;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        let lang = mgr.getLanguage();\r\n        let gridRects = [];\r\n        let top = area.getTop();\r\n        let middle = area.getMiddle();\r\n        for (let i = first; i < last; i++) {\r\n            let utcDate = ds.getDataAt(i).date;\r\n            let localDate = utcDate - local_utc_diff;\r\n            let time = new Date(utcDate);\r\n            let year = time.getFullYear();\r\n            let month = time.getMonth() + 1;\r\n            let date = time.getDate();\r\n            let hour = time.getHours();\r\n            let minute = time.getMinutes();\r\n            let text = \"\";\r\n            if (n < cnt) {\r\n                let m = Math.max(\r\n                    TimelinePlotter.TP_DAY,\r\n                    TimelinePlotter.TIME_INTERVAL[n]);\r\n                if (localDate % m === 0) {\r\n                    if (lang === \"zh-cn\")\r\n                        text = month.toString() + \"月\" + date.toString() + \"日\";\r\n                    else if (lang === \"zh-tw\")\r\n                        text = month.toString() + \"月\" + date.toString() + \"日\";\r\n                    else if (lang === \"en-us\")\r\n                        text = TimelinePlotter.MonthConvert[month] + \" \" + date.toString();\r\n                    context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n                } else if (localDate % TimelinePlotter.TIME_INTERVAL[n] === 0) {\r\n                    let strMinute = minute.toString();\r\n                    if (minute < 10)\r\n                        strMinute = \"0\" + strMinute;\r\n                    text = hour.toString() + \":\" + strMinute;\r\n                    context.fillStyle = theme.getColor(themes.Theme.Color.Text2);\r\n                }\r\n            } else if (date === 1 && (hour < (timeInterval / TimelinePlotter.TP_HOUR))) {\r\n                if (month === 1) {\r\n                    text = year.toString();\r\n                    if (lang === \"zh-cn\")\r\n                        text += \"年\";\r\n                    else if (lang === \"zh-tw\")\r\n                        text += \"年\";\r\n                } else {\r\n                    if (lang === \"zh-cn\")\r\n                        text = month.toString() + \"月\";\r\n                    else if (lang === \"zh-tw\")\r\n                        text = month.toString() + \"月\";\r\n                    else if (lang === \"en-us\")\r\n                        text = TimelinePlotter.MonthConvert[month];\r\n                }\r\n                context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n            }\r\n            if (text.length > 0) {\r\n                let x = timeline.toItemCenter(i);\r\n                gridRects.push({x: x, y: top, w: 1, h: 4});\r\n                context.fillText(text, x, middle);\r\n            }\r\n        }\r\n        if (gridRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n            Plotter.createRectangles(context, gridRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangePlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    getRequiredWidth(context, v) {\r\n        let mgr = ChartManager.instance;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        return context.measureText((Math.floor(v) + 0.88).toString()).width + 16;\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let isMainRange = range.getNameObject().getCompAt(2) === \"main\";\r\n        if (isMainRange) {\r\n        } else {\r\n            if (!area.isChanged() && !range.isUpdated())\r\n                return;\r\n        }\r\n        let gradations = range.getGradations();\r\n        if (gradations.length === 0)\r\n            return;\r\n        let left = area.getLeft();\r\n        let right = area.getRight();\r\n        let center = area.getCenter();\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text2);\r\n        let gridRects = [];\r\n        for (let n in gradations) {\r\n            let y = range.toY(gradations[n]);\r\n            gridRects.push({x: left, y: y, w: 6, h: 1});\r\n            gridRects.push({x: right - 6, y: y, w: 6, h: 1});\r\n            context.fillText(Util.fromFloat(gradations[n], 2), center, y);\r\n        }\r\n        if (gridRects.length > 0) {\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n            Plotter.createRectangles(context, gridRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class COrderGraphPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        return this._Draw_(context);\r\n    }\r\n\r\n    _Draw_(context) {\r\n        if (this.Update() === false) return;\r\n        if (this.updateData() === false) return;\r\n        this.m_top = this.m_pArea.getTop();\r\n        this.m_bottom = this.m_pArea.getBottom();\r\n        this.m_left = this.m_pArea.getLeft();\r\n        this.m_right = this.m_pArea.getRight();\r\n        context.save();\r\n        context.rect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        context.clip();\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        this.x_offset = 0;\r\n        this.y_offset = 0;\r\n        let ask_tmp = {};\r\n        let bid_tmp = {};\r\n        ask_tmp.x = this.m_left + all.array[this.m_ask_si].amounts * this.m_Step;\r\n        ask_tmp.y = this.m_pRange.toY(all.array[this.m_ask_si].rate);\r\n        bid_tmp.x = this.m_left + all.array[this.m_bid_si].amounts * this.m_Step;\r\n        bid_tmp.y = this.m_pRange.toY(all.array[this.m_bid_si].rate);\r\n        if (Math.abs(ask_tmp.y - bid_tmp.y) < 1) {\r\n            this.y_offset = 1;\r\n        }\r\n        this.x_offset = 1;\r\n        this.DrawBackground(context);\r\n        this.UpdatePoints();\r\n        this.FillBlack(context);\r\n        this.DrawGradations(context);\r\n        this.DrawLine(context);\r\n        context.restore();\r\n    }\r\n\r\n    DrawBackground(context) {\r\n        context.fillStyle = this.m_pTheme.getColor(themes.Theme.Color.Background);\r\n        context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        if (this.m_mode === 0) {\r\n            let ask_bottom = this.m_pRange.toY(all.array[this.m_ask_si].rate) - this.y_offset;\r\n            let bid_top = this.m_pRange.toY(all.array[this.m_bid_si].rate) + this.y_offset;\r\n            let ask_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            ask_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            ask_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.PositiveDark));\r\n            context.fillStyle = ask_gradient;\r\n            context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, ask_bottom - this.m_top);\r\n            let bid_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            bid_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            bid_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.NegativeDark));\r\n            context.fillStyle = bid_gradient;\r\n            context.fillRect(this.m_left, bid_top, this.m_right - this.m_left, this.m_bottom - bid_top);\r\n        } else if (this.m_mode === 1) {\r\n            let ask_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            ask_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            ask_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.PositiveDark));\r\n            context.fillStyle = ask_gradient;\r\n            context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        } else if (this.m_mode === 2) {\r\n            let bid_gradient = context.createLinearGradient(this.m_left, 0, this.m_right, 0);\r\n            bid_gradient.addColorStop(0, this.m_pTheme.getColor(themes.Theme.Color.Background));\r\n            bid_gradient.addColorStop(1, this.m_pTheme.getColor(themes.Theme.Color.NegativeDark));\r\n            context.fillStyle = bid_gradient;\r\n            context.fillRect(this.m_left, this.m_top, this.m_right - this.m_left, this.m_bottom - this.m_top);\r\n        }\r\n    }\r\n\r\n    DrawLine(context) {\r\n        if (this.m_mode === 0 || this.m_mode === 1) {\r\n            context.strokeStyle = this.m_pTheme.getColor(themes.Theme.Color.Positive);\r\n            context.beginPath();\r\n            context.moveTo(Math.floor(this.m_ask_points[0].x) + 0.5, Math.floor(this.m_ask_points[0].y) + 0.5);\r\n            for (let i = 1; i < this.m_ask_points.length; i++) {\r\n                context.lineTo(Math.floor(this.m_ask_points[i].x) + 0.5, Math.floor(this.m_ask_points[i].y) + 0.5);\r\n            }\r\n            context.stroke();\r\n        }\r\n        if (this.m_mode === 0 || this.m_mode === 2) {\r\n            context.strokeStyle = this.m_pTheme.getColor(themes.Theme.Color.Negative);\r\n            context.beginPath();\r\n            context.moveTo(this.m_bid_points[0].x + 0.5, this.m_bid_points[0].y + 0.5);\r\n            for (let i = 1; i < this.m_bid_points.length; i++) {\r\n                context.lineTo(this.m_bid_points[i].x + 0.5, this.m_bid_points[i].y + 0.5);\r\n            }\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    UpdatePoints() {\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        this.m_ask_points = [];\r\n        let index_ask = {};\r\n        index_ask.x = Math.floor(this.m_left);\r\n        index_ask.y = Math.floor(this.m_pRange.toY(all.array[this.m_ask_si].rate) - this.y_offset);\r\n        this.m_ask_points.push(index_ask);\r\n        let ask_p_i = 0;\r\n        for (let i = this.m_ask_si; i >= this.m_ask_ei; i--) {\r\n            let index0 = {};\r\n            let index1 = {};\r\n            if (i === this.m_ask_si) {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.floor(this.m_pRange.toY(all.array[i].rate) - this.y_offset);\r\n                this.m_ask_points.push(index0);\r\n                ask_p_i = 1;\r\n            } else {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.floor(this.m_ask_points[ask_p_i].y);\r\n                index1.x = Math.floor(index0.x);\r\n                index1.y = Math.floor(this.m_pRange.toY(all.array[i].rate) - this.y_offset);\r\n                this.m_ask_points.push(index0);\r\n                ask_p_i++;\r\n                this.m_ask_points.push(index1);\r\n                ask_p_i++;\r\n            }\r\n        }\r\n        this.m_bid_points = [];\r\n        let index_bid = {};\r\n        index_bid.x = Math.floor(this.m_left);\r\n        index_bid.y = Math.ceil(this.m_pRange.toY(all.array[this.m_bid_si].rate) + this.y_offset);\r\n        this.m_bid_points.push(index_bid);\r\n        let bid_p_i = 0;\r\n        for (let i = this.m_bid_si; i <= this.m_bid_ei; i++) {\r\n            let index0 = {};\r\n            let index1 = {};\r\n            if (i === this.m_bid_si) {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.ceil(this.m_pRange.toY(all.array[i].rate) + this.y_offset);\r\n                this.m_bid_points.push(index0);\r\n                bid_p_i = 1;\r\n            } else {\r\n                index0.x = Math.floor(this.m_left + all.array[i].amounts * this.m_Step + this.x_offset);\r\n                index0.y = Math.ceil(this.m_bid_points[bid_p_i].y);\r\n                index1.x = Math.floor(index0.x);\r\n                index1.y = Math.ceil(this.m_pRange.toY(all.array[i].rate) + this.x_offset);\r\n                this.m_bid_points.push(index0);\r\n                bid_p_i++;\r\n                this.m_bid_points.push(index1);\r\n                bid_p_i++;\r\n            }\r\n        }\r\n    }\r\n\r\n    updateData() {\r\n        let all = ChartManager.instance.getChart()._depthData;\r\n        if (all.array === null) return false;\r\n        if (all.array.length <= 50) return false;\r\n        let minRange = this.m_pRange.getOuterMinValue();\r\n        let maxRange = this.m_pRange.getOuterMaxValue();\r\n        this.m_ask_si = all.asks_si;\r\n        this.m_ask_ei = all.asks_si;\r\n        for (let i = all.asks_si; i >= all.asks_ei; i--) {\r\n            if (all.array[i].rate < maxRange)\r\n                this.m_ask_ei = i;\r\n            else\r\n                break;\r\n        }\r\n        this.m_bid_si = all.bids_si;\r\n        this.m_bid_ei = all.bids_si;\r\n        for (let i = all.bids_si; i <= all.bids_ei; i++) {\r\n            if (all.array[i].rate > minRange)\r\n                this.m_bid_ei = i;\r\n            else\r\n                break;\r\n        }\r\n        if (this.m_ask_ei === this.m_ask_si)\r\n            this.m_mode = 2;\r\n        else if (this.m_bid_ei === this.m_bid_si)\r\n            this.m_mode = 1;\r\n        else\r\n            this.m_mode = 0;\r\n        this.m_Step = this.m_pArea.getWidth();\r\n        if (this.m_mode === 0) {\r\n            /*\r\n             * View: B     --------    T\r\n             * Data: Lo      -----     Hi\r\n             */\r\n            if (this.m_ask_ei === all.asks_ei && this.m_bid_ei === all.bids_ei) {\r\n                this.m_Step /= Math.min(all.array[this.m_ask_ei].amounts,\r\n                    all.array[this.m_bid_ei].amounts);\r\n            }\r\n            /*\r\n             * View: B     --------     T\r\n             * Data: Lo         -----   Hi\r\n             */\r\n            else if (this.m_ask_ei !== all.asks_ei && this.m_bid_ei === all.bids_ei) {\r\n                this.m_Step /= all.array[this.m_bid_ei].amounts;\r\n            }\r\n            /*\r\n             * View: B     --------    T\r\n             * Data: Lo  -----         Hi\r\n             */\r\n            else if (this.m_ask_ei === all.asks_ei && this.m_bid_ei !== all.bids_ei) {\r\n                this.m_Step /= all.array[this.m_ask_ei].amounts;\r\n            }\r\n            /*\r\n             * View: B     --------    T\r\n             * Data: Lo  ------------  Hi\r\n             */\r\n            else if (this.m_ask_ei !== all.asks_ei && this.m_bid_ei !== all.bids_ei) {\r\n                this.m_Step /= Math.max(all.array[this.m_ask_ei].amounts,\r\n                    all.array[this.m_bid_ei].amounts);\r\n            }\r\n        } else if (this.m_mode === 1) {\r\n            this.m_Step /= all.array[this.m_ask_ei].amounts;\r\n        } else if (this.m_mode === 2) {\r\n            this.m_Step /= all.array[this.m_bid_ei].amounts;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    Update() {\r\n        this.m_pMgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        this.m_pArea = this.m_pMgr.getArea(areaName);\r\n        if (this.m_pArea === null)\r\n            return false;\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        this.m_pRange = this.m_pMgr.getRange(rangeName);\r\n        if (this.m_pRange === null || this.m_pRange.getRange() === 0.0)\r\n            return false;\r\n        this.m_pTheme = this.m_pMgr.getTheme(this.getFrameName());\r\n        if (this.m_pTheme === null) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    DrawGradations(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let gradations = range.getGradations();\r\n        if (gradations.length === 0)\r\n            return;\r\n        let left = area.getLeft();\r\n        let right = area.getRight();\r\n        let gridRects = [];\r\n        for (let n in gradations) {\r\n            let y = range.toY(gradations[n]);\r\n            gridRects.push({x: left, y: y, w: 6, h: 1});\r\n            gridRects.push({x: right - 6, y: y, w: 6, h: 1});\r\n        }\r\n        if (gridRects.length > 0) {\r\n            let theme = mgr.getTheme(this.getFrameName());\r\n            context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n            Plotter.createRectangles(context, gridRects);\r\n            context.fill();\r\n        }\r\n    }\r\n\r\n    FillBlack(context) {\r\n        let ask_point = this.m_ask_points;\r\n        let bid_point = this.m_bid_points;\r\n        let ask_first_add = {};\r\n        let ask_last_add = {};\r\n        ask_first_add.x = this.m_right;\r\n        ask_first_add.y = ask_point[0].y;\r\n        ask_last_add.x = this.m_right;\r\n        ask_last_add.y = ask_point[ask_point.length - 1].y;\r\n        let bid_first_add = {};\r\n        let bid_last_add = {};\r\n        bid_first_add.x = this.m_right;\r\n        bid_first_add.y = bid_point[0].y - 1;\r\n        bid_last_add.x = this.m_right;\r\n        bid_last_add.y = bid_point[bid_point.length - 1].y;\r\n        ask_point.unshift(ask_first_add);\r\n        ask_point.push(ask_last_add);\r\n        bid_point.unshift(bid_first_add);\r\n        bid_point.push(bid_last_add);\r\n        context.fillStyle = this.m_pTheme.getColor(themes.Theme.Color.Background);\r\n        context.beginPath();\r\n        context.moveTo(Math.floor(ask_point[0].x) + 0.5, Math.floor(ask_point[0].y) + 0.5);\r\n        for (let i = 1; i < ask_point.length; i++) {\r\n            context.lineTo(Math.floor(ask_point[i].x) + 0.5, Math.floor(ask_point[i].y) + 0.5);\r\n        }\r\n        context.fill();\r\n        context.beginPath();\r\n        context.moveTo(Math.floor(bid_point[0].x) + 0.5, Math.floor(bid_point[0].y) + 0.5);\r\n        for (let i = 1; i < bid_point.length; i++) {\r\n            context.lineTo(Math.floor(bid_point[i].x) + 0.5, Math.floor(bid_point[i].y) + 0.5);\r\n        }\r\n        context.fill();\r\n        ask_point.shift();\r\n        ask_point.pop();\r\n        bid_point.shift();\r\n        bid_point.pop();\r\n    }\r\n\r\n    DrawTickerGraph(context) {\r\n        // return;\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        let ticker = ds._dataItems[ds._dataItems.length - 1].close;\r\n        let p1x = this.m_left + 1;\r\n        let p1y = this.m_pRange.toY(ticker);\r\n        let p2x = p1x + 5;\r\n        let p2y = p1y + 2.5;\r\n        let p3x = p1x + 5;\r\n        let p3y = p1y - 2.5;\r\n        context.fillStyle = this.m_pTheme.getColor(themes.Theme.Color.Mark);\r\n        context.strokeStyle = this.m_pTheme.getColor(themes.Theme.Color.Mark);\r\n    };\r\n}\r\n\r\n\r\nexport class LastVolumePlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1)\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        let v = ds.getDataAt(ds.getDataCount() - 1).volume;\r\n        let y = range.toY(v);\r\n        let left = area.getLeft() + 1;\r\n        Plotter.drawLine(context, left, y, left + 7, y);\r\n        Plotter.drawLine(context, left, y, left + 3, y + 2);\r\n        Plotter.drawLine(context, left, y, left + 3, y - 2);\r\n        context.fillText(Util.fromFloat(v, 2), left + 10, y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LastClosePlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0)\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1)\r\n            return;\r\n        let v = ds._dataItems[ds._dataItems.length - 1].close;\r\n        if (v <= range.getMinValue() || v >= range.getMaxValue())\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"left\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.RangeMark);\r\n        let y = range.toY(v);\r\n        let left = area.getLeft() + 1;\r\n        Plotter.drawLine(context, left, y, left + 7, y);\r\n        Plotter.drawLine(context, left, y, left + 3, y + 2);\r\n        Plotter.drawLine(context, left, y, left + 3, y - 2);\r\n        context.fillText(Util.fromFloat(v, ds.getDecimalDigits()), left + 10, y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SelectionPlotter extends Plotter {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr._drawingTool !== ChartManager.DrawingTool.CrossCursor) {\r\n            return;\r\n        }\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getSelectedIndex() < 0) {\r\n            return;\r\n        }\r\n        let range = mgr.getRange(this.getAreaName());\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Cursor);\r\n        let x = timeline.toItemCenter(timeline.getSelectedIndex());\r\n        Plotter.drawLine(context, x, area.getTop() - 1, x, area.getBottom());\r\n        let pos = range.getSelectedPosition();\r\n        if (pos >= 0) {\r\n            Plotter.drawLine(context, area.getLeft(), pos, area.getRight(), pos);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelineSelectionPlotter extends Plotter {\r\n\r\n    static MonthConvert = {\r\n        1: \"Jan.\",\r\n        2: \"Feb.\",\r\n        3: \"Mar.\",\r\n        4: \"Apr.\",\r\n        5: \"May.\",\r\n        6: \"Jun.\",\r\n        7: \"Jul.\",\r\n        8: \"Aug.\",\r\n        9: \"Sep.\",\r\n        10: \"Oct.\",\r\n        11: \"Nov.\",\r\n        12: \"Dec.\"\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getSelectedIndex() < 0)\r\n            return;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource))\r\n            return;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let lang = mgr.getLanguage();\r\n        let x = timeline.toItemCenter(timeline.getSelectedIndex());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Background);\r\n        context.fillRect(x - 52.5, area.getTop() + 2.5, 106, 18);\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Grid3);\r\n        context.strokeRect(x - 52.5, area.getTop() + 2.5, 106, 18);\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text4);\r\n        let time = new Date(ds.getDataAt(timeline.getSelectedIndex()).date);\r\n        let month = time.getMonth() + 1;\r\n        let date = time.getDate();\r\n        let hour = time.getHours();\r\n        let minute = time.getMinutes();\r\n        let second = time.getSeconds();\r\n        let strMonth = month.toString();\r\n        let strDate = date.toString();\r\n        let strHour = hour.toString();\r\n        let strMinute = minute.toString();\r\n        let strSecond = second.toString();\r\n        if (minute < 10) {\r\n            strMinute = \"0\" + strMinute;\r\n        }\r\n        if (second < 10) {\r\n            strSecond = \"0\" + strSecond;\r\n        }\r\n        let text = \"\";\r\n        if (lang === \"zh-cn\") {\r\n            text = strMonth + \"月\" + strDate + \"日  \" +\r\n                strHour + \":\" + strMinute;\r\n        } else if (lang === \"zh-tw\") {\r\n            text = strMonth + \"月\" + strDate + \"日  \" +\r\n                strHour + \":\" + strMinute;\r\n        } else if (lang === \"en-us\") {\r\n            text = TimelineSelectionPlotter.MonthConvert[month] + \" \" + strDate + \"  \" +\r\n                strHour + \":\" + strMinute;\r\n        }\r\n        if (Kline.instance.range < 60000) {\r\n            text += \":\" + strSecond;\r\n        }\r\n        context.fillText(text, x, area.getMiddle());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeSelectionPlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    Draw(context) {\r\n        let mgr = ChartManager.instance;\r\n        let areaName = this.getAreaName();\r\n        let area = mgr.getArea(areaName);\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getSelectedIndex() < 0) {\r\n            return;\r\n        }\r\n        let rangeName = areaName.substring(0, areaName.lastIndexOf(\"Range\"));\r\n        let range = mgr.getRange(rangeName);\r\n        if (range.getRange() === 0.0 || range.getSelectedPosition() < 0) {\r\n            return;\r\n        }\r\n        let v = range.getSelectedValue();\r\n        if (v === -Number.MAX_VALUE) {\r\n            return;\r\n        }\r\n        let y = range.getSelectedPosition();\r\n        Plotter.createPolygon(context, [\r\n            {\"x\": area.getLeft(), \"y\": y},\r\n            {\"x\": area.getLeft() + 5, \"y\": y + 10},\r\n            {\"x\": area.getRight() - 3, \"y\": y + 10},\r\n            {\"x\": area.getRight() - 3, \"y\": y - 10},\r\n            {\"x\": area.getLeft() + 5, \"y\": y - 10}\r\n        ]);\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Background);\r\n        context.fill();\r\n        context.strokeStyle = theme.getColor(themes.Theme.Color.Grid4);\r\n        context.stroke();\r\n        context.font = theme.getFont(themes.Theme.Font.Default);\r\n        context.textAlign = \"center\";\r\n        context.textBaseline = \"middle\";\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Text3);\r\n        let digits = 2;\r\n        if (range.getNameObject().getCompAt(2) === \"main\") {\r\n            digits = mgr.getDataSource(this.getDataSourceName()).getDecimalDigits();\r\n        }\r\n        context.fillText(Util.fromFloat(v, digits), area.getCenter(), y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CToolPlotter extends NamedObject {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        let pMgr = ChartManager.instance;\r\n        let pArea = pMgr.getArea('frame0.k0.main');\r\n        if (pArea === null) {\r\n            this.areaPos = {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0\r\n            };\r\n            return;\r\n        }\r\n        this.areaPos = {\r\n            left: pArea.getLeft(),\r\n            top: pArea.getTop(),\r\n            right: pArea.getRight(),\r\n            bottom: pArea.getBottom()\r\n        };\r\n        this.crossPt = {};\r\n        this.normalSize = 4;\r\n        this.selectedSize = 6;\r\n        this.cursorLen = 4;\r\n        this.cursorGapLen = 3;\r\n        this.theme = ChartManager.instance.getTheme(this.getFrameName());\r\n    }\r\n\r\n    drawCursor(context) {\r\n        this.drawCrossCursor(context);\r\n    }\r\n\r\n    drawCrossCursor(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        let tempPt = this.toolObject.getPoint(0).getPosXY();\r\n        if (tempPt === null) {\r\n            return;\r\n        }\r\n        let x = tempPt.x;\r\n        let y = tempPt.y;\r\n        let cursorLen = this.cursorLen;\r\n        let cursorGapLen = this.cursorGapLen;\r\n        context.fillRect(x, y, 1, 1);\r\n        Plotter.drawLine(context, x - cursorLen - cursorGapLen, y, x - cursorGapLen, y);\r\n        Plotter.drawLine(context, x + cursorLen + cursorGapLen, y, x + cursorGapLen, y);\r\n        Plotter.drawLine(context, x, y - cursorLen - cursorGapLen, x, y - cursorGapLen);\r\n        Plotter.drawLine(context, x, y + cursorLen + cursorGapLen, x, y + cursorGapLen);\r\n    }\r\n\r\n    drawCircle(context, center, radius) {\r\n        let centerX = center.x;\r\n        let centerY = center.y;\r\n        context.beginPath();\r\n        context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.CircleColorFill);\r\n        context.fill();\r\n        context.stroke();\r\n    }\r\n\r\n    drawCtrlPt(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.CircleColorStroke);\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            this.drawCircle(context, this.ctrlPts[1][i], this.normalSize);\r\n        }\r\n    }\r\n\r\n    highlightCtrlPt(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.CircleColorStroke);\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            if (this.toolObject.getPoint(i).getState() === CPoint.state.Highlight)\r\n                this.drawCircle(context, this.ctrlPts[1][i], this.selectedSize);\r\n        }\r\n    }\r\n\r\n    drawFibRayLines(context, startPoint, endPoint) {\r\n        for (let i = 0; i < this.fiboFansSequence.length; i++) {\r\n            let stageY = startPoint.y + (100 - this.fiboFansSequence[i]) / 100 * (endPoint.y - startPoint.y);\r\n            let tempStartPt = {x: startPoint.x, y: startPoint.y};\r\n            let tempEndPt = {x: endPoint.x, y: stageY};\r\n            this.drawRayLines(context, tempStartPt, tempEndPt);\r\n        }\r\n    }\r\n\r\n    drawRayLines(context, startPoint, endPoint) {\r\n        this.getAreaPos();\r\n        let tempStartPt = {x: startPoint.x, y: startPoint.y};\r\n        let tempEndPt = {x: endPoint.x, y: endPoint.y};\r\n        let crossPt = this.getRectCrossPt(this.areaPos, tempStartPt, tempEndPt);\r\n        let tempCrossPt;\r\n        if (endPoint.x === startPoint.x) {\r\n            if (endPoint.y === startPoint.y) {\r\n                tempCrossPt = endPoint;\r\n            } else {\r\n                tempCrossPt = endPoint.y > startPoint.y ? {x: crossPt[1].x, y: crossPt[1].y} : {\r\n                    x: crossPt[0].x,\r\n                    y: crossPt[0].y\r\n                };\r\n            }\r\n        } else {\r\n            tempCrossPt = endPoint.x > startPoint.x ? {x: crossPt[1].x, y: crossPt[1].y} : {\r\n                x: crossPt[0].x,\r\n                y: crossPt[0].y\r\n            };\r\n        }\r\n        Plotter.drawLine(context, startPoint.x, startPoint.y, tempCrossPt.x, tempCrossPt.y);\r\n    }\r\n\r\n    lenBetweenPts(pt1, pt2) {\r\n        return Math.sqrt(Math.pow((pt2.x - pt1.x), 2) + Math.pow((pt2.y - pt1.y), 2));\r\n    }\r\n\r\n    getCtrlPts() {\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            this.ctrlPts[0][i] = this.toolObject.getPoint(i);\r\n        }\r\n    }\r\n\r\n    updateCtrlPtPos() {\r\n        for (let i = 0; i < this.ctrlPtsNum; i++) {\r\n            this.ctrlPts[1][i] = this.ctrlPts[0][i].getPosXY();\r\n        }\r\n    }\r\n\r\n    getAreaPos() {\r\n        let pMgr = ChartManager.instance;\r\n        let pArea = pMgr.getArea('frame0.k0.main');\r\n        if (pArea === null) {\r\n            this.areaPos = {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0\r\n            };\r\n            return;\r\n        }\r\n        this.areaPos = {\r\n            left: Math.floor(pArea.getLeft()),\r\n            top: Math.floor(pArea.getTop()),\r\n            right: Math.floor(pArea.getRight()),\r\n            bottom: Math.floor(pArea.getBottom())\r\n        };\r\n    }\r\n\r\n    updateDraw(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        this.draw(context);\r\n        this.drawCtrlPt(context);\r\n    }\r\n\r\n    finishDraw(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        this.draw(context);\r\n    }\r\n\r\n    highlight(context) {\r\n        context.strokeStyle = this.theme.getColor(themes.Theme.Color.LineColorSelected);\r\n        this.draw(context);\r\n        this.drawCtrlPt(context);\r\n        this.highlightCtrlPt(context);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawStraightLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            Plotter.drawLine(context, this.areaPos.left, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n        } else {\r\n            this.crossPt = this.getRectCrossPt(this.areaPos, this.startPoint, this.endPoint);\r\n            Plotter.drawLine(context, this.crossPt[0].x, this.crossPt[0].y, this.crossPt[1].x, this.crossPt[1].y);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawSegLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x, this.endPoint.y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawRayLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        this.drawRayLines(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawArrowLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.arrowSizeRatio = 0.03;\r\n        this.arrowSize = 4;\r\n        this.crossPt = {x: -1, y: -1};\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    drawArrow(context, startPoint, endPoint) {\r\n        let len = this.lenBetweenPts(startPoint, endPoint);\r\n        let vectorA = [endPoint.x - startPoint.x, endPoint.y - startPoint.y];\r\n        this.crossPt.x = startPoint.x + (1 - this.arrowSize / len) * vectorA[0];\r\n        this.crossPt.y = startPoint.y + (1 - this.arrowSize / len) * vectorA[1];\r\n        let vectorAautho = [-vectorA[1], vectorA[0]];\r\n        let Aautho = {x: vectorAautho[0], y: vectorAautho[1]};\r\n        let origin = {x: 0, y: 0};\r\n        vectorAautho[0] = this.arrowSize * Aautho.x / this.lenBetweenPts(Aautho, origin);\r\n        vectorAautho[1] = this.arrowSize * Aautho.y / this.lenBetweenPts(Aautho, origin);\r\n        let arrowEndPt = [this.crossPt.x + vectorAautho[0], this.crossPt.y + vectorAautho[1]];\r\n        Plotter.drawLine(context, endPoint.x, endPoint.y, arrowEndPt[0], arrowEndPt[1]);\r\n        arrowEndPt = [this.crossPt.x - vectorAautho[0], this.crossPt.y - vectorAautho[1]];\r\n        Plotter.drawLine(context, endPoint.x, endPoint.y, arrowEndPt[0], arrowEndPt[1]);\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x, this.endPoint.y);\r\n        this.drawArrow(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawHoriStraightLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 1;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        Plotter.drawLine(context, this.areaPos.left, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawHoriRayLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x) {\r\n            Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n        } else {\r\n            let tempEndPt = {x: this.endPoint.x, y: this.startPoint.y};\r\n            this.drawRayLines(context, this.startPoint, tempEndPt);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawHoriSegLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        this.endPoint.y = this.startPoint.y;\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x + 1, this.startPoint.y);\r\n        } else {\r\n            Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.endPoint.x, this.startPoint.y);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawVertiStraightLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 1;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        Plotter.drawLine(context, this.startPoint.x, this.areaPos.top, this.startPoint.x, this.areaPos.bottom);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawPriceLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 1;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        context.font = \"12px Tahoma\";\r\n        context.textAlign = \"left\";\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        let text = this.ctrlPts[0][0].getPosIV().v;\r\n        Plotter.drawLine(context, this.startPoint.x, this.startPoint.y, this.areaPos.right, this.startPoint.y);\r\n        context.fillText(text.toFixed(2), this.startPoint.x + 2, this.startPoint.y - 15);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ParallelLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n    }\r\n\r\n    getParaPt() {\r\n        let vectorA = [];\r\n        vectorA[0] = this.endPoint.x - this.startPoint.x;\r\n        vectorA[1] = this.endPoint.y - this.startPoint.y;\r\n        let vectorB = [];\r\n        vectorB[0] = this.paraStartPoint.x - this.startPoint.x;\r\n        vectorB[1] = this.paraStartPoint.y - this.startPoint.y;\r\n        this.paraEndPoint = {x: -1, y: -1};\r\n        this.paraEndPoint.x = vectorA[0] + vectorB[0] + this.startPoint.x;\r\n        this.paraEndPoint.y = vectorA[1] + vectorB[1] + this.startPoint.y;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawBiParallelLinesPlotter extends ParallelLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 3;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.paraStartPoint = this.ctrlPts[1][1];\r\n        this.endPoint = this.ctrlPts[1][2];\r\n        this.getParaPt();\r\n        this.getAreaPos();\r\n        this.crossPt0 = this.getRectCrossPt(this.areaPos, this.startPoint, this.endPoint);\r\n        Plotter.drawLine(context, this.crossPt0[0].x, this.crossPt0[0].y, this.crossPt0[1].x, this.crossPt0[1].y);\r\n        this.crossPt1 = this.getRectCrossPt(this.areaPos, this.paraStartPoint, this.paraEndPoint);\r\n        Plotter.drawLine(context, this.crossPt1[0].x, this.crossPt1[0].y, this.crossPt1[1].x, this.crossPt1[1].y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawBiParallelRayLinesPlotter extends ParallelLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 3;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.paraStartPoint = this.ctrlPts[1][1];\r\n        this.endPoint = this.ctrlPts[1][2];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        this.getParaPt();\r\n        this.drawRayLines(context, this.startPoint, this.endPoint);\r\n        this.drawRayLines(context, this.paraStartPoint, this.paraEndPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawTriParallelLinesPlotter extends ParallelLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 3;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.paraStartPoint = this.ctrlPts[1][1];\r\n        this.endPoint = this.ctrlPts[1][2];\r\n        let vectorA = [];\r\n        vectorA[0] = this.endPoint.x - this.startPoint.x;\r\n        vectorA[1] = this.endPoint.y - this.startPoint.y;\r\n        let vectorB = [];\r\n        vectorB[0] = this.paraStartPoint.x - this.startPoint.x;\r\n        vectorB[1] = this.paraStartPoint.y - this.startPoint.y;\r\n        this.para1EndPoint = {x: -1, y: -1};\r\n        this.para2EndPoint = {x: -1, y: -1};\r\n        this.para2StartPoint = {x: -1, y: -1};\r\n        this.para1EndPoint.x = vectorA[0] + vectorB[0] + this.startPoint.x;\r\n        this.para1EndPoint.y = vectorA[1] + vectorB[1] + this.startPoint.y;\r\n        this.para2StartPoint.x = this.startPoint.x - vectorB[0];\r\n        this.para2StartPoint.y = this.startPoint.y - vectorB[1];\r\n        this.para2EndPoint.x = this.endPoint.x - vectorB[0];\r\n        this.para2EndPoint.y = this.endPoint.y - vectorB[1];\r\n        this.getAreaPos();\r\n        this.crossPt0 = this.getRectCrossPt(this.areaPos, this.startPoint, this.endPoint);\r\n        Plotter.drawLine(context, this.crossPt0[0].x, this.crossPt0[0].y, this.crossPt0[1].x, this.crossPt0[1].y);\r\n        this.crossPt1 = this.getRectCrossPt(this.areaPos, this.paraStartPoint, this.para1EndPoint);\r\n        Plotter.drawLine(context, this.crossPt1[0].x, this.crossPt1[0].y, this.crossPt1[1].x, this.crossPt1[1].y);\r\n        this.crossPt2 = this.getRectCrossPt(this.areaPos, this.para2StartPoint, this.para2EndPoint);\r\n        Plotter.drawLine(context, this.crossPt2[0].x, this.crossPt2[0].y, this.crossPt2[1].x, this.crossPt2[1].y);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BandLinesPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    drawLinesAndInfo(context, startPoint, endPoint) {\r\n        context.font = \"12px Tahoma\";\r\n        context.textAlign = \"left\";\r\n        context.fillStyle = this.theme.getColor(themes.Theme.Color.LineColorNormal);\r\n        let text;\r\n        if (this.toolObject.state === ctools.CToolObject.state.Draw) {\r\n            this.startPtValue = this.toolObject.getPoint(0).getPosIV().v;\r\n            this.endPtValue = this.toolObject.getPoint(1).getPosIV().v;\r\n        }\r\n        this.getAreaPos();\r\n        for (let i = 0; i < this.fiboSequence.length; i++) {\r\n            let stageY = startPoint.y + (100 - this.fiboSequence[i]) / 100 * (endPoint.y - startPoint.y);\r\n            if (stageY > this.areaPos.bottom)\r\n                continue;\r\n            let stageYvalue = this.startPtValue + (100 - this.fiboSequence[i]) / 100 * (this.endPtValue - this.startPtValue);\r\n            Plotter.drawLine(context, this.areaPos.left, stageY, this.areaPos.right, stageY);\r\n            text = this.fiboSequence[i].toFixed(1) + '% ' + stageYvalue.toFixed(1);\r\n            context.fillText(text, this.areaPos.left + 2, stageY - 15);\r\n        }\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        this.drawLinesAndInfo(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawFibRetracePlotter extends BandLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.fiboSequence = [100.0, 78.6, 61.8, 50.0, 38.2, 23.6, 0.0];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawBandLinesPlotter extends BandLinesPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name, toolObject);\r\n        this.toolObject = toolObject;\r\n        this.fiboSequence = [0, 12.5, 25, 37.5, 50, 62.5, 75, 87.5, 100];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DrawFibFansPlotter extends CToolPlotter {\r\n\r\n    constructor(name, toolObject) {\r\n        super(name);\r\n        this.toolObject = toolObject;\r\n        this.fiboFansSequence = [0, 38.2, 50, 61.8];\r\n        this.ctrlPtsNum = 2;\r\n        this.ctrlPts = [new Array(this.ctrlPtsNum), new Array(2)];\r\n        this.getCtrlPts();\r\n    }\r\n\r\n    drawLinesAndInfo(context, startPoint, endPoint) {\r\n        this.drawFibRayLines(context, startPoint, endPoint);\r\n    }\r\n\r\n    draw(context) {\r\n        this.updateCtrlPtPos();\r\n        this.getAreaPos();\r\n        this.startPoint = this.ctrlPts[1][0];\r\n        this.endPoint = this.ctrlPts[1][1];\r\n        if (this.startPoint.x === this.endPoint.x && this.startPoint.y === this.endPoint.y) {\r\n            this.endPoint.x += 1;\r\n        }\r\n        this.drawLinesAndInfo(context, this.startPoint, this.endPoint);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CDynamicLinePlotter extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.flag = true;\r\n        this.context = ChartManager.instance._overlayContext;\r\n    }\r\n\r\n    getAreaPos() {\r\n        let pMgr = ChartManager.instance;\r\n        let pArea = pMgr.getArea('frame0.k0.main');\r\n        if (pArea === null) {\r\n            this.areaPos = {\r\n                left: 0,\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0\r\n            };\r\n            return;\r\n        }\r\n        this.areaPos = {\r\n            left: Math.floor(pArea.getLeft()),\r\n            top: Math.floor(pArea.getTop()),\r\n            right: Math.floor(pArea.getRight()),\r\n            bottom: Math.floor(pArea.getBottom())\r\n        };\r\n    }\r\n\r\n    Draw(context) {\r\n        this.getAreaPos();\r\n        let pMgr = ChartManager.instance;\r\n        let pTDP = pMgr.getDataSource(this.getDataSourceName());\r\n        if (pTDP === null || !Util.isInstance(pTDP, data_sources.MainDataSource))\r\n            return;\r\n        this.context.save();\r\n        this.context.rect(this.areaPos.left, this.areaPos.top, this.areaPos.right - this.areaPos.left, this.areaPos.bottom - this.areaPos.top);\r\n        this.context.clip();\r\n        let count = pTDP.getToolObjectCount();\r\n        for (let i = 0; i < count; i++) {\r\n            let toolObject = pTDP.getToolObject(i);\r\n            let state = toolObject.getState();\r\n            switch (state) {\r\n                case ctools.CToolObject.state.BeforeDraw:\r\n                    toolObject.getPlotter().theme = ChartManager.instance.getTheme(this.getFrameName());\r\n                    toolObject.getPlotter().drawCursor(this.context);\r\n                    break;\r\n                case ctools.CToolObject.state.Draw:\r\n                    toolObject.getPlotter().theme = ChartManager.instance.getTheme(this.getFrameName());\r\n                    toolObject.getPlotter().updateDraw(this.context);\r\n                    break;\r\n                case ctools.CToolObject.state.AfterDraw:\r\n                    toolObject.getPlotter().theme = ChartManager.instance.getTheme(this.getFrameName());\r\n                    toolObject.getPlotter().finishDraw(this.context);\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        let sel = pTDP.getSelectToolObjcet();\r\n        if (sel !== null && sel !== ctools.CToolObject.state.Draw)\r\n            sel.getPlotter().highlight(this.context);\r\n        this.context.restore();\r\n\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plotters.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {Util} from './util'\r\nimport * as data_sources from './data_sources'\r\n\r\n\r\nexport class DataProvider extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._minValue = 0;\r\n        this._maxValue = 0;\r\n        this._minValueIndex = -1;\r\n        this._maxValueIndex = -1;\r\n    }\r\n\r\n    getMinValue() {\r\n        return this._minValue;\r\n    }\r\n\r\n    getMaxValue() {\r\n        return this._maxValue;\r\n    }\r\n\r\n    getMinValueIndex() {\r\n        return this._minValueIndex;\r\n    }\r\n\r\n    getMaxValueIndex() {\r\n        return this._maxValueIndex;\r\n    }\r\n\r\n    getMinMaxAt(index, minmax) {\r\n        return true;\r\n    }\r\n\r\n    calcRange(firstIndexes, lastIndex, minmaxes, indexes) {\r\n        let min = Number.MAX_VALUE;\r\n        let max = -Number.MAX_VALUE;\r\n        let minIndex = -1;\r\n        let maxIndex = -1;\r\n        let minmax = {};\r\n        let i = lastIndex - 1;\r\n        let n = firstIndexes.length - 1;\r\n        for (; n >= 0; n--) {\r\n            let first = firstIndexes[n];\r\n            if (i < first) {\r\n                minmaxes[n] = {\"min\": min, \"max\": max};\r\n            } else {\r\n                for (; i >= first; i--) {\r\n                    if (this.getMinMaxAt(i, minmax) === false) {\r\n                        continue;\r\n                    }\r\n                    if (min > minmax.min) {\r\n                        min = minmax.min;\r\n                        minIndex = i;\r\n                    }\r\n                    if (max < minmax.max) {\r\n                        max = minmax.max;\r\n                        maxIndex = i;\r\n                    }\r\n                }\r\n                minmaxes[n] = {\"min\": min, \"max\": max};\r\n            }\r\n            if (indexes !== null && indexes !== undefined) {\r\n                indexes[n] = {\"minIndex\": minIndex, \"maxIndex\": maxIndex};\r\n            }\r\n        }\r\n    }\r\n\r\n    updateRange() {\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let firstIndexes = [timeline.getFirstIndex()];\r\n        let minmaxes = [{}];\r\n        let indexes = [{}];\r\n        this.calcRange(firstIndexes, timeline.getLastIndex(), minmaxes, indexes);\r\n        this._minValue = minmaxes[0].min;\r\n        this._maxValue = minmaxes[0].max;\r\n        this._minValueIndex = indexes[0].minIndex;\r\n        this._maxValueIndex = indexes[0].maxIndex;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainDataProvider extends DataProvider {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._candlestickDS = null;\r\n    }\r\n\r\n    updateData() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (!Util.isInstance(ds, data_sources.MainDataSource)) {\r\n            return;\r\n        }\r\n        this._candlestickDS = ds;\r\n    }\r\n\r\n    getMinMaxAt(index, minmax) {\r\n        let data = this._candlestickDS.getDataAt(index);\r\n        minmax.min = data.low;\r\n        minmax.max = data.high;\r\n        return true;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorDataProvider extends DataProvider {\r\n\r\n    getIndicator() {\r\n        return this._indicator;\r\n    }\r\n\r\n    setIndicator(v) {\r\n        this._indicator = v;\r\n        this.refresh();\r\n    }\r\n\r\n    refresh() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let indic = this._indicator;\r\n        let i, last = ds.getDataCount();\r\n        indic.clear();\r\n        indic.reserve(last);\r\n        for (i = 0; i < last; i++) {\r\n            indic.execute(ds, i);\r\n        }\r\n    }\r\n\r\n    updateData() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        if (ds.getDataCount() < 1) {\r\n            return;\r\n        }\r\n        let indic = this._indicator;\r\n        let mode = ds.getUpdateMode();\r\n        switch (mode) {\r\n            case data_sources.DataSource.UpdateMode.Refresh: {\r\n                this.refresh();\r\n                break;\r\n            }\r\n            case data_sources.DataSource.UpdateMode.Append: {\r\n                indic.reserve(ds.getAppendedCount());\r\n                break;\r\n            }\r\n            case data_sources.DataSource.UpdateMode.Update: {\r\n                let i, last = ds.getDataCount();\r\n                let cnt = ds.getUpdatedCount() + ds.getAppendedCount();\r\n                for (i = last - cnt; i < last; i++) {\r\n                    indic.execute(ds, i);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getMinMaxAt(index, minmax) {\r\n        minmax.min = Number.MAX_VALUE;\r\n        minmax.max = -Number.MAX_VALUE;\r\n        let result, valid = false;\r\n        let i, cnt = this._indicator.getOutputCount();\r\n        for (i = 0; i < cnt; i++) {\r\n            result = this._indicator.getOutputAt(i).execute(index);\r\n            if (isNaN(result) === false) {\r\n                valid = true;\r\n                if (minmax.min > result) {\r\n                    minmax.min = result;\r\n                }\r\n                if (minmax.max < result) {\r\n                    minmax.max = result;\r\n                }\r\n            }\r\n        }\r\n        return valid;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/data_providers.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {MEvent} from './mevent'\r\n\r\nexport class ChartArea extends NamedObject {\r\n\r\n    static DockStyle = {\r\n        Left: 0,\r\n        Top: 1,\r\n        Right: 2,\r\n        Bottom: 3,\r\n        Fill: 4\r\n    };\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._left = 0;\r\n        this._top = 0;\r\n        this._right = 0;\r\n        this._bottom = 0;\r\n        this._changed = false;\r\n        this._highlighted = false;\r\n        this._pressed = false;\r\n        this._selected = false;\r\n        this.Measuring = new MEvent();\r\n    }\r\n\r\n    getDockStyle() {\r\n        return this._dockStyle;\r\n    }\r\n\r\n    setDockStyle(dockStyle) {\r\n        this._dockStyle = dockStyle;\r\n    }\r\n\r\n    getLeft() {\r\n        return this._left;\r\n    }\r\n\r\n\r\n    getTop() {\r\n        return this._top;\r\n    }\r\n\r\n\r\n    setTop(v) {\r\n        if (this._top !== v) {\r\n            this._top = v;\r\n            this._changed = true;\r\n        }\r\n    }\r\n\r\n\r\n    getRight() {\r\n        return this._right;\r\n    }\r\n\r\n\r\n    getBottom() {\r\n        return this._bottom;\r\n    }\r\n\r\n    setBottom(v) {\r\n        if (this._bottom !== v) {\r\n            this._bottom = v;\r\n            this._changed = true;\r\n        }\r\n    }\r\n\r\n    getCenter() {\r\n        return (this._left + this._right) >> 1;\r\n    }\r\n\r\n    getMiddle() {\r\n        return (this._top + this._bottom) >> 1;\r\n    }\r\n\r\n    getWidth() {\r\n        return this._right - this._left;\r\n    }\r\n\r\n    getHeight() {\r\n        return this._bottom - this._top;\r\n    }\r\n\r\n    getRect() {\r\n        return {\r\n            X: this._left,\r\n            Y: this._top,\r\n            Width: this._right - this._left,\r\n            Height: this._bottom - this._top\r\n        };\r\n    }\r\n\r\n    contains(x, y) {\r\n        if (x >= this._left && x < this._right)\r\n            if (y >= this._top && y < this._bottom)\r\n                return [this];\r\n        return null;\r\n    }\r\n\r\n    getMeasuredWidth() {\r\n        return this._measuredWidth;\r\n    }\r\n\r\n    getMeasuredHeight() {\r\n        return this._measuredHeight;\r\n    }\r\n\r\n    setMeasuredDimension(width, height) {\r\n        this._measuredWidth = width;\r\n        this._measuredHeight = height;\r\n    }\r\n\r\n    measure(context, width, height) {\r\n        this._measuredWidth = 0;\r\n        this._measuredHeight = 0;\r\n        this.Measuring.raise(this, {Width: width, Height: height});\r\n        if (this._measuredWidth === 0 && this._measuredHeight === 0)\r\n            this.setMeasuredDimension(width, height);\r\n    }\r\n\r\n    layout(left, top, right, bottom, forceChange) {\r\n        left <<= 0;\r\n        if (this._left !== left) {\r\n            this._left = left;\r\n            this._changed = true;\r\n        }\r\n        top <<= 0;\r\n        if (this._top !== top) {\r\n            this._top = top;\r\n            this._changed = true;\r\n        }\r\n        right <<= 0;\r\n        if (this._right !== right) {\r\n            this._right = right;\r\n            this._changed = true;\r\n        }\r\n        bottom <<= 0;\r\n        if (this._bottom !== bottom) {\r\n            this._bottom = bottom;\r\n            this._changed = true;\r\n        }\r\n        if (forceChange)\r\n            this._changed = true;\r\n    }\r\n\r\n    isChanged() {\r\n        return this._changed;\r\n    }\r\n\r\n    setChanged(v) {\r\n        this._changed = v;\r\n    }\r\n\r\n    isHighlighted() {\r\n        return this._highlighted;\r\n    }\r\n\r\n    getHighlightedArea() {\r\n        return this._highlighted ? this : null;\r\n    }\r\n\r\n\r\n    highlight(area) {\r\n        this._highlighted = (this === area);\r\n        return this._highlighted ? this : null;\r\n    }\r\n\r\n    isPressed() {\r\n        return this._pressed;\r\n    }\r\n\r\n\r\n    setPressed(v) {\r\n        this._pressed = v;\r\n    }\r\n\r\n    isSelected() {\r\n        return this._selected;\r\n    }\r\n\r\n    getSelectedArea() {\r\n        return this._selected ? this : null;\r\n    }\r\n\r\n    select(area) {\r\n        this._selected = (this === area);\r\n        return this._selected ? this : null;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        return null;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n    }\r\n\r\n    onMouseDown(x, y) {\r\n        return null;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._dragStarted = false;\r\n        this._oldX = 0;\r\n        this._oldY = 0;\r\n        this._passMoveEventToToolManager = true;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr._capturingMouseArea === this)\r\n            if (this._dragStarted === false)\r\n                if (Math.abs(this._oldX - x) > 1 || Math.abs(this._oldY - y) > 1)\r\n                    this._dragStarted = true;\r\n        if (this._dragStarted) {\r\n            mgr.hideCursor();\r\n            if (mgr.onToolMouseDrag(this.getFrameName(), x, y))\r\n                return this;\r\n            mgr.getTimeline(this.getDataSourceName()).move(x - this._oldX);\r\n            return this;\r\n        }\r\n        if (this._passMoveEventToToolManager && mgr.onToolMouseMove(this.getFrameName(), x, y)) {\r\n            mgr.hideCursor();\r\n            return this;\r\n        }\r\n        switch (mgr._drawingTool) {\r\n            case ChartManager.DrawingTool.Cursor:\r\n                mgr.showCursor();\r\n                break;\r\n            case ChartManager.DrawingTool.CrossCursor:\r\n                if (mgr.showCrossCursor(this, x, y))\r\n                    mgr.hideCursor();\r\n                else\r\n                    mgr.showCursor();\r\n                break;\r\n            default:\r\n                mgr.hideCursor();\r\n                break;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        this._dragStarted = false;\r\n        this._passMoveEventToToolManager = true;\r\n    }\r\n\r\n    onMouseDown(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        mgr.getTimeline(this.getDataSourceName()).startMove();\r\n        this._oldX = x;\r\n        this._oldY = y;\r\n        this._dragStarted = false;\r\n        if (mgr.onToolMouseDown(this.getFrameName(), x, y))\r\n            this._passMoveEventToToolManager = false;\r\n        return this;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        let ret = null;\r\n        if (this._dragStarted) {\r\n            this._dragStarted = false;\r\n            ret = this;\r\n        }\r\n        if (mgr.onToolMouseUp(this.getFrameName(), x, y))\r\n            ret = this;\r\n        this._passMoveEventToToolManager = true;\r\n        return ret;\r\n    }\r\n}\r\n\r\n\r\nexport class IndicatorArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._dragStarted = false;\r\n        this._oldX = 0;\r\n        this._oldY = 0;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        if (mgr._capturingMouseArea === this) {\r\n            if (this._dragStarted === false) {\r\n                if (this._oldX !== x || this._oldY !== y) {\r\n                    this._dragStarted = true;\r\n                }\r\n            }\r\n        }\r\n        if (this._dragStarted) {\r\n            mgr.hideCursor();\r\n            mgr.getTimeline(this.getDataSourceName()).move(x - this._oldX);\r\n            return this;\r\n        }\r\n        switch (mgr._drawingTool) {\r\n            case ChartManager.DrawingTool.CrossCursor:\r\n                if (mgr.showCrossCursor(this, x, y))\r\n                    mgr.hideCursor();\r\n                else\r\n                    mgr.showCursor();\r\n                break;\r\n            default:\r\n                mgr.showCursor();\r\n                break;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        this._dragStarted = false;\r\n    }\r\n\r\n\r\n    onMouseDown(x, y) {\r\n        let mgr = ChartManager.instance;\r\n        mgr.getTimeline(this.getDataSourceName()).startMove();\r\n        this._oldX = x;\r\n        this._oldY = y;\r\n        this._dragStarted = false;\r\n        return this;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        if (this._dragStarted) {\r\n            this._dragStarted = false;\r\n            return this;\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainRangeArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        ChartManager.instance.showCursor();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IndicatorRangeArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        ChartManager.instance.showCursor();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TimelineArea extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        ChartManager.instance.showCursor();\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ChartAreaGroup extends ChartArea {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._areas = [];\r\n        this._highlightedArea = null;\r\n        this._selectedArea = null;\r\n    }\r\n\r\n    contains(x, y) {\r\n        let areas;\r\n        let a, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            a = this._areas[i];\r\n            areas = a.contains(x, y);\r\n            if (areas !== null) {\r\n                areas.push(this);\r\n                return areas;\r\n            }\r\n        }\r\n        return super.contains(x, y);\r\n    }\r\n\r\n    getAreaCount() {\r\n        return this._areas.length;\r\n    }\r\n\r\n    getAreaAt(index) {\r\n        if (index < 0 || index >= this._areas.length) {\r\n            return null;\r\n        }\r\n        return this._areas[index];\r\n    }\r\n\r\n\r\n    addArea(area) {\r\n        this._areas.push(area);\r\n    }\r\n\r\n    removeArea(area) {\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            if (area === this._areas[i]) {\r\n                this._areas.splice(i);\r\n                this.setChanged(true);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    getGridColor() {\r\n        return this._gridColor;\r\n    }\r\n\r\n    setGridColor(c) {\r\n        this._gridColor = c;\r\n    }\r\n\r\n    getHighlightedArea() {\r\n        if (this._highlightedArea !== null) {\r\n            return this._highlightedArea.getHighlightedArea();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    highlight(area) {\r\n        this._highlightedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i].highlight(area);\r\n            if (e !== null) {\r\n                this._highlightedArea = e;\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getSelectedArea() {\r\n        if (this._selectedArea !== null) {\r\n            return this._selectedArea.getSelectedArea();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    select(area) {\r\n        this._selectedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i].select(area);\r\n            if (e !== null) {\r\n                this._selectedArea = e;\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++)\r\n            this._areas[i].onMouseLeave(x, y);\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        let a, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            a = this._areas[i].onMouseUp(x, y);\r\n            if (a !== null)\r\n                return a;\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/areas.js","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"jquery\",\"commonjs2\":\"jquery\",\"amd\":\"jquery\",\"root\":\"$\"}\n// module id = 14\n// module chunks = 0","export class MEvent {\r\n\r\n    constructor() {\r\n        this._handlers = [];\r\n    }\r\n\r\n    addHandler(o, f) {\r\n        if (this.indexOf(o, f) < 0)\r\n            this._handlers.push({obj: o, func: f});\r\n    }\r\n\r\n    removeHandler(o, f) {\r\n        let i = this.indexOf(o, f);\r\n        if (i >= 0)\r\n            this._handlers.splice(i, 1);\r\n    }\r\n\r\n    raise(s, g) {\r\n        let a = this._handlers;\r\n        let e, i, c = a.length;\r\n        for (i = 0; i < c; i++) {\r\n            e = a[i];\r\n            e.func(s, g);\r\n        }\r\n    }\r\n\r\n    indexOf(o, f) {\r\n        let a = this._handlers;\r\n        let e, i, c = a.length;\r\n        for (i = 0; i < c; i++) {\r\n            e = a[i];\r\n            if (o === e.obj && f === e.func)\r\n                return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/mevent.js","export class CName {\r\n\r\n    constructor(name) {\r\n        this._names = [];\r\n        this._comps = [];\r\n        if (name instanceof CName) {\r\n            this._names = name._names;\r\n            this._comps = name._comps;\r\n        } else {\r\n            let comps = name.split(\".\");\r\n            let dotNum = comps.length - 1;\r\n            if (dotNum > 0) {\r\n                this._comps = comps;\r\n                this._names.push(comps[0]);\r\n                for (let i = 1; i <= dotNum; i++) {\r\n                    this._names.push(this._names[i - 1] + \".\" + comps[i]);\r\n                }\r\n            } else {\r\n                this._comps.push(name);\r\n                this._names.push(name);\r\n            }\r\n        }\r\n    }\r\n\r\n    getCompAt(index) {\r\n        if (index >= 0 && index < this._comps.length)\r\n            return this._comps[index];\r\n        return \"\";\r\n    }\r\n\r\n    getName(index) {\r\n        if (index < 0) {\r\n            if (this._names.length > 0)\r\n                return this._names[this._names.length - 1];\r\n        } else if (index < this._names.length) {\r\n            return this._names[index];\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/cname.js","export class ExprEnv {\r\n\r\n     static inst = null;\r\n     _ds = null;\r\n     _firstIndex = null;\r\n\r\n    static get () {\r\n        return this.inst;\r\n    }\r\n\r\n    static set (env) {\r\n        this.inst = env;\r\n    }\r\n\r\n     getDataSource() {\r\n        return this._ds;\r\n    }\r\n\r\n     setDataSource(ds) {\r\n        return this._ds = ds;\r\n    }\r\n\r\n     getFirstIndex() {\r\n        return this._firstIndex;\r\n    }\r\n\r\n     setFirstIndex(n) {\r\n        return this._firstIndex = n;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class Expr {\r\n    constructor() {\r\n        this._rid = 0;\r\n    }\r\n\r\n    execute(index) {\r\n    }\r\n\r\n    reserve(rid, count) {\r\n    }\r\n\r\n    clear() {\r\n    }\r\n}\r\n\r\n\r\nexport class OpenExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).open;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class HighExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).high;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LowExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).low;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class CloseExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).close;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class VolumeExpr extends Expr {\r\n\r\n    execute(index) {\r\n        return ExprEnv.get()._ds.getDataAt(index).volume;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ConstExpr extends Expr {\r\n\r\n    constructor(v) {\r\n        super();\r\n        this._value = v;\r\n    }\r\n\r\n    execute(index) {\r\n        return this._value;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ParameterExpr extends Expr {\r\n\r\n    constructor(name, minValue, maxValue, defaultValue) {\r\n        super();\r\n        this._name = name;\r\n        this._minValue = minValue;\r\n        this._maxValue = maxValue;\r\n        this._value = this._defaultValue = defaultValue;\r\n    }\r\n\r\n    execute(index) {\r\n        return this._value;\r\n    }\r\n\r\n    getMinValue() {\r\n        return this._minValue;\r\n    }\r\n\r\n    getMaxValue() {\r\n        return this._maxValue;\r\n    }\r\n\r\n    getDefaultValue() {\r\n        return this._defaultValue;\r\n    }\r\n\r\n    getValue() {\r\n        return this._value;\r\n    }\r\n\r\n    setValue(v) {\r\n        if (v === 0)\r\n            this._value = 0;\r\n        else if (v < this._minValue)\r\n            this._value = this._minValue;\r\n        else if (v > this._maxValue)\r\n            this._value = this._maxValue;\r\n        else\r\n            this._value = v;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OpAExpr extends Expr {\r\n\r\n    constructor(a) {\r\n        super();\r\n        this._exprA = a;\r\n    };\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n    }\r\n\r\n}\r\n\r\nexport class OpABExpr extends Expr {\r\n\r\n    constructor(a, b) {\r\n        super();\r\n        this._exprA = a;\r\n        this._exprB = b;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n            this._exprB.reserve(rid, count);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n        this._exprB.clear();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OpABCExpr extends Expr {\r\n\r\n    constructor(a, b, c) {\r\n        super();\r\n        this._exprA = a;\r\n        this._exprB = b;\r\n        this._exprC = c;\r\n    }\r\n\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n            this._exprB.reserve(rid, count);\r\n            this._exprC.reserve(rid, count);\r\n        }\r\n    }\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n        this._exprB.clear();\r\n        this._exprC.clear();\r\n    };\r\n}\r\n\r\n\r\nexport class OpABCDExpr extends Expr {\r\n\r\n    constructor(a, b, c, d) {\r\n        super();\r\n        this._exprA = a;\r\n        this._exprB = b;\r\n        this._exprC = c;\r\n        this._exprD = d;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            this._rid = rid;\r\n            this._exprA.reserve(rid, count);\r\n            this._exprB.reserve(rid, count);\r\n            this._exprC.reserve(rid, count);\r\n            this._exprD.reserve(rid, count);\r\n        }\r\n    };\r\n\r\n    clear() {\r\n        this._exprA.clear();\r\n        this._exprB.clear();\r\n        this._exprC.clear();\r\n        this._exprD.clear();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class NegExpr extends OpAExpr {\r\n\r\n    constructor(a) {\r\n        super(a);\r\n    };\r\n\r\n    execute(index) {\r\n        return -(this._exprA.execute(index));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AddExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) + this._exprB.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SubExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) - this._exprB.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MulExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) * this._exprB.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DivExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        let a = this._exprA.execute(index);\r\n        let b = this._exprB.execute(index);\r\n        if (a === 0)\r\n            return a;\r\n        if (b === 0)\r\n            return (a > 0) ? 1000000 : -1000000;\r\n        return a / b;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class GtExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) > this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class GeExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) >= this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LtExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) < this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LeExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) <= this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class EqExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) === this._exprB.execute(index) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MaxExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return Math.max(this._exprA.execute(index), this._exprB.execute(index));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AbsExpr extends OpAExpr {\r\n\r\n    constructor(a) {\r\n        super(a);\r\n    }\r\n\r\n    execute(index) {\r\n        return Math.abs(this._exprA.execute(index));\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RefExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        if (this._offset === undefined || this._offset < 0) {\r\n            this._offset = this._exprB.execute(index);\r\n            if (this._offset < 0) {\r\n                throw \"offset < 0\";\r\n            }\r\n        }\r\n        index -= this._offset;\r\n        if (index < 0) {\r\n            throw \"index < 0\";\r\n        }\r\n        let result = this._exprA.execute(index);\r\n        if (isNaN(result)) {\r\n            throw \"NaN\";\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AndExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return (this._exprA.execute(index) !== 0) && (this._exprB.execute(index) !== 0) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OrExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    execute(index) {\r\n        return (this._exprA.execute(index) !== 0) || (this._exprB.execute(index) !== 0) ? 1 : 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class IfExpr extends OpABCExpr {\r\n\r\n    constructor(a, b, c) {\r\n        super(a, b, c);\r\n    }\r\n\r\n    execute(index) {\r\n        return this._exprA.execute(index) !== 0 ? this._exprB.execute(index) : this._exprC.execute(index);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class AssignExpr extends OpAExpr {\r\n\r\n    constructor(name, a) {\r\n        super(a);\r\n        this._name = name;\r\n        this._buf = [];\r\n    }\r\n\r\n    getName() {\r\n        return this._name;\r\n    }\r\n\r\n    execute(index) {\r\n        return this._buf[index];\r\n    }\r\n\r\n    assign(index) {\r\n        this._buf[index] = this._exprA.execute(index);\r\n        if (ExprEnv.get()._firstIndex >= 0) {\r\n            if (isNaN(this._buf[index]) && !isNaN(this._buf[index - 1])) {\r\n                throw this._name + \".assign(\" + index + \"): NaN\";\r\n            }\r\n        }\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--) {\r\n                this._buf.push(NaN);\r\n            }\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._buf = [];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OutputExpr extends AssignExpr {\r\n\r\n    static outputStyle = {\r\n        None: 0,\r\n        Line: 1,\r\n        VolumeStick: 2,\r\n        MACDStick: 3,\r\n        SARPoint: 4\r\n    };\r\n\r\n    constructor(name, a, style, color) {\r\n        super(name, a);\r\n        this._style = (style === undefined) ? OutputExpr.outputStyle.Line : style;\r\n        this._color = color;\r\n    }\r\n\r\n\r\n    getStyle() {\r\n        return this._style;\r\n    }\r\n\r\n    getColor() {\r\n        return this._color;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeOutputExpr extends OutputExpr {\r\n\r\n    constructor(name, a, style, color) {\r\n        super(name, a, style, color);\r\n    }\r\n\r\n    getName() {\r\n        return this._name + this._exprA.getRange();\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RangeExpr extends OpABExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n        this._range = -1;\r\n        this._buf = [];\r\n    }\r\n\r\n    getRange() {\r\n        return this._range;\r\n    }\r\n\r\n    initRange() {\r\n        this._range = this._exprB.execute(0);\r\n    }\r\n\r\n    execute(index) {\r\n        if (this._range < 0) {\r\n            this.initRange();\r\n        }\r\n        let rA = this._buf[index].resultA = this._exprA.execute(index);\r\n        return this._buf[index].result = this.calcResult(index, rA);\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--) {\r\n                this._buf.push({resultA: NaN, result: NaN});\r\n            }\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._range = -1;\r\n        this._buf = [];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class HhvExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0) {\r\n            return NaN;\r\n        }\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0) {\r\n            return resultA;\r\n        }\r\n        if (index > first) {\r\n            let n = this._range;\r\n            let result = resultA;\r\n            let start = index - n + 1;\r\n            let i = Math.max(first, start);\r\n            for (; i < index; i++) {\r\n                let p = this._buf[i];\r\n                if (result < p.resultA) {\r\n                    result = p.resultA;\r\n                }\r\n            }\r\n            return result;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class LlvExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            let result = resultA;\r\n            let start = index - n + 1;\r\n            let i = Math.max(first, start);\r\n            for (; i < index; i++) {\r\n                let p = this._buf[i];\r\n                if (result > p.resultA)\r\n                    result = p.resultA;\r\n            }\r\n            return result;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class CountExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return 0;\r\n        if (index >= first) {\r\n            let n = this._range - 1;\r\n            if (n > index - first)\r\n                n = index - first;\r\n            let count = 0;\r\n            for (; n >= 0; n--) {\r\n                if (this._buf[index - n].resultA !== 0.0)\r\n                    count++;\r\n            }\r\n            return count;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SumExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n === 0 || n >= index + 1 - first) {\r\n                return this._buf[index - 1].result + resultA;\r\n            }\r\n            return this._buf[index - 1].result + resultA - this._buf[index - n].resultA;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class StdExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let stdData = this._stdBuf[index];\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0) {\r\n            stdData.resultMA = resultA;\r\n            return 0.0;\r\n        }\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n >= index + 1 - first) {\r\n                n = index + 1 - first;\r\n                stdData.resultMA = this._stdBuf[index - 1].resultMA * (1.0 - 1.0 / n) + (resultA / n);\r\n            } else {\r\n                stdData.resultMA = this._stdBuf[index - 1].resultMA + (resultA - this._buf[index - n].resultA) / n;\r\n            }\r\n            let sum = 0;\r\n            for (let i = index - n + 1; i <= index; i++)\r\n                sum += Math.pow(this._buf[i].resultA - stdData.resultMA, 2);\r\n            return Math.sqrt(sum / n);\r\n        }\r\n        stdData.resultMA = resultA;\r\n        return 0.0;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--)\r\n                this._stdBuf.push({resultMA: NaN});\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._stdBuf = [];\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MaExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n >= index + 1 - first) {\r\n                n = index + 1 - first;\r\n                return this._buf[index - 1].result * (1.0 - 1.0 / n) + (resultA / n);\r\n            }\r\n            return this._buf[index - 1].result + (resultA - this._buf[index - n].resultA) / n;\r\n        } else {\r\n            return resultA;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class EmaExpr extends RangeExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    }\r\n\r\n    initRange() {\r\n        super.initRange();\r\n        this._alpha = 2.0 / (this._range + 1);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let prev = this._buf[index - 1];\r\n            return this._alpha * (resultA - prev.result) + prev.result;\r\n        }\r\n        return resultA;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ExpmemaExpr extends EmaExpr {\r\n\r\n    constructor(a, b) {\r\n        super(a, b);\r\n    };\r\n\r\n    calcResult(index, resultA) {\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            let prev = this._buf[index - 1];\r\n            if (n >= index + 1 - first) {\r\n                n = index + 1 - first;\r\n                return prev.result * (1.0 - 1.0 / n) + (resultA / n);\r\n            }\r\n            return this._alpha * (resultA - prev.result) + prev.result;\r\n        }\r\n        return resultA;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SmaExpr extends RangeExpr {\r\n\r\n    constructor(a, b, c) {\r\n        super(a, b);\r\n        this._exprC = c;\r\n        this._mul = null;\r\n    }\r\n\r\n    initRange() {\r\n        super.initRange();\r\n        this._mul = this._exprC.execute(0);\r\n    }\r\n\r\n    calcResult(index, resultA) {\r\n        if (this._range === 0)\r\n            return NaN;\r\n        let first = ExprEnv.get()._firstIndex;\r\n        if (first < 0)\r\n            return resultA;\r\n        if (index > first) {\r\n            let n = this._range;\r\n            if (n > index + 1 - first)\r\n                n = index + 1 - first;\r\n            return ((n - 1) * this._buf[index - 1].result + resultA * this._mul) / n;\r\n        }\r\n        return resultA;\r\n    }\r\n}\r\n\r\n\r\nexport class SarExpr extends OpABCDExpr {\r\n\r\n    constructor(a, b, c, d) {\r\n        super(a, b, c, d);\r\n        this._buf = [];\r\n        this._range = -1;\r\n        this._min = null;\r\n        this._step = null;\r\n        this._max = null;\r\n    }\r\n\r\n    execute(index) {\r\n        if (this._range < 0) {\r\n            this._range = this._exprA.execute(0);\r\n            this._min = this._exprB.execute(0) / 100.0;\r\n            this._step = this._exprC.execute(0) / 100.0;\r\n            this._max = this._exprD.execute(0) / 100.0;\r\n        }\r\n        let data = this._buf[index];\r\n        let exprEnv = ExprEnv.get();\r\n        let first = exprEnv._firstIndex;\r\n        if (first < 0) {\r\n            data.longPos = true;\r\n            data.sar = exprEnv._ds.getDataAt(index).low;\r\n            data.ep = exprEnv._ds.getDataAt(index).high;\r\n            data.af = 0.02;\r\n        } else {\r\n            let high = exprEnv._ds.getDataAt(index).high;\r\n            let low = exprEnv._ds.getDataAt(index).low;\r\n            let prev = this._buf[index - 1];\r\n            data.sar = prev.sar + prev.af * (prev.ep - prev.sar);\r\n            if (prev.longPos) {\r\n                data.longPos = true;\r\n                if (high > prev.ep) {\r\n                    data.ep = high;\r\n                    data.af = Math.min(prev.af + this._step, this._max);\r\n                } else {\r\n                    data.ep = prev.ep;\r\n                    data.af = prev.af;\r\n                }\r\n                if (data.sar > low) {\r\n                    data.longPos = false;\r\n                    let i = index - this._range + 1;\r\n                    for (i = Math.max(i, first); i < index; i++) {\r\n                        let h = exprEnv._ds.getDataAt(i).high;\r\n                        if (high < h) high = h;\r\n                    }\r\n                    data.sar = high;\r\n                    data.ep = low;\r\n                    data.af = 0.02;\r\n                }\r\n            } else {\r\n                data.longPos = false;\r\n                if (low < prev.ep) {\r\n                    data.ep = low;\r\n                    data.af = Math.min(prev.af + this._step, this._max);\r\n                } else {\r\n                    data.ep = prev.ep;\r\n                    data.af = prev.af;\r\n                }\r\n                if (data.sar < high) {\r\n                    data.longPos = true;\r\n                    let i = index - this._range + 1;\r\n                    for (i = Math.max(i, first); i < index; i++) {\r\n                        let l = exprEnv._ds.getDataAt(i).low;\r\n                        if (low > l) low = l;\r\n                    }\r\n                    data.sar = low;\r\n                    data.ep = high;\r\n                    data.af = 0.02;\r\n                }\r\n            }\r\n        }\r\n        return data.sar;\r\n    }\r\n\r\n    reserve(rid, count) {\r\n        if (this._rid < rid) {\r\n            for (let c = count; c > 0; c--)\r\n                this._buf.push({longPos: true, sar: NaN, ep: NaN, af: NaN});\r\n        }\r\n        super.reserve(rid, count);\r\n    }\r\n\r\n    clear() {\r\n        super.clear();\r\n        this._range = -1;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/exprs.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\n\r\nexport class Range extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._updated = true;\r\n        this._minValue = Number.MAX_VALUE;\r\n        this._maxValue = -Number.MAX_VALUE;\r\n        this._outerMinValue = Number.MAX_VALUE;\r\n        this._outerMaxValue = -Number.MAX_VALUE;\r\n        this._ratio = 0;\r\n        this._top = 0;\r\n        this._bottom = 0;\r\n        this._paddingTop = 0;\r\n        this._paddingBottom = 0;\r\n        this._minInterval = 36;\r\n        this._selectedPosition = -1;\r\n        this._selectedValue = -Number.MAX_VALUE;\r\n        this._gradations = [];\r\n    }\r\n\r\n    isUpdated() {\r\n        return this._updated;\r\n    }\r\n\r\n    setUpdated(v) {\r\n        this._updated = v;\r\n    }\r\n\r\n    getMinValue() {\r\n        return this._minValue;\r\n    }\r\n\r\n    getMaxValue() {\r\n        return this._maxValue;\r\n    }\r\n\r\n    getRange() {\r\n        return this._maxValue - this._minValue;\r\n    }\r\n\r\n    getOuterMinValue() {\r\n        return this._outerMinValue;\r\n    }\r\n\r\n    getOuterMaxValue() {\r\n        return this._outerMaxValue;\r\n    }\r\n\r\n    getOuterRange() {\r\n        return this._outerMaxValue - this._outerMinValue;\r\n    }\r\n\r\n    getHeight() {\r\n        return Math.max(0, this._bottom - this._top);\r\n    }\r\n\r\n    getGradations() {\r\n        return this._gradations;\r\n    }\r\n\r\n    getMinInterval() {\r\n        return this._minInterval;\r\n    }\r\n\r\n    setMinInterval(v) {\r\n        this._minInterval = v;\r\n    }\r\n\r\n    getSelectedPosition() {\r\n        if (this._selectedPosition >= 0) {\r\n            return this._selectedPosition;\r\n        }\r\n        if (this._selectedValue > -Number.MAX_VALUE) {\r\n            return this.toY(this._selectedValue);\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    getSelectedValue() {\r\n        if (this._selectedValue > -Number.MAX_VALUE) {\r\n            return this._selectedValue;\r\n        }\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        if (area === null) {\r\n            return -Number.MAX_VALUE;\r\n        }\r\n        if (this._selectedPosition < area.getTop() + 12 || this._selectedPosition >= area.getBottom() - 4) {\r\n            return -Number.MAX_VALUE;\r\n        }\r\n        return this.toValue(this._selectedPosition);\r\n    }\r\n\r\n    setPaddingTop(p) {\r\n        this._paddingTop = p;\r\n    }\r\n\r\n    setPaddingBottom(p) {\r\n        this._paddingBottom = p;\r\n    }\r\n\r\n    toValue(y) {\r\n        return this._maxValue - (y - this._top) / this._ratio;\r\n    }\r\n\r\n    toY(value) {\r\n        if (this._ratio > 0) {\r\n            return this._top + Math.floor((this._maxValue - value) * this._ratio + 0.5);\r\n        }\r\n        return this._top;\r\n    }\r\n\r\n    toHeight(value) {\r\n\t\tif (value == Infinity || this._ratio == 0) {\r\n\t\t  return 1.5;\r\n\t\t}\r\n\t  \treturn Math.floor(value * this._ratio + 1.5);\r\n    }\r\n\r\n    update() {\r\n        let min = Number.MAX_VALUE;\r\n        let max = -Number.MAX_VALUE;\r\n        let mgr = ChartManager.instance;\r\n        let dp, dpNames = [\".main\", \".secondary\"];\r\n        for (let i = 0; i < dpNames.length; i++) {\r\n            dp = mgr.getDataProvider(this.getName() + dpNames[i]);\r\n            if (dp !== null && dp !== undefined) {\r\n                min = Math.min(min, dp.getMinValue());\r\n                max = Math.max(max, dp.getMaxValue());\r\n            }\r\n        }\r\n        let r = {\"min\": min, \"max\": max};\r\n        this.preSetRange(r);\r\n        this.setRange(r.min, r.max);\r\n    }\r\n\r\n    select(v) {\r\n        this._selectedValue = v;\r\n        this._selectedPosition = -1;\r\n    }\r\n\r\n    selectAt(y) {\r\n        this._selectedPosition = y;\r\n        this._selectedValue = -Number.MAX_VALUE;\r\n    }\r\n\r\n    unselect() {\r\n        this._selectedPosition = -1;\r\n        this._selectedValue = -Number.MAX_VALUE;\r\n    }\r\n\r\n    preSetRange(r) {\r\n        if (r.min === r.max) {\r\n            r.min = -1.0;\r\n            r.max = 1.0;\r\n        }\r\n    }\r\n\r\n    setRange(minValue, maxValue) {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        if (this._minValue === minValue && this._maxValue === maxValue && !area.isChanged()) {\r\n            return;\r\n        }\r\n        this._updated = true;\r\n        this._minValue = minValue;\r\n        this._maxValue = maxValue;\r\n        this._gradations = [];\r\n        let top = area.getTop() + this._paddingTop;\r\n        let bottom = area.getBottom() - (this._paddingBottom + 1);\r\n        if (top >= bottom) {\r\n            this._minValue = this._maxValue;\r\n            return;\r\n        }\r\n        this._top = top;\r\n        this._bottom = bottom;\r\n        if (this._maxValue > this._minValue)\r\n            this._ratio = (bottom - top) / (this._maxValue - this._minValue);\r\n        else {\r\n            this._ratio = 1;\r\n        }\r\n        this._outerMinValue = this.toValue(area.getBottom());\r\n        this._outerMaxValue = this.toValue(area.getTop());\r\n        this.updateGradations();\r\n    }\r\n\r\n    calcInterval() {\r\n        let H = this.getHeight();\r\n        let h = this.getMinInterval();\r\n        if ((H / h) <= 1) {\r\n            h = H >> 1;\r\n        }\r\n        let d = this.getRange();\r\n        let i = 0;\r\n        while (i > -2 && Math.floor(d) < d) {\r\n            d *= 10.0;\r\n            i--;\r\n        }\r\n        let m, c;\r\n        for (; ; i++) {\r\n            c = Math.pow(10.0, i);\r\n            m = c;\r\n            if (this.toHeight(m) > h)\r\n                break;\r\n            m = 2.0 * c;\r\n            if (this.toHeight(m) > h)\r\n                break;\r\n            m = 5.0 * c;\r\n            if (this.toHeight(m) > h)\r\n                break;\r\n        }\r\n        return m;\r\n    }\r\n\r\n    updateGradations() {\r\n        this._gradations = [];\r\n        let interval = this.calcInterval();\r\n        if (interval <= 0.0) {\r\n            return;\r\n        }\r\n        let v = Math.floor(this.getMaxValue() / interval) * interval;\r\n        do {\r\n            this._gradations.push(v);\r\n            v -= interval;\r\n        } while (v > this.getMinValue());\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class PositiveRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    preSetRange(r) {\r\n        if (r.min < 0) r.min = 0;\r\n        if (r.max < 0) r.max = 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ZeroBasedPositiveRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    preSetRange(r) {\r\n        r.min = 0;\r\n        if (r.max < 0) r.max = 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MainRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    preSetRange(r) {\r\n        let mgr = ChartManager.instance;\r\n\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        let dIndex = timeline.getMaxIndex() - timeline.getLastIndex();\r\n        if (dIndex < 25) {\r\n            let ds = mgr.getDataSource(this.getDataSourceName());\r\n\r\n            let data = ds.getDataAt(ds.getDataCount() - 1);\r\n            let d = ((r.max - r.min) / 4) * (1 - (dIndex / 25));\r\n\r\n            r.min = Math.min(r.min, Math.max(data.low - d, 0));\r\n            r.max = Math.max(r.max, data.high + d);\r\n        }\r\n\r\n        if (r.min > 0) {\r\n            let a = r.max / r.min;\r\n\r\n            if (a < 1.016) {\r\n                let m = (r.max + r.min) / 2.0;\r\n                let c = (a - 1.0) * 1.5;\r\n                r.max = m * (1.0 + c);\r\n                r.min = m * (1.0 - c);\r\n            } else if (a < 1.048) {\r\n                let m = (r.max + r.min) / 2.0;\r\n                r.max = m * 1.024;\r\n                r.min = m * 0.976;\r\n            }\r\n        }\r\n        if (r.min < 0) r.min = 0;\r\n        if (r.max < 0) r.max = 0;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ZeroCenteredRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    calcInterval(area) {\r\n        let h = this.getMinInterval();\r\n        if (area.getHeight() / h < 2) {\r\n            return 0.0;\r\n        }\r\n        let r = this.getRange();\r\n        let i;\r\n        for (i = 3; ; i += 2) {\r\n            if (this.toHeight(r / i) <= h)\r\n                break;\r\n        }\r\n        i -= 2;\r\n        return r / i;\r\n    }\r\n\r\n    updateGradations() {\r\n        this._gradations = [];\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let interval = this.calcInterval(area);\r\n        if (interval <= 0.0) {\r\n            return;\r\n        }\r\n        let v = interval / 2.0;\r\n        do {\r\n            this._gradations.push(v);\r\n            this._gradations.push(-v);\r\n            v += interval;\r\n        } while (v <= this.getMaxValue());\r\n    }\r\n\r\n    preSetRange(r) {\r\n        let abs = Math.max(Math.abs(r.min), Math.abs(r.max));\r\n        r.min = -abs;\r\n        r.max = abs;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class PercentageRange extends Range {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    updateGradations() {\r\n        this._gradations = [];\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getAreaName());\r\n        let interval = 10.0;\r\n        let h = Math.floor(this.toHeight(interval));\r\n        if ((h << 2) > area.getHeight())\r\n            return;\r\n        let v = Math.ceil(this.getMinValue() / interval) * interval;\r\n        if (v === 0.0)\r\n            v = 0;\r\n        if ((h << 2) < 24) {\r\n            if ((h << 1) < 8)\r\n                return;\r\n            do {\r\n                if (v === 20.0 || v === 80.0)\r\n                    this._gradations.push(v);\r\n                v += interval;\r\n            } while (v < this.getMaxValue());\r\n        } else {\r\n            do {\r\n                if (h < 8) {\r\n                    if (v === 20.0 || v === 50.0 || v === 80.0)\r\n                        this._gradations.push(v);\r\n                } else {\r\n                    if (v === 0.0 || v === 20.0 || v === 50.0 || v === 80.0 || v === 100.0)\r\n                        this._gradations.push(v);\r\n                }\r\n                v += interval;\r\n            } while (v < this.getMaxValue());\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ranges.js","import Kline from './js/kline'\r\n\r\nwindow.Kline = Kline;\r\n\r\nexport default Kline\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/entry.js","/*!\n * jQuery Mousewheel 3.1.13\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n */\n\n(function (factory) {\n    if ( typeof define === 'function' && define.amd ) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node/CommonJS style for Browserify\n        module.exports = factory;\n    } else {\n        // Browser globals\n        factory(jQuery);\n    }\n}(function ($) {\n\n    var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],\n        toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?\n                    ['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],\n        slice  = Array.prototype.slice,\n        nullLowestDeltaTimeout, lowestDelta;\n\n    if ( $.event.fixHooks ) {\n        for ( var i = toFix.length; i; ) {\n            $.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;\n        }\n    }\n\n    var special = $.event.special.mousewheel = {\n        version: '3.1.12',\n\n        setup: function() {\n            if ( this.addEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.addEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = handler;\n            }\n            // Store the line height and page height for this particular element\n            $.data(this, 'mousewheel-line-height', special.getLineHeight(this));\n            $.data(this, 'mousewheel-page-height', special.getPageHeight(this));\n        },\n\n        teardown: function() {\n            if ( this.removeEventListener ) {\n                for ( var i = toBind.length; i; ) {\n                    this.removeEventListener( toBind[--i], handler, false );\n                }\n            } else {\n                this.onmousewheel = null;\n            }\n            // Clean up the data we added to the element\n            $.removeData(this, 'mousewheel-line-height');\n            $.removeData(this, 'mousewheel-page-height');\n        },\n\n        getLineHeight: function(elem) {\n            var $elem = $(elem),\n                $parent = $elem['offsetParent' in $.fn ? 'offsetParent' : 'parent']();\n            if (!$parent.length) {\n                $parent = $('body');\n            }\n            return parseInt($parent.css('fontSize'), 10) || parseInt($elem.css('fontSize'), 10) || 16;\n        },\n\n        getPageHeight: function(elem) {\n            return $(elem).height();\n        },\n\n        settings: {\n            adjustOldDeltas: true, // see shouldAdjustOldDeltas() below\n            normalizeOffset: true  // calls getBoundingClientRect for each event\n        }\n    };\n\n    $.fn.extend({\n        mousewheel: function(fn) {\n            return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');\n        },\n\n        unmousewheel: function(fn) {\n            return this.unbind('mousewheel', fn);\n        }\n    });\n\n\n    function handler(event) {\n        var orgEvent   = event || window.event,\n            args       = slice.call(arguments, 1),\n            delta      = 0,\n            deltaX     = 0,\n            deltaY     = 0,\n            absDelta   = 0,\n            offsetX    = 0,\n            offsetY    = 0;\n        event = $.event.fix(orgEvent);\n        event.type = 'mousewheel';\n\n        // Old school scrollwheel delta\n        if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }\n        if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }\n        if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }\n        if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }\n\n        // Firefox < 17 horizontal scrolling related to DOMMouseScroll event\n        if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {\n            deltaX = deltaY * -1;\n            deltaY = 0;\n        }\n\n        // Set delta to be deltaY or deltaX if deltaY is 0 for backwards compatabilitiy\n        delta = deltaY === 0 ? deltaX : deltaY;\n\n        // New school wheel delta (wheel event)\n        if ( 'deltaY' in orgEvent ) {\n            deltaY = orgEvent.deltaY * -1;\n            delta  = deltaY;\n        }\n        if ( 'deltaX' in orgEvent ) {\n            deltaX = orgEvent.deltaX;\n            if ( deltaY === 0 ) { delta  = deltaX * -1; }\n        }\n\n        // No change actually happened, no reason to go any further\n        if ( deltaY === 0 && deltaX === 0 ) { return; }\n\n        // Need to convert lines and pages to pixels if we aren't already in pixels\n        // There are three delta modes:\n        //   * deltaMode 0 is by pixels, nothing to do\n        //   * deltaMode 1 is by lines\n        //   * deltaMode 2 is by pages\n        if ( orgEvent.deltaMode === 1 ) {\n            var lineHeight = $.data(this, 'mousewheel-line-height');\n            delta  *= lineHeight;\n            deltaY *= lineHeight;\n            deltaX *= lineHeight;\n        } else if ( orgEvent.deltaMode === 2 ) {\n            var pageHeight = $.data(this, 'mousewheel-page-height');\n            delta  *= pageHeight;\n            deltaY *= pageHeight;\n            deltaX *= pageHeight;\n        }\n\n        // Store lowest absolute delta to normalize the delta values\n        absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );\n\n        if ( !lowestDelta || absDelta < lowestDelta ) {\n            lowestDelta = absDelta;\n\n            // Adjust older deltas if necessary\n            if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n                lowestDelta /= 40;\n            }\n        }\n\n        // Adjust older deltas if necessary\n        if ( shouldAdjustOldDeltas(orgEvent, absDelta) ) {\n            // Divide all the things by 40!\n            delta  /= 40;\n            deltaX /= 40;\n            deltaY /= 40;\n        }\n\n        // Get a whole, normalized value for the deltas\n        delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);\n        deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);\n        deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);\n\n        // Normalise offsetX and offsetY properties\n        if ( special.settings.normalizeOffset && this.getBoundingClientRect ) {\n            var boundingRect = this.getBoundingClientRect();\n            offsetX = event.clientX - boundingRect.left;\n            offsetY = event.clientY - boundingRect.top;\n        }\n\n        // Add information to the event object\n        event.deltaX = deltaX;\n        event.deltaY = deltaY;\n        event.deltaFactor = lowestDelta;\n        event.offsetX = offsetX;\n        event.offsetY = offsetY;\n        // Go ahead and set deltaMode to 0 since we converted to pixels\n        // Although this is a little odd since we overwrite the deltaX/Y\n        // properties with normalized deltas.\n        event.deltaMode = 0;\n\n        // Add event and delta to the front of the arguments\n        args.unshift(event, delta, deltaX, deltaY);\n\n        // Clearout lowestDelta after sometime to better\n        // handle multiple device types that give different\n        // a different lowestDelta\n        // Ex: trackpad = 3 and mouse wheel = 120\n        if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }\n        nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);\n\n        return ($.event.dispatch || $.event.handle).apply(this, args);\n    }\n\n    function nullLowestDelta() {\n        lowestDelta = null;\n    }\n\n    function shouldAdjustOldDeltas(orgEvent, absDelta) {\n        // If this is an older event and the delta is divisable by 120,\n        // then we are assuming that the browser is treating this as an\n        // older mouse wheel event and that we should divide the deltas\n        // by 40 to try and get a more usable deltaFactor.\n        // Side note, this actually impacts the reported scroll distance\n        // in older browsers and can cause scrolling to be slower than native.\n        // Turn this off by setting $.event.special.mousewheel.settings.adjustOldDeltas to false.\n        return special.settings.adjustOldDeltas && orgEvent.type === 'mousewheel' && absDelta % 120 === 0;\n    }\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/jquery-mousewheel/jquery.mousewheel.js\n// module id = 20\n// module chunks = 0","module.exports = \"<div class=\\\"chart_container dark\\\">\\r\\n    <div id=\\\"chart_dom_elem_cache\\\"></div>\\r\\n    <!-- ToolBar -->\\r\\n    <div id=\\\"chart_toolbar\\\">\\r\\n        <div class=\\\"chart_toolbar_minisep\\\"></div>\\r\\n        <!-- Periods -->\\r\\n        <div class=\\\"chart_dropdown\\\" id=\\\"chart_toolbar_periods_vert\\\">\\r\\n            <div class=\\\"chart_dropdown_t\\\"><a class=\\\"chart_str_period\\\">周期</a></div>\\r\\n            <div class=\\\"chart_dropdown_data\\\" style=\\\"margin-left: -58px;\\\">\\r\\n                <table>\\r\\n                    <tbody>\\r\\n                    <tr>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li id=\\\"chart_period_1w_v\\\" style=\\\"display:none;\\\" name=\\\"1w\\\">\\r\\n                                    <a class=\\\"chart_str_period_1w\\\">周线</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_3d_v\\\" style=\\\"display:none;\\\" name=\\\"3d\\\">\\r\\n                                    <a class=\\\"chart_str_period_3d\\\">3日</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_1d_v\\\" style=\\\"display:none;\\\" name=\\\"1d\\\">\\r\\n                                    <a class=\\\"chart_str_period_1d\\\">日线</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_12h_v\\\" style=\\\"display:none;\\\" name=\\\"12h\\\">\\r\\n                                    <a class=\\\"chart_str_period_12h\\\">12小时</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_6h_v\\\" style=\\\"display:none;\\\" name=\\\"6h\\\">\\r\\n                                    <a class=\\\"chart_str_period_6h\\\">6小时</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_4h_v\\\" style=\\\"display:none;\\\" name=\\\"4h\\\">\\r\\n                                    <a class=\\\"chart_str_period_4h\\\">4小时</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_2h_v\\\" style=\\\"display:none;\\\" name=\\\"2h\\\">\\r\\n                                    <a class=\\\"chart_str_period_2h\\\">2小时</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_1h_v\\\" style=\\\"display:none;\\\" name=\\\"1h\\\">\\r\\n                                    <a class=\\\"chart_str_period_1h\\\">1小时</a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n\\r\\n                    </tr>\\r\\n\\r\\n                    <tr>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li id=\\\"chart_period_30m_v\\\" style=\\\"display:none;\\\" name=\\\"30m\\\">\\r\\n                                    <a class=\\\"chart_str_period_30m\\\">30分钟</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_15m_v\\\" style=\\\"display:none;\\\" name=\\\"15m\\\">\\r\\n                                    <a class=\\\"chart_str_period_15m\\\">15分钟</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_5m_v\\\" style=\\\"display:none;\\\" name=\\\"5m\\\">\\r\\n                                    <a class=\\\"chart_str_period_5m\\\">5分钟</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_3m_v\\\" style=\\\"display:none;\\\" name=\\\"3m\\\">\\r\\n                                    <a class=\\\"chart_str_period_3m\\\">3分钟</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_1m_v\\\" style=\\\"display:none;\\\" name=\\\"1m\\\">\\r\\n                                    <a class=\\\"chart_str_period_1m selected\\\">1分钟</a>\\r\\n                                </li>\\r\\n                                <li id=\\\"chart_period_line_v\\\" style=\\\"display:none;\\\" name=\\\"line\\\">\\r\\n                                    <a class=\\\"chart_str_period_line\\\">分时</a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"chart_toolbar_periods_horz\\\">\\r\\n            <ul class=\\\"chart_toolbar_tabgroup\\\" style=\\\"padding-left:5px; padding-right:11px;\\\">\\r\\n                <li id=\\\"chart_period_1w_h\\\" name=\\\"1w\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1w\\\">周线</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_3d_h\\\" name=\\\"3d\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_3d\\\">3日</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_1d_h\\\" name=\\\"1d\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1d\\\">日线</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_12h_h\\\" name=\\\"12h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_12h\\\">12小时</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_6h_h\\\" name=\\\"6h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_6h\\\">6小时</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_4h_h\\\" name=\\\"4h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_4h\\\">4小时</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_2h_h\\\" name=\\\"2h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_2h\\\">2小时</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_1h_h\\\" name=\\\"1h\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1h\\\">1小时</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_30m_h\\\" name=\\\"30m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_30m\\\">30分钟</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_15m_h\\\" name=\\\"15m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_15m\\\">15分钟</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_5m_h\\\" name=\\\"5m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_5m\\\">5分钟</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_3m_h\\\" name=\\\"3m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_3m\\\">3分钟</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_1m_h\\\" name=\\\"1m\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_1m selected\\\">1分钟</a>\\r\\n                </li>\\r\\n                <li id=\\\"chart_period_line_h\\\" name=\\\"line\\\" style=\\\"display: none;\\\">\\r\\n                    <a class=\\\"chart_str_period_line\\\">分时</a>\\r\\n                </li>\\r\\n            </ul>\\r\\n        </div>\\r\\n        <div id=\\\"chart_show_indicator\\\" class=\\\"chart_toolbar_button chart_str_indicator_cap selected\\\">技术指标</div>\\r\\n        <div id=\\\"chart_show_tools\\\" class=\\\"chart_toolbar_button chart_str_tools_cap\\\">画线工具</div>\\r\\n        <div id=\\\"chart_toolbar_theme\\\">\\r\\n            <div class=\\\"chart_toolbar_label chart_str_theme_cap\\\">\\r\\n                主题选择\\r\\n            </div>\\r\\n            <a name=\\\"dark\\\" class=\\\"chart_icon chart_icon_theme_dark selected\\\"></a>\\r\\n            <a name=\\\"light\\\" class=\\\"chart_icon chart_icon_theme_light\\\"></a>\\r\\n        </div>\\r\\n        <div class=\\\"chart_dropdown\\\" id=\\\"chart_dropdown_settings\\\">\\r\\n            <div class=\\\"chart_dropdown_t\\\"><a class=\\\"chart_str_settings\\\">更多</a></div>\\r\\n\\r\\n            <div class=\\\"chart_dropdown_data\\\" style=\\\"margin-left: -142px;\\\">\\r\\n                <table>\\r\\n                    <tbody>\\r\\n                    <tr id=\\\"chart_select_main_indicator\\\">\\r\\n                        <td class=\\\"chart_str_main_indicator\\\">主指标</td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a name=\\\"MA\\\" class=\\\"selected\\\">MA</a></li>\\r\\n                                <li><a name=\\\"EMA\\\" class=\\\"\\\">EMA</a></li>\\r\\n                                <li><a name=\\\"BOLL\\\" class=\\\"\\\">BOLL</a></li>\\r\\n                                <li><a name=\\\"SAR\\\" class=\\\"\\\">SAR</a></li>\\r\\n                                <li><a name=\\\"NONE\\\" class=\\\"\\\">None</a></li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n\\r\\n                    <tr id=\\\"chart_select_chart_style\\\">\\r\\n                        <td class=\\\"chart_str_chart_style\\\">主图样式</td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a class=\\\"selected\\\">CandleStick</a></li>\\r\\n                                <li><a>CandleStickHLC</a></li>\\r\\n                                <li><a class=\\\"\\\">OHLC</a></li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n\\r\\n                    <tr id=\\\"chart_select_theme\\\" style=\\\"display: none;\\\">\\r\\n                        <td class=\\\"chart_str_theme\\\">主题选择</td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li>\\r\\n                                    <a name=\\\"dark\\\" class=\\\"chart_icon chart_icon_theme_dark selected\\\"></a>\\r\\n                                </li>\\r\\n\\r\\n                                <li>\\r\\n                                    <a name=\\\"light\\\" class=\\\"chart_icon chart_icon_theme_light\\\"></a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr id=\\\"chart_enable_tools\\\" style=\\\"display: none;\\\">\\r\\n                        <td class=\\\"chart_str_tools\\\">画线工具</td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a name=\\\"on\\\" class=\\\"chart_str_on\\\">开启</a></li>\\r\\n                                <li><a name=\\\"off\\\" class=\\\"chart_str_off selected\\\">关闭</a></li>\\r\\n\\r\\n                            </ul>\\r\\n\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr id=\\\"chart_enable_indicator\\\" style=\\\"display: none;\\\">\\r\\n                        <td class=\\\"chart_str_indicator\\\">技术指标</td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li><a name=\\\"on\\\" class=\\\"chart_str_on selected\\\">开启</a></li>\\r\\n                                <li><a name=\\\"off\\\" class=\\\"chart_str_off\\\">关闭</a></li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    <tr>\\r\\n                        <td></td>\\r\\n                        <td>\\r\\n                            <ul>\\r\\n                                <li>\\r\\n                                    <a id=\\\"chart_btn_parameter_settings\\\" class=\\\"chart_str_indicator_parameters\\\">指标参数设置</a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"chart_dropdown\\\" id=\\\"chart_language_setting_div\\\" style=\\\"padding-left: 5px;\\\">\\r\\n            <div class=\\\"chart_dropdown_t\\\">\\r\\n                <a class=\\\"chart_language_setting\\\">语言(LANG)</a>\\r\\n            </div>\\r\\n            <div class=\\\"chart_dropdown_data\\\" style=\\\"padding-top: 15px; margin-left: -12px;\\\">\\r\\n                <ul>\\r\\n                    <li style=\\\"height: 25px;\\\">\\r\\n                        <a name=\\\"zh-cn\\\" class=\\\"selected\\\">简体中文(zh-CN)</a>\\r\\n                    </li>\\r\\n                    <li style=\\\"height: 25px;\\\">\\r\\n                        <a name=\\\"en-us\\\">English(en-US)</a>\\r\\n                    </li>\\r\\n                    <li style=\\\"height: 25px;\\\">\\r\\n                        <a name=\\\"zh-tw\\\">繁體中文(zh-HK)</a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div id=\\\"chart_updated_time\\\">\\r\\n            <div id=\\\"sizeIcon\\\" class=\\\"chart_BoxSize\\\"></div>\\r\\n\\r\\n        </div>\\r\\n    </div>\\r\\n               <!-- ToolPanel -->\\r\\n    <div id=\\\"chart_toolpanel\\\">\\r\\n        <div class=\\\"chart_toolpanel_separator\\\"></div>\\r\\n\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_Cursor\\\" name=\\\"Cursor\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_cursor\\\">\\r\\n                光标\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_CrossCursor\\\" name=\\\"CrossCursor\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_cross_cursor\\\">\\r\\n                十字光标\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_SegLine\\\" name=\\\"SegLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_seg_line\\\">\\r\\n                线段\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_StraightLine\\\" name=\\\"StraightLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_straight_line\\\">\\r\\n                直线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_RayLine\\\" name=\\\"RayLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_ray_line\\\">\\r\\n                射线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_ArrowLine\\\" name=\\\"ArrowLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_arrow_line\\\">\\r\\n                箭头\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_HoriSegLine\\\" name=\\\"HoriSegLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_horz_seg_line\\\">\\r\\n                水平线段\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_HoriStraightLine\\\" name=\\\"HoriStraightLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_horz_straight_line\\\">\\r\\n                水平直线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_HoriRayLine\\\" name=\\\"HoriRayLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_horz_ray_line\\\">\\r\\n                水平射线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_VertiStraightLine\\\" name=\\\"VertiStraightLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_vert_straight_line\\\">\\r\\n                垂直直线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_PriceLine\\\" name=\\\"PriceLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_price_line\\\">\\r\\n                价格线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_TriParallelLine\\\" name=\\\"TriParallelLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_tri_parallel_line\\\">\\r\\n                价格通道线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_BiParallelLine\\\" name=\\\"BiParallelLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_bi_parallel_line\\\">\\r\\n                平行直线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_BiParallelRayLine\\\" name=\\\"BiParallelRayLine\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_bi_parallel_ray\\\">\\r\\n                平行射线\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_DrawFibRetrace\\\" name=\\\"DrawFibRetrace\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_fib_retrace\\\">\\r\\n                斐波纳契回调\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"chart_toolpanel_button\\\">\\r\\n            <div class=\\\"chart_toolpanel_icon\\\" id=\\\"chart_DrawFibFans\\\" name=\\\"DrawFibFans\\\"></div>\\r\\n            <div class=\\\"chart_toolpanel_tip chart_str_fib_fans\\\">\\r\\n                斐波纳契扇形\\r\\n            </div>\\r\\n        </div>\\r\\n        <div style=\\\"padding-left: 3px;padding-top: 10px;\\\">\\r\\n            <button style=\\\"color: red;\\\" id=\\\"clearCanvas\\\" title=\\\"Clear All\\\">X</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div id=\\\"chart_canvasGroup\\\" class=\\\"temp\\\">\\r\\n        <canvas class=\\\"chart_canvas\\\" id=\\\"chart_mainCanvas\\\" style=\\\"cursor: default;\\\"></canvas>\\r\\n        <canvas class=\\\"chart_canvas\\\" id=\\\"chart_overlayCanvas\\\" style=\\\"cursor: default;\\\"></canvas>\\r\\n    </div>\\r\\n    <div id=\\\"chart_tabbar\\\">\\r\\n        <ul>\\r\\n            <li><a name=\\\"MACD\\\" class=\\\"\\\">MACD</a></li>\\r\\n\\r\\n            <li><a name=\\\"KDJ\\\" class=\\\"\\\">KDJ</a></li>\\r\\n\\r\\n            <li><a name=\\\"StochRSI\\\" class=\\\"\\\">StochRSI</a></li>\\r\\n\\r\\n            <li><a name=\\\"RSI\\\" class=\\\"\\\">RSI</a></li>\\r\\n\\r\\n            <li><a name=\\\"DMI\\\" class=\\\"\\\">DMI</a></li>\\r\\n\\r\\n            <li><a name=\\\"OBV\\\" class=\\\"\\\">OBV</a></li>\\r\\n\\r\\n            <li><a name=\\\"BOLL\\\" class=\\\"\\\">BOLL</a></li>\\r\\n\\r\\n            <li><a name=\\\"SAR\\\" class=\\\"\\\">SAR</a></li>\\r\\n\\r\\n            <li><a name=\\\"DMA\\\" class=\\\"\\\">DMA</a></li>\\r\\n\\r\\n            <li><a name=\\\"TRIX\\\" class=\\\"\\\">TRIX</a></li>\\r\\n\\r\\n            <li><a name=\\\"BRAR\\\" class=\\\"\\\">BRAR</a></li>\\r\\n\\r\\n            <li><a name=\\\"VR\\\" class=\\\"\\\">VR</a></li>\\r\\n\\r\\n            <li><a name=\\\"EMV\\\" class=\\\"\\\">EMV</a></li>\\r\\n\\r\\n            <li><a name=\\\"WR\\\" class=\\\"\\\">WR</a></li>\\r\\n\\r\\n            <li><a name=\\\"ROC\\\" class=\\\"\\\">ROC</a></li>\\r\\n\\r\\n            <li><a name=\\\"MTM\\\" class=\\\"\\\">MTM</a></li>\\r\\n\\r\\n            <li><a name=\\\"PSY\\\">PSY</a></li>\\r\\n\\r\\n        </ul>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div id=\\\"chart_parameter_settings\\\">\\r\\n        <h2 class=\\\"chart_str_indicator_parameters\\\">指标参数设置</h2>\\r\\n        <table>\\r\\n            <tbody>\\r\\n            <tr>\\r\\n                <th>MA</th>\\r\\n                <td><input name=\\\"MA\\\"><input name=\\\"MA\\\"><input name=\\\"MA\\\"><input name=\\\"MA\\\"><br><input\\r\\n                        name=\\\"MA\\\"><input\\r\\n                        name=\\\"MA\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>DMA</th>\\r\\n                <td><input name=\\\"DMA\\\"><input name=\\\"DMA\\\"><input name=\\\"DMA\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>EMA</th>\\r\\n                <td>\\r\\n                    <input name=\\\"EMA\\\"><input name=\\\"EMA\\\"><input name=\\\"EMA\\\"><input name=\\\"EMA\\\"><br>\\r\\n                    <input name=\\\"EMA\\\"><input name=\\\"EMA\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>TRIX</th>\\r\\n                <td><input name=\\\"TRIX\\\"><input name=\\\"TRIX\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>VOLUME</th>\\r\\n                <td><input name=\\\"VOLUME\\\"><input name=\\\"VOLUME\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>BRAR</th>\\r\\n                <td><input name=\\\"BRAR\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>MACD</th>\\r\\n                <td>\\r\\n                    <input name=\\\"MACD\\\"><input name=\\\"MACD\\\"><input name=\\\"MACD\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>VR</th>\\r\\n                <td><input name=\\\"VR\\\"><input name=\\\"VR\\\"></td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>KDJ</th>\\r\\n                <td>\\r\\n                    <input name=\\\"KDJ\\\"><input name=\\\"KDJ\\\"><input name=\\\"KDJ\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>EMV</th>\\r\\n                <td>\\r\\n                    <input name=\\\"EMV\\\"><input name=\\\"EMV\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>StochRSI</th>\\r\\n                <td>\\r\\n                    <input name=\\\"StochRSI\\\"><input name=\\\"StochRSI\\\"><input name=\\\"StochRSI\\\"><input name=\\\"StochRSI\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>WR</th>\\r\\n                <td>\\r\\n                    <input name=\\\"WR\\\"><input name=\\\"WR\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>RSI</th>\\r\\n                <td>\\r\\n                    <input name=\\\"RSI\\\"><input name=\\\"RSI\\\"><input name=\\\"RSI\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>ROC</th>\\r\\n                <td>\\r\\n                    <input name=\\\"ROC\\\"><input name=\\\"ROC\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>DMI</th>\\r\\n                <td>\\r\\n                    <input name=\\\"DMI\\\"><input name=\\\"DMI\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>MTM</th>\\r\\n                <td>\\r\\n                    <input name=\\\"MTM\\\"><input name=\\\"MTM\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>OBV</th>\\r\\n                <td>\\r\\n                    <input name=\\\"OBV\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n\\r\\n                <th>PSY</th>\\r\\n                <td>\\r\\n                    <input name=\\\"PSY\\\"><input name=\\\"PSY\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n\\r\\n            <tr>\\r\\n                <th>BOLL</th>\\r\\n                <td>\\r\\n                    <input name=\\\"BOLL\\\">\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button class=\\\"chart_str_default\\\">默认值</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n\\r\\n        <div id=\\\"close_settings\\\"><a class=\\\"chart_str_close\\\">关闭</a></div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- Loading -->\\r\\n    <div id=\\\"chart_loading\\\" class=\\\"chart_str_loading\\\">正在读取数据...</div>\\r\\n</div>\\r\\n\\r\\n<div style=\\\"display: none\\\" id=\\\"chart_language_switch_tmp\\\">\\r\\n    <span name=\\\"chart_str_period\\\" zh_tw=\\\"週期\\\" zh_cn=\\\"周期\\\" en_us=\\\"TIME\\\"></span>\\r\\n    <span name=\\\"chart_str_period_line\\\" zh_tw=\\\"分時\\\" zh_cn=\\\"分时\\\" en_us=\\\"Line\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1m\\\" zh_tw=\\\"1分鐘\\\" zh_cn=\\\"1分钟\\\" en_us=\\\"1m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_3m\\\" zh_tw=\\\"3分鐘\\\" zh_cn=\\\"3分钟\\\" en_us=\\\"3m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_5m\\\" zh_tw=\\\"5分鐘\\\" zh_cn=\\\"5分钟\\\" en_us=\\\"5m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_15m\\\" zh_tw=\\\"15分鐘\\\" zh_cn=\\\"15分钟\\\" en_us=\\\"15m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_30m\\\" zh_tw=\\\"30分鐘\\\" zh_cn=\\\"30分钟\\\" en_us=\\\"30m\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1h\\\" zh_tw=\\\"1小時\\\" zh_cn=\\\"1小时\\\" en_us=\\\"1h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_2h\\\" zh_tw=\\\"2小時\\\" zh_cn=\\\"2小时\\\" en_us=\\\"2h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_4h\\\" zh_tw=\\\"4小時\\\" zh_cn=\\\"4小时\\\" en_us=\\\"4h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_6h\\\" zh_tw=\\\"6小時\\\" zh_cn=\\\"6小时\\\" en_us=\\\"6h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_12h\\\" zh_tw=\\\"12小時\\\" zh_cn=\\\"12小时\\\" en_us=\\\"12h\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1d\\\" zh_tw=\\\"日線\\\" zh_cn=\\\"日线\\\" en_us=\\\"1d\\\"></span>\\r\\n    <span name=\\\"chart_str_period_3d\\\" zh_tw=\\\"3日\\\" zh_cn=\\\"3日\\\" en_us=\\\"3d\\\"></span>\\r\\n    <span name=\\\"chart_str_period_1w\\\" zh_tw=\\\"周線\\\" zh_cn=\\\"周线\\\" en_us=\\\"1w\\\"></span>\\r\\n    <span name=\\\"chart_str_settings\\\" zh_tw=\\\"更多\\\" zh_cn=\\\"更多\\\" en_us=\\\"MORE\\\"></span>\\r\\n    <span name=\\\"chart_setting_main_indicator\\\" zh_tw=\\\"均線設置\\\" zh_cn=\\\"均线设置\\\" en_us=\\\"Main Indicator\\\"></span>\\r\\n    <span name=\\\"chart_setting_main_indicator_none\\\" zh_tw=\\\"關閉均線\\\" zh_cn=\\\"关闭均线\\\" en_us=\\\"None\\\"></span>\\r\\n    <span name=\\\"chart_setting_indicator_parameters\\\" zh_tw=\\\"指標參數設置\\\" zh_cn=\\\"指标参数设置\\\" en_us=\\\"Indicator Parameters\\\"></span>\\r\\n    <span name=\\\"chart_str_chart_style\\\" zh_tw=\\\"主圖樣式\\\" zh_cn=\\\"主图样式\\\" en_us=\\\"Chart Style\\\"></span>\\r\\n    <span name=\\\"chart_str_main_indicator\\\" zh_tw=\\\"主指標\\\" zh_cn=\\\"主指标\\\" en_us=\\\"Main Indicator\\\"></span>\\r\\n    <span name=\\\"chart_str_indicator\\\" zh_tw=\\\"技術指標\\\" zh_cn=\\\"技术指标\\\" en_us=\\\"Indicator\\\"></span>\\r\\n    <span name=\\\"chart_str_indicator_cap\\\" zh_tw=\\\"技術指標\\\" zh_cn=\\\"技术指标\\\" en_us=\\\"INDICATOR\\\"></span>\\r\\n    <span name=\\\"chart_str_tools\\\" zh_tw=\\\"畫線工具\\\" zh_cn=\\\"画线工具\\\" en_us=\\\"Tools\\\"></span>\\r\\n    <span name=\\\"chart_str_tools_cap\\\" zh_tw=\\\"畫線工具\\\" zh_cn=\\\"画线工具\\\" en_us=\\\"TOOLS\\\"></span>\\r\\n    <span name=\\\"chart_str_theme\\\" zh_tw=\\\"主題選擇\\\" zh_cn=\\\"主题选择\\\" en_us=\\\"Theme\\\"></span>\\r\\n    <span name=\\\"chart_str_theme_cap\\\" zh_tw=\\\"主題選擇\\\" zh_cn=\\\"主题选择\\\" en_us=\\\"THEME\\\"></span>\\r\\n    <span name=\\\"chart_language_setting\\\" zh_tw=\\\"語言(LANG)\\\" zh_cn=\\\"语言(LANG)\\\" en_us=\\\"LANGUAGE\\\"></span>\\r\\n    <span name=\\\"chart_exchanges_setting\\\" zh_tw=\\\"更多市場\\\" zh_cn=\\\"更多市场\\\" en_us=\\\"MORE MARKETS\\\"></span>\\r\\n    <span name=\\\"chart_othercoin_setting\\\" zh_tw=\\\"其它市場\\\" zh_cn=\\\"其它市场\\\" en_us=\\\"OTHER MARKETS\\\"></span>\\r\\n\\r\\n    <span name=\\\"chart_str_none\\\" zh_tw=\\\"關閉\\\" zh_cn=\\\"关闭\\\" en_us=\\\"None\\\"></span>\\r\\n    <span name=\\\"chart_str_theme_dark\\\" zh_tw=\\\"深色主題\\\" zh_cn=\\\"深色主题\\\" en_us=\\\"Dark\\\"></span>\\r\\n    <span name=\\\"chart_str_theme_light\\\" zh_tw=\\\"淺色主題\\\" zh_cn=\\\"浅色主题\\\" en_us=\\\"Light\\\"></span>\\r\\n    <span name=\\\"chart_str_on\\\" zh_tw=\\\"開啟\\\" zh_cn=\\\"开启\\\" en_us=\\\"On\\\"></span>\\r\\n    <span name=\\\"chart_str_off\\\" zh_tw=\\\"關閉\\\" zh_cn=\\\"关闭\\\" en_us=\\\"Off\\\"></span>\\r\\n    <span name=\\\"chart_str_close\\\" zh_tw=\\\"關閉\\\" zh_cn=\\\"关闭\\\" en_us=\\\"CLOSE\\\"></span>\\r\\n    <span name=\\\"chart_str_default\\\" zh_tw=\\\"默認值\\\" zh_cn=\\\"默认值\\\" en_us=\\\"default\\\"></span>\\r\\n    <span name=\\\"chart_str_loading\\\" zh_tw=\\\"正在讀取數據...\\\" zh_cn=\\\"正在读取数据...\\\" en_us=\\\"Loading...\\\"></span>\\r\\n    <span name=\\\"chart_str_indicator_parameters\\\" zh_tw=\\\"指標參數設置\\\" zh_cn=\\\"指标参数设置\\\" en_us=\\\"Indicator Parameters\\\"></span>\\r\\n    <span name=\\\"chart_str_cursor\\\" zh_tw=\\\"光標\\\" zh_cn=\\\"光标\\\" en_us=\\\"Cursor\\\"></span>\\r\\n    <span name=\\\"chart_str_cross_cursor\\\" zh_tw=\\\"十字光標\\\" zh_cn=\\\"十字光标\\\" en_us=\\\"Cross Cursor\\\"></span>\\r\\n    <span name=\\\"chart_str_seg_line\\\" zh_tw=\\\"線段\\\" zh_cn=\\\"线段\\\" en_us=\\\"Trend Line\\\"></span>\\r\\n    <span name=\\\"chart_str_straight_line\\\" zh_tw=\\\"直線\\\" zh_cn=\\\"直线\\\" en_us=\\\"Extended\\\"></span>\\r\\n    <span name=\\\"chart_str_ray_line\\\" zh_tw=\\\"射線\\\" zh_cn=\\\"射线\\\" en_us=\\\"Ray\\\"></span>\\r\\n    <span name=\\\"chart_str_arrow_line\\\" zh_tw=\\\"箭頭\\\" zh_cn=\\\"箭头\\\" en_us=\\\"Arrow\\\"></span>\\r\\n    <span name=\\\"chart_str_horz_seg_line\\\" zh_tw=\\\"水平線段\\\" zh_cn=\\\"水平线段\\\" en_us=\\\"Horizontal Line\\\"></span>\\r\\n    <span name=\\\"chart_str_horz_straight_line\\\" zh_tw=\\\"水平直線\\\" zh_cn=\\\"水平直线\\\" en_us=\\\"Horizontal Extended\\\"></span>\\r\\n    <span name=\\\"chart_str_horz_ray_line\\\" zh_tw=\\\"水平射線\\\" zh_cn=\\\"水平射线\\\" en_us=\\\"Horizontal Ray\\\"></span>\\r\\n    <span name=\\\"chart_str_vert_straight_line\\\" zh_tw=\\\"垂直直線\\\" zh_cn=\\\"垂直直线\\\" en_us=\\\"Vertical Extended\\\"></span>\\r\\n    <span name=\\\"chart_str_price_line\\\" zh_tw=\\\"價格線\\\" zh_cn=\\\"价格线\\\" en_us=\\\"Price Line\\\"></span>\\r\\n    <span name=\\\"chart_str_tri_parallel_line\\\" zh_tw=\\\"價格通道線\\\" zh_cn=\\\"价格通道线\\\" en_us=\\\"Parallel Channel\\\"></span>\\r\\n    <span name=\\\"chart_str_bi_parallel_line\\\" zh_tw=\\\"平行直線\\\" zh_cn=\\\"平行直线\\\" en_us=\\\"Parallel Lines\\\"></span>\\r\\n    <span name=\\\"chart_str_bi_parallel_ray\\\" zh_tw=\\\"平行射線\\\" zh_cn=\\\"平行射线\\\" en_us=\\\"Parallel Rays\\\"></span>\\r\\n    <span name=\\\"chart_str_fib_retrace\\\" zh_tw=\\\"斐波納契回調\\\" zh_cn=\\\"斐波纳契回调\\\" en_us=\\\"Fibonacci Retracements\\\"></span>\\r\\n    <span name=\\\"chart_str_fib_fans\\\" zh_tw=\\\"斐波納契扇形\\\" zh_cn=\\\"斐波纳契扇形\\\" en_us=\\\"Fibonacci Fans\\\"></span>\\r\\n    <span name=\\\"chart_str_updated\\\" zh_tw=\\\"更新於\\\" zh_cn=\\\"更新于\\\" en_us=\\\"Updated\\\"></span>\\r\\n    <span name=\\\"chart_str_ago\\\" zh_tw=\\\"前\\\" zh_cn=\\\"前\\\" en_us=\\\"ago\\\"></span>\\r\\n</div>\\r\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/tpl.html\n// module id = 21\n// module chunks = 0","import {NamedObject} from './named_object'\r\nimport {CPoint} from './cpoint'\r\nimport * as ctools from './ctools'\r\n\r\nexport class CToolManager extends NamedObject {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.selectedObject = -1;\r\n        this.toolObjects = [];\r\n    }\r\n\r\n    getToolObjectCount() {\r\n        return this.toolObjects.length;\r\n    }\r\n\r\n    addToolObject(o) {\r\n        this.toolObjects.push(o);\r\n    }\r\n\r\n    getToolObject(i) {\r\n        if (i < this.toolObjects.length && i >= 0) {\r\n            return this.toolObjects[i];\r\n        }\r\n        return null;\r\n    }\r\n\r\n    getCurrentObject() {\r\n        return this.getToolObject(this.getToolObjectCount() - 1);\r\n    }\r\n\r\n    getSelectedObject() {\r\n        return this.getToolObject(this.selectedObject);\r\n    }\r\n\r\n    delCurrentObject() {\r\n        this.toolObjects.splice(this.getToolObjectCount() - 1, 1);\r\n    }\r\n\r\n    delSelectedObject() {\r\n        this.toolObjects.splice(this.selectedObject, 1);\r\n        this.selectedObject = -1;\r\n    }\r\n\r\n    acceptMouseMoveEvent(x, y) {\r\n        if (this.selectedObject === -1) {\r\n            let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n            if (curr !== null && curr !== undefined && curr.getState() !== ctools.CToolObject.state.AfterDraw)\r\n                return curr.acceptMouseMoveEvent(x, y);\r\n        } else {\r\n            let sel = this.toolObjects[this.selectedObject];\r\n            if (sel.getState() === ctools.CToolObject.state.Draw) {\r\n                return sel.acceptMouseMoveEvent(x, y);\r\n            }\r\n            sel.unselect();\r\n            this.selectedObject = -1;\r\n        }\r\n        for (let index in this.toolObjects) {\r\n            if (this.toolObjects[index].isSelected(x, y)) {\r\n                this.selectedObject = index;\r\n                return false;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    acceptMouseDownEvent(x, y) {\r\n        this.mouseDownMove = false;\r\n        if (this.selectedObject === -1) {\r\n            let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n            if (curr !== null && curr !== undefined && curr.getState() !== ctools.CToolObject.state.AfterDraw)\r\n                return curr.acceptMouseDownEvent(x, y);\r\n        } else {\r\n            let sel = this.toolObjects[this.selectedObject];\r\n            if (sel.getState() !== ctools.CToolObject.state.BeforeDraw)\r\n                return sel.acceptMouseDownEvent(x, y);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    acceptMouseDownMoveEvent(x, y) {\r\n        this.mouseDownMove = true;\r\n        if (this.selectedObject === -1) {\r\n            let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n            if (curr !== null && curr !== undefined && curr.getState() === ctools.CToolObject.state.Draw)\r\n                return curr.acceptMouseDownMoveEvent(x, y);\r\n            return false;\r\n        } else {\r\n            let sel = this.toolObjects[this.selectedObject];\r\n            if (sel.getState() !== ctools.CToolObject.state.BeforeDraw) {\r\n                if (sel.acceptMouseDownMoveEvent(x, y) === true) {\r\n                    let point = this.toolObjects[this.selectedObject].points;\r\n                    for (let i = 0; i < point.length; i++) {\r\n                        if (point[i].state === CPoint.state.Highlight || point[i].state === CPoint.state.Show) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n\r\n    acceptMouseUpEvent(x, y) {\r\n        if (this.mouseDownMove === true) {\r\n            if (this.selectedObject === -1) {\r\n                let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n                if (curr !== null && curr !== undefined && curr.getState() === ctools.CToolObject.state.Draw)\r\n                    return curr.acceptMouseUpEvent(x, y);\r\n                return true;\r\n            } else {\r\n                let sel = this.toolObjects[this.selectedObject];\r\n                if (sel.getState() !== ctools.CToolObject.state.BeforeDraw)\r\n                    return sel.acceptMouseUpEvent(x, y);\r\n            }\r\n        }\r\n        if (this.selectedObject !== -1) {\r\n            return true;\r\n        }\r\n        let curr = this.toolObjects[this.getToolObjectCount() - 1];\r\n        if (curr !== null && curr !== undefined) {\r\n            if (curr.getState() === ctools.CToolObject.state.Draw)\r\n                return true;\r\n            if (!curr.isValidMouseXY(x, y)) {\r\n                return false;\r\n            }\r\n            if (curr.isSelected(x, y)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ctool_manager.js","import {NamedObject} from './named_object'\r\nimport {ChartManager} from './chart_manager'\r\nimport {DataSource} from './data_sources'\r\n\r\nexport class Timeline extends NamedObject {\r\n\r\n    static itemWidth = [1, 3, 3, 5, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29];\r\n\r\n    static spaceWidth = [1, 1, 2, 2, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 7, 7, 7];\r\n\r\n    static PADDING_LEFT = 4;\r\n\r\n    static PADDING_RIGHT = 8;\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._updated = false;\r\n        this._innerLeft = 0;\r\n        this._innerWidth = 0;\r\n        this._firstColumnLeft = 0;\r\n        this._scale = 3;\r\n        this._lastScale = -1;\r\n        this._maxItemCount = 0;\r\n        this._maxIndex = 0;\r\n        this._firstIndex = -1;\r\n        this._selectedIndex = -1;\r\n        this._savedFirstIndex = -1;\r\n    }\r\n\r\n\r\n    isLatestShown() {\r\n        return this.getLastIndex() === this._maxIndex;\r\n    }\r\n\r\n    isUpdated() {\r\n        return this._updated;\r\n    }\r\n\r\n    setUpdated(v) {\r\n        this._updated = v;\r\n    }\r\n\r\n    getItemWidth() {\r\n        return Timeline.itemWidth[this._scale];\r\n    }\r\n\r\n    getSpaceWidth() {\r\n        return Timeline.spaceWidth[this._scale];\r\n    }\r\n\r\n    getColumnWidth() {\r\n        return this.getSpaceWidth() + this.getItemWidth();\r\n    }\r\n\r\n    getInnerWidth() {\r\n        return this._innerWidth;\r\n    }\r\n\r\n    getItemLeftOffset() {\r\n        return this.getSpaceWidth();\r\n    }\r\n\r\n    getItemCenterOffset() {\r\n        return this.getSpaceWidth() + (this.getItemWidth() >> 1);\r\n    }\r\n\r\n    getFirstColumnLeft() {\r\n        return this._firstColumnLeft;\r\n    }\r\n\r\n    getMaxItemCount() {\r\n        return this._maxItemCount;\r\n    }\r\n\r\n    getFirstIndex() {\r\n        return this._firstIndex;\r\n    }\r\n\r\n    getLastIndex() {\r\n        return Math.min(this._firstIndex + this._maxItemCount, this._maxIndex);\r\n    }\r\n\r\n    getSelectedIndex() {\r\n        return this._selectedIndex;\r\n    }\r\n\r\n    getMaxIndex() {\r\n        return this._maxIndex;\r\n    }\r\n\r\n    calcColumnCount(w) {\r\n        return Math.floor(w / this.getColumnWidth()) << 0;\r\n    }\r\n\r\n    calcFirstColumnLeft(maxItemCount) {\r\n        return this._innerLeft + this._innerWidth - (this.getColumnWidth() * maxItemCount);\r\n    }\r\n\r\n    calcFirstIndexAlignRight(oldFirstIndex, oldMaxItemCount, newMaxItemCount) {\r\n        return Math.max(0, oldFirstIndex + Math.max(oldMaxItemCount, 1) - Math.max(newMaxItemCount, 1));\r\n    }\r\n\r\n    calcFirstIndex(newMaxItemCount) {\r\n        return this.validateFirstIndex(\r\n            this.calcFirstIndexAlignRight(this._firstIndex, this._maxItemCount,\r\n                newMaxItemCount), newMaxItemCount);\r\n    }\r\n\r\n    updateMaxItemCount() {\r\n        let newMaxItemCount = this.calcColumnCount(this._innerWidth);\r\n        let newFirstIndex;\r\n        if (this._maxItemCount < 1) {\r\n            newFirstIndex = this.calcFirstIndex(newMaxItemCount);\r\n        } else if (this._lastScale === this._scale) {\r\n            newFirstIndex = this.validateFirstIndex(this._firstIndex - (newMaxItemCount - this._maxItemCount));\r\n        } else {\r\n            let focusedIndex = (this._selectedIndex >= 0) ? this._selectedIndex : this.getLastIndex() - 1;\r\n            newFirstIndex = this.validateFirstIndex(focusedIndex -\r\n                Math.round((focusedIndex - this._firstIndex) * newMaxItemCount / this._maxItemCount));\r\n        }\r\n        this._lastScale = this._scale;\r\n        if (this._firstIndex !== newFirstIndex) {\r\n            if (this._selectedIndex === this._firstIndex)\r\n                this._selectedIndex = newFirstIndex;\r\n            this._firstIndex = newFirstIndex;\r\n            this._updated = true;\r\n        }\r\n        if (this._maxItemCount !== newMaxItemCount) {\r\n            this._maxItemCount = newMaxItemCount;\r\n            this._updated = true;\r\n        }\r\n        this._firstColumnLeft = this.calcFirstColumnLeft(newMaxItemCount);\r\n    }\r\n\r\n    validateFirstIndex(firstIndex, maxItemCount) {\r\n        if (this._maxIndex < 1) {\r\n            return -1;\r\n        }\r\n        if (firstIndex < 0) {\r\n            return 0;\r\n        }\r\n        let lastFirst = Math.max(0, this._maxIndex - 1 /*maxItemCount*/);\r\n        if (firstIndex > lastFirst) {\r\n            return lastFirst;\r\n        }\r\n        return firstIndex;\r\n    }\r\n\r\n    validateSelectedIndex() {\r\n        if (this._selectedIndex < this._firstIndex)\r\n            this._selectedIndex = -1;\r\n        else if (this._selectedIndex >= this.getLastIndex())\r\n            this._selectedIndex = -1;\r\n    }\r\n\r\n    onLayout() {\r\n        let mgr = ChartManager.instance;\r\n        let area = mgr.getArea(this.getDataSourceName() + \".main\");\r\n        if (area !== null) {\r\n            this._innerLeft = area.getLeft() + Timeline.PADDING_LEFT;\r\n            let w = Math.max(0, area.getWidth() - (Timeline.PADDING_LEFT + Timeline.PADDING_RIGHT));\r\n            if (this._innerWidth !== w) {\r\n                this._innerWidth = w;\r\n                this.updateMaxItemCount();\r\n            }\r\n        }\r\n    }\r\n\r\n    toIndex(x) {\r\n        return this._firstIndex + this.calcColumnCount(x - this._firstColumnLeft);\r\n    }\r\n\r\n    toColumnLeft(index) {\r\n        return this._firstColumnLeft + (this.getColumnWidth() * (index - this._firstIndex));\r\n    }\r\n\r\n    toItemLeft(index) {\r\n        return this.toColumnLeft(index) + this.getItemLeftOffset();\r\n    }\r\n\r\n    toItemCenter(index) {\r\n        return this.toColumnLeft(index) + this.getItemCenterOffset();\r\n    }\r\n\r\n    selectAt(x) {\r\n        this._selectedIndex = this.toIndex(x);\r\n        this.validateSelectedIndex();\r\n        return (this._selectedIndex >= 0);\r\n    }\r\n\r\n    unselect() {\r\n        this._selectedIndex = -1;\r\n    }\r\n\r\n    update() {\r\n        let mgr = ChartManager.instance;\r\n        let ds = mgr.getDataSource(this.getDataSourceName());\r\n        let oldMaxIndex = this._maxIndex;\r\n        this._maxIndex = ds.getDataCount();\r\n        switch (ds.getUpdateMode()) {\r\n            case DataSource.UpdateMode.Refresh:\r\n                if (this._maxIndex < 1)\r\n                    this._firstIndex = -1;\r\n                else\r\n                    this._firstIndex = Math.max(this._maxIndex - this._maxItemCount, 0);\r\n                this._selectedIndex = -1;\r\n                this._updated = true;\r\n                break;\r\n            case DataSource.UpdateMode.Append:\r\n                let lastIndex = this.getLastIndex();\r\n                let erasedCount = ds.getErasedCount();\r\n                if (lastIndex < oldMaxIndex) {\r\n                    if (erasedCount > 0) {\r\n                        this._firstIndex = Math.max(this._firstIndex - erasedCount, 0);\r\n                        if (this._selectedIndex >= 0) {\r\n                            this._selectedIndex -= erasedCount;\r\n                            this.validateSelectedIndex();\r\n                        }\r\n                        this._updated = true;\r\n                    }\r\n                } else if (lastIndex === oldMaxIndex) {\r\n                    this._firstIndex += (this._maxIndex - oldMaxIndex);\r\n                    if (this._selectedIndex >= 0) {\r\n                        this._selectedIndex -= erasedCount;\r\n                        this.validateSelectedIndex();\r\n                    }\r\n                    this._updated = true;\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    move(x) {\r\n        if (this.isLatestShown()) {\r\n            ChartManager.instance.getArea(this.getDataSourceName() + \".mainRange\").setChanged(true);\r\n        }\r\n        this._firstIndex = this.validateFirstIndex(\r\n            this._savedFirstIndex - this.calcColumnCount(x), this._maxItemCount);\r\n        this._updated = true;\r\n        if (this._selectedIndex >= 0)\r\n            this.validateSelectedIndex();\r\n    }\r\n\r\n    startMove() {\r\n        this._savedFirstIndex = this._firstIndex;\r\n    }\r\n\r\n    scale(s) {\r\n        this._scale += s;\r\n        if (this._scale < 0) {\r\n            this._scale = 0;\r\n        } else if (this._scale >= Timeline.itemWidth.length) {\r\n            this._scale = Timeline.itemWidth.length - 1;\r\n        }\r\n        this.updateMaxItemCount();\r\n        if (this._selectedIndex >= 0) {\r\n            this.validateSelectedIndex();\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/timeline.js","import * as areas from './areas'\r\nimport {ChartManager} from './chart_manager'\r\nimport * as themes from './themes'\r\nimport {ChartSettings} from './chart_settings'\r\n\r\nexport class TableLayout extends areas.ChartAreaGroup {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this._nextRowId = 0;\r\n        this._focusedRowIndex = -1;\r\n    }\r\n\r\n    getNextRowId() {\r\n        return this._nextRowId++;\r\n    }\r\n\r\n    measure(context, width, height) {\r\n        this.setMeasuredDimension(width, height);\r\n        let rowH, prevH = 0,\r\n            totalH = 0;\r\n        let h, rows;\r\n        let rh = [];\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i += 2) {\r\n            rowH = this._areas[i].getHeight();\r\n            if (rowH === 0) {\r\n                if (i === 0) {\r\n                    rows = (cnt + 1) >> 1;\r\n                    let n = (rows * 2) + 5;\r\n                    let nh = ((height / n) * 2) << 0;\r\n                    h = height;\r\n                    for (i = rows - 1; i > 0; i--) {\r\n                        rh.unshift(nh);\r\n                        h -= nh;\r\n                    }\r\n                    rh.unshift(h);\r\n                    break;\r\n                } else if (i === 2) {\r\n                    rowH = prevH / 3;\r\n                } else {\r\n                    rowH = prevH;\r\n                }\r\n            }\r\n            totalH += rowH;\r\n            prevH = rowH;\r\n            rh.push(rowH);\r\n        }\r\n        if (totalH > 0) {\r\n            let rate = height / totalH;\r\n            rows = (cnt + 1) >> 1;\r\n            h = height;\r\n            for (i = rows - 1; i > 0; i--) {\r\n                rh[i] *= rate;\r\n                h -= rh[i];\r\n            }\r\n            rh[0] = h;\r\n        }\r\n        let nw = 8;\r\n        // chart depths sidebar (深度图侧边栏宽度)\r\n        let minRW = 76;\r\n        let maxRW = Math.min(240, width >> 1);\r\n        let rw = minRW;\r\n        let mgr = ChartManager.instance;\r\n        let timeline = mgr.getTimeline(this.getDataSourceName());\r\n        if (timeline.getFirstIndex() >= 0) {\r\n            let firstIndexes = [];\r\n            for (rw = minRW; rw < maxRW; rw += nw) {\r\n                firstIndexes.push(timeline.calcFirstIndex(timeline.calcColumnCount(width - rw)));\r\n            }\r\n            let lastIndex = timeline.getLastIndex();\r\n            let dpNames = [\".main\", \".secondary\"];\r\n            let minmaxes = new Array(firstIndexes.length);\r\n            let iArea, iIndex;\r\n            for (iArea = 0, iIndex = 0, rw = minRW; iArea < this._areas.length && iIndex < firstIndexes.length; iArea += 2) {\r\n                let area = this._areas[iArea];\r\n                let plotter = mgr.getPlotter(area.getName() + \"Range.main\");\r\n                for (let iDp in dpNames) {\r\n                    let dp = mgr.getDataProvider(area.getName() + dpNames[iDp]);\r\n                    if (dp === undefined) {\r\n                        continue;\r\n                    }\r\n                    dp.calcRange(firstIndexes, lastIndex, minmaxes, null);\r\n                    while (iIndex < firstIndexes.length) {\r\n                        let minW = plotter.getRequiredWidth(context, minmaxes[iIndex].min);\r\n                        let maxW = plotter.getRequiredWidth(context, minmaxes[iIndex].max);\r\n                        if (Math.max(minW, maxW) < rw) {\r\n                            break;\r\n                        }\r\n                        iIndex++;\r\n                        rw += nw;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        for (i = 1; i < this._areas.length; i += 2) {\r\n            this._areas[i].measure(context, rw, rh[i >> 1]);\r\n        }\r\n        let lw = width - rw;\r\n        for (i = 0; i < this._areas.length; i += 2) {\r\n            this._areas[i].measure(context, lw, rh[i >> 1]);\r\n        }\r\n    }\r\n\r\n    layout(left, top, right, bottom, forceChange) {\r\n        super.layout(left, top, right, bottom, forceChange);\r\n        if (this._areas.length < 1)\r\n            return;\r\n        let area;\r\n        let center = left + this._areas[0].getMeasuredWidth();\r\n        let t = top,\r\n            b;\r\n        if (!forceChange)\r\n            forceChange = this.isChanged();\r\n        let i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            area = this._areas[i];\r\n            b = t + area.getMeasuredHeight();\r\n            area.layout(left, t, center, b, forceChange);\r\n            i++;\r\n            area = this._areas[i];\r\n            area.layout(center, t, this.getRight(), b, forceChange);\r\n            t = b;\r\n        }\r\n        this.setChanged(false);\r\n    }\r\n\r\n    drawGrid(context) {\r\n        if (this._areas.length < 1) {\r\n            return;\r\n        }\r\n        let mgr = ChartManager.instance;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        context.fillStyle = theme.getColor(themes.Theme.Color.Grid1);\r\n        context.fillRect(this._areas[0].getRight(), this.getTop(), 1, this.getHeight());\r\n        let i, cnt = this._areas.length - 2;\r\n        for (i = 0; i < cnt; i += 2)\r\n            context.fillRect(this.getLeft(), this._areas[i].getBottom(), this.getWidth(), 1);\r\n        if (!mgr.getCaptureMouseWheelDirectly()) {\r\n            for (i = 0, cnt += 2; i < cnt; i += 2) {\r\n                if (this._areas[i].isSelected()) {\r\n                    context.strokeStyle = theme.getColor(themes.Theme.Color.Indicator1);\r\n                    context.strokeRect(\r\n                        this.getLeft() + 0.5, this.getTop() + 0.5,\r\n                        this.getWidth() - 1, this.getHeight() - 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    highlight(area) {\r\n        this._highlightedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i];\r\n            if (e === area) {\r\n                i &= ~1;\r\n                e = this._areas[i];\r\n                e.highlight(e);\r\n                this._highlightedArea = e;\r\n                i++;\r\n                e = this._areas[i];\r\n                e.highlight(null);\r\n                e.highlight(e);\r\n            } else {\r\n                e.highlight(null);\r\n            }\r\n        }\r\n        return this._highlightedArea !== null ? this : null;\r\n    }\r\n\r\n    select(area) {\r\n        this._selectedArea = null;\r\n        let e, i, cnt = this._areas.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            e = this._areas[i];\r\n            if (e === area) {\r\n                i &= ~1;\r\n                e = this._areas[i];\r\n                e.select(e);\r\n                this._selectedArea = e;\r\n                i++;\r\n                e = this._areas[i];\r\n                e.select(e);\r\n            } else {\r\n                e.select(null);\r\n            }\r\n        }\r\n        return this._selectedArea !== null ? this : null;\r\n    }\r\n\r\n    onMouseMove(x, y) {\r\n        if (this._focusedRowIndex >= 0) {\r\n            let upper = this._areas[this._focusedRowIndex];\r\n            let lower = this._areas[this._focusedRowIndex + 2];\r\n            let d = y - this._oldY;\r\n            if (d === 0)\r\n                return this;\r\n            let upperBottom = this._oldUpperBottom + d;\r\n            let lowerTop = this._oldLowerTop + d;\r\n            if (upperBottom - upper.getTop() >= 60 && lower.getBottom() - lowerTop >= 60) {\r\n                upper.setBottom(upperBottom);\r\n                lower.setTop(lowerTop);\r\n            }\r\n            return this;\r\n        }\r\n        let i, cnt = this._areas.length - 2;\r\n        for (i = 0; i < cnt; i += 2) {\r\n            let b = this._areas[i].getBottom();\r\n            if (y >= b - 4 && y < b + 4) {\r\n                ChartManager.instance.showCursor('n-resize');\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onMouseLeave(x, y) {\r\n        this._focusedRowIndex = -1;\r\n    }\r\n\r\n    onMouseDown(x, y) {\r\n        let i, cnt = this._areas.length - 2;\r\n        for (i = 0; i < cnt; i += 2) {\r\n            let b = this._areas[i].getBottom();\r\n            if (y >= b - 4 && y < b + 4) {\r\n                this._focusedRowIndex = i;\r\n                this._oldY = y;\r\n                this._oldUpperBottom = b;\r\n                this._oldLowerTop = this._areas[i + 2].getTop();\r\n                return this;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    onMouseUp(x, y) {\r\n        if (this._focusedRowIndex >= 0) {\r\n            this._focusedRowIndex = -1;\r\n            let i, cnt = this._areas.length;\r\n            let height = [];\r\n            for (i = 0; i < cnt; i += 2) {\r\n                height.push(this._areas[i].getHeight());\r\n            }\r\n            ChartSettings.get().charts.areaHeight = height;\r\n            ChartSettings.save();\r\n        }\r\n        return this;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DockableLayout extends areas.ChartAreaGroup {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n    }\r\n\r\n    measure(context, width, height) {\r\n        super.measure(context, width, height);\r\n        width = this.getMeasuredWidth();\r\n        height = this.getMeasuredHeight();\r\n        for (let i in this._areas) {\r\n            let area = this._areas[i];\r\n            area.measure(context, width, height);\r\n            switch (area.getDockStyle()) {\r\n                case areas.ChartArea.DockStyle.left:\r\n                case areas.ChartArea.DockStyle.Right:\r\n                    width -= area.getMeasuredWidth();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Top:\r\n                case areas.ChartArea.DockStyle.Bottom:\r\n                    height -= area.getMeasuredHeight();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Fill:\r\n                    width = 0;\r\n                    height = 0;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n    layout(left, top, right, bottom, forceChange) {\r\n        super.layout(left, top, right, bottom, forceChange);\r\n        left = this.getLeft();\r\n        top = this.getTop();\r\n        right = this.getRight();\r\n        bottom = this.getBottom();\r\n        let w, h;\r\n        if (!forceChange) {\r\n            forceChange = this.isChanged();\r\n        }\r\n        for (let i in this._areas) {\r\n            let area = this._areas[i];\r\n            switch (area.getDockStyle()) {\r\n                case areas.ChartArea.DockStyle.left:\r\n                    w = area.getMeasuredWidth();\r\n                    area.layout(left, top, left + w, bottom, forceChange);\r\n                    left += w;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Top:\r\n                    h = area.getMeasuredHeight();\r\n                    area.layout(left, top, right, top + h, forceChange);\r\n                    top += h;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Right:\r\n                    w = area.getMeasuredWidth();\r\n                    area.layout(right - w, top, right, bottom, forceChange);\r\n                    right -= w;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Bottom:\r\n                    h = area.getMeasuredHeight();\r\n                    area.layout(left, bottom - h, right, bottom, forceChange);\r\n                    bottom -= h;\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Fill:\r\n                    area.layout(left, top, right, bottom, forceChange);\r\n                    left = right;\r\n                    top = bottom;\r\n                    break;\r\n            }\r\n        }\r\n        this.setChanged(false);\r\n    }\r\n\r\n    drawGrid(context) {\r\n        let mgr = ChartManager.instance;\r\n        let theme = mgr.getTheme(this.getFrameName());\r\n        let left = this.getLeft();\r\n        let top = this.getTop();\r\n        let right = this.getRight();\r\n        let bottom = this.getBottom();\r\n        context.fillStyle = theme.getColor(this._gridColor);\r\n        for (let i in this._areas) {\r\n            let area = this._areas[i];\r\n            switch (area.getDockStyle()) {\r\n                case areas.ChartArea.DockStyle.Left:\r\n                    context.fillRect(area.getRight(), top, 1, bottom - top);\r\n                    left += area.getWidth();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Top:\r\n                    context.fillRect(left, area.getBottom(), right - left, 1);\r\n                    top += area.getHeight();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Right:\r\n                    context.fillRect(area.getLeft(), top, 1, bottom - top);\r\n                    right -= area.getWidth();\r\n                    break;\r\n                case areas.ChartArea.DockStyle.Bottom:\r\n                    context.fillRect(left, area.getTop(), right - left, 1);\r\n                    bottom -= area.getHeight();\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/layouts.js","import {ChartManager} from './chart_manager'\r\nimport {Control} from './control'\r\nimport Kline from './kline'\r\nimport {Template} from './templates'\r\n\r\nexport class Chart {\r\n\r\n    static strPeriod = {\r\n        'zh-cn': {\r\n            'line': '(分时)',\r\n            '1min': '(1分钟)',\r\n            '5min': '(5分钟)',\r\n            '15min': '(15分钟)',\r\n            '30min': '(30分钟)',\r\n            '1hour': '(1小时)',\r\n            '1day': '(日线)',\r\n            '1week': '(周线)',\r\n            '3min': '(3分钟)',\r\n            '2hour': '(2小时)',\r\n            '4hour': '(4小时)',\r\n            '6hour': '(6小时)',\r\n            '12hour': '(12小时)',\r\n            '3day': '(3天)'\r\n        },\r\n        'en-us': {\r\n            'line': '(Line)',\r\n            '1min': '(1m)',\r\n            '5min': '(5m)',\r\n            '15min': '(15m)',\r\n            '30min': '(30m)',\r\n            '1hour': '(1h)',\r\n            '1day': '(1d)',\r\n            '1week': '(1w)',\r\n            '3min': '(3m)',\r\n            '2hour': '(2h)',\r\n            '4hour': '(4h)',\r\n            '6hour': '(6h)',\r\n            '12hour': '(12h)',\r\n            '3day': '(3d)'\r\n        },\r\n        'zh-tw': {\r\n            'line': '(分時)',\r\n            '1min': '(1分鐘)',\r\n            '5min': '(5分鐘)',\r\n            '15min': '(15分鐘)',\r\n            '30min': '(30分鐘)',\r\n            '1hour': '(1小時)',\r\n            '1day': '(日線)',\r\n            '1week': '(周線)',\r\n            '3min': '(3分鐘)',\r\n            '2hour': '(2小時)',\r\n            '4hour': '(4小時)',\r\n            '6hour': '(6小時)',\r\n            '12hour': '(12小時)',\r\n            '3day': '(3天)'\r\n        }\r\n    };\r\n\r\n    constructor() {\r\n        this._data = null;\r\n        this._charStyle = \"CandleStick\";\r\n        this._depthData = {\r\n            array: null,\r\n            asks_count: 0,\r\n            bids_count: 0,\r\n            asks_si: 0,\r\n            asks_ei: 0,\r\n            bids_si: 0,\r\n            bids_ei: 0\r\n        };\r\n        this.strIsLine = false;\r\n        this._range = Kline.instance.range;\r\n        this._symbol = Kline.instance.symbol;\r\n    }\r\n\r\n    setTitle() {\r\n        let lang = ChartManager.instance.getLanguage();\r\n        let title = Kline.instance.symbolName;\r\n        title += ' ';\r\n        title += this.strIsLine ? Chart.strPeriod[lang]['line'] : Chart.strPeriod[lang][this._range];\r\n        title += (this._contract_unit + '/' + this._money_type).toUpperCase();\r\n        ChartManager.instance.setTitle('frame0.k0', title);\r\n    }\r\n\r\n\r\n    setSymbol(symbol) {\r\n        this._symbol = symbol;\r\n        this.updateDataAndDisplay();\r\n    }\r\n\r\n    updateDataAndDisplay() {\r\n        Kline.instance.symbol = this._symbol;\r\n        Kline.instance.range = this._range;\r\n        ChartManager.instance.setCurrentDataSource('frame0.k0', this._symbol + '.' + this._range);\r\n        ChartManager.instance.setNormalMode();\r\n        let f = Kline.instance.chartMgr.getDataSource(\"frame0.k0\").getLastDate();\r\n\r\n        $('.symbol-title>a').text(Kline.instance.symbolName);\r\n\r\n        if (f === -1) {\r\n            Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, Kline.instance.limit, null);\r\n            Control.requestData(true);\r\n        } else {\r\n            Kline.instance.requestParam = Control.setHttpRequestParam(Kline.instance.symbol, Kline.instance.range, null, f.toString());\r\n            Control.requestData();\r\n        }\r\n        ChartManager.instance.redraw('All', false);\r\n    }\r\n\r\n\r\n    setCurrentContractUnit(contractUnit) {\r\n        this._contract_unit = contractUnit;\r\n        this.updateDataAndDisplay();\r\n    }\r\n\r\n    setCurrentMoneyType(moneyType) {\r\n        this._money_type = moneyType;\r\n        this.updateDataAndDisplay();\r\n    }\r\n\r\n    setCurrentPeriod(period) {\r\n        this._range = Kline.instance.periodMap[period];\r\n        if (Kline.instance.type === \"stomp\" && Kline.instance.stompClient.ws.readyState === 1) {\r\n            Kline.instance.subscribed.unsubscribe();\r\n            Kline.instance.subscribed = Kline.instance.stompClient.subscribe(Kline.instance.subscribePath + '/' + Kline.instance.symbol + '/' + this._range, Control.subscribeCallback);\r\n        }\r\n        this.updateDataAndDisplay();\r\n        Kline.instance.onRangeChange(this._range);\r\n    }\r\n\r\n    updateDataSource(data) {\r\n        this._data = data;\r\n        ChartManager.instance.updateData(\"frame0.k0\", this._data);\r\n    }\r\n\r\n    updateDepth(array) {\r\n        if (array === null) {\r\n            this._depthData.array = [];\r\n            ChartManager.instance.redraw('All', false);\r\n            return;\r\n        }\r\n        if (!array.asks || !array.bids || array.asks === '' || array.bids === '')\r\n            return;\r\n        let _data = this._depthData;\r\n        _data.array = [];\r\n        for (let i = 0; i < array.asks.length; i++) {\r\n            let data = {};\r\n            data.rate = array.asks[i][0];\r\n            data.amount = array.asks[i][1];\r\n            _data.array.push(data);\r\n        }\r\n        for (let i = 0; i < array.bids.length; i++) {\r\n            let data = {};\r\n            data.rate = array.bids[i][0];\r\n            data.amount = array.bids[i][1];\r\n            _data.array.push(data);\r\n        }\r\n        _data.asks_count = array.asks.length;\r\n        _data.bids_count = array.bids.length;\r\n        _data.asks_si = _data.asks_count - 1;\r\n        _data.asks_ei = 0;\r\n        _data.bids_si = _data.asks_count - 1;\r\n        _data.bids_ei = _data.asks_count + _data.bids_count - 2;\r\n        for (let i = _data.asks_si; i >= _data.asks_ei; i--) {\r\n            if (i === _data.asks_si && _data.array[i] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i].amount;\r\n            } else if(_data.array[i + 1] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i + 1].amounts + _data.array[i].amount;\r\n            }\r\n        }\r\n        for (let i = _data.bids_si; i <= _data.bids_ei; i++) {\r\n            if (i === _data.bids_si && _data.array[i] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i].amount;\r\n            } else if (_data.array[i - 1] !== undefined) {\r\n                _data.array[i].amounts = _data.array[i - 1].amounts + _data.array[i].amount;\r\n            }\r\n        }\r\n        ChartManager.instance.redraw('All', false);\r\n    }\r\n\r\n    setMainIndicator(indicName) {\r\n        this._mainIndicator = indicName;\r\n        if (indicName === 'NONE') {\r\n            ChartManager.instance.removeMainIndicator('frame0.k0');\r\n        } else {\r\n            ChartManager.instance.setMainIndicator('frame0.k0', indicName);\r\n        }\r\n        ChartManager.instance.redraw('All', true);\r\n    }\r\n\r\n    setIndicator(index, indicName) {\r\n        if (indicName === 'NONE') {\r\n            let index = 2;\r\n            if (Template.displayVolume === false)\r\n                index = 1;\r\n            let areaName = ChartManager.instance.getIndicatorAreaName('frame0.k0', index);\r\n            if (areaName !== '')\r\n                ChartManager.instance.removeIndicator(areaName);\r\n        } else {\r\n            let index = 2;\r\n            if (Template.displayVolume === false)\r\n                index = 1;\r\n            let areaName = ChartManager.instance.getIndicatorAreaName('frame0.k0', index);\r\n            if (areaName === '') {\r\n                Template.createIndicatorChartComps('frame0.k0', indicName);\r\n            } else {\r\n                ChartManager.instance.setIndicator(areaName, indicName);\r\n            }\r\n        }\r\n        ChartManager.instance.redraw('All', true);\r\n    }\r\n\r\n    addIndicator(indicName) {\r\n        ChartManager.instance.addIndicator(indicName);\r\n        ChartManager.instance.redraw('All', true);\r\n    }\r\n\r\n    removeIndicator(indicName) {\r\n        let areaName = ChartManager.instance.getIndicatorAreaName(2);\r\n        ChartManager.instance.removeIndicator(areaName);\r\n        ChartManager.instance.redraw('All', true);\r\n    };\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/chart.js","import * as exprs from \"./exprs\";\r\nimport * as themes from \"./themes\";\r\n\r\nexport class Indicator {\r\n\r\n    constructor() {\r\n        this._exprEnv = new exprs.ExprEnv();\r\n        this._rid = 0;\r\n        this._params = [];\r\n        this._assigns = [];\r\n        this._outputs = [];\r\n    }\r\n\r\n    addParameter(expr) {\r\n        this._params.push(expr);\r\n    }\r\n\r\n    addAssign(expr) {\r\n        this._assigns.push(expr);\r\n    }\r\n\r\n    addOutput(expr) {\r\n        this._outputs.push(expr);\r\n    }\r\n\r\n    getParameterCount() {\r\n        return this._params.length;\r\n    }\r\n\r\n    getParameterAt(index) {\r\n        return this._params[index];\r\n    }\r\n\r\n    getOutputCount() {\r\n        return this._outputs.length;\r\n    }\r\n\r\n    getOutputAt(index) {\r\n        return this._outputs[index];\r\n    }\r\n\r\n    clear() {\r\n        this._exprEnv.setFirstIndex(-1);\r\n        let i, cnt;\r\n        cnt = this._assigns.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._assigns[i].clear();\r\n        }\r\n        cnt = this._outputs.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._outputs[i].clear();\r\n        }\r\n    }\r\n\r\n    reserve(count) {\r\n        this._rid++;\r\n        let i, cnt;\r\n        cnt = this._assigns.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._assigns[i].reserve(this._rid, count);\r\n        }\r\n        cnt = this._outputs.length;\r\n        for (i = 0; i < cnt; i++) {\r\n            this._outputs[i].reserve(this._rid, count);\r\n        }\r\n    }\r\n\r\n    execute(ds, index) {\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        this._exprEnv.setDataSource(ds);\r\n        exprs.ExprEnv.set(this._exprEnv);\r\n        try {\r\n            let i, cnt;\r\n            cnt = this._assigns.length;\r\n            for (i = 0; i < cnt; i++) {\r\n                this._assigns[i].assign(index);\r\n            }\r\n            cnt = this._outputs.length;\r\n            for (i = 0; i < cnt; i++) {\r\n                this._outputs[i].assign(index);\r\n            }\r\n            if (this._exprEnv.getFirstIndex() < 0) {\r\n                this._exprEnv.setFirstIndex(index);\r\n            }\r\n        } catch (e) {\r\n            if (this._exprEnv.getFirstIndex() >= 0) {\r\n                alert(e);\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n    getParameters() {\r\n        let params = [];\r\n        let i, cnt = this._params.length;\r\n        for (i = 0; i < cnt; i++)\r\n            params.push(this._params[i].getValue());\r\n        return params;\r\n    }\r\n\r\n    setParameters(params) {\r\n        if ((params instanceof Array) && params.length === this._params.length) {\r\n            for (let i in this._params)\r\n                this._params[i].setValue(params[i]);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class HLCIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 1000, 60);\r\n        this.addParameter(M1);\r\n        this.addOutput(new exprs.OutputExpr(\"HIGH\",\r\n            new exprs.HighExpr(),\r\n            exprs.OutputExpr.outputStyle.None\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"LOW\",\r\n            new exprs.LowExpr(),\r\n            exprs.OutputExpr.outputStyle.None\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"CLOSE\",\r\n            new exprs.CloseExpr(),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator0\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M1),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator1\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"CLOSE\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MAIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 1000, 7);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 1000, 30);\r\n        let M3 = new exprs.ParameterExpr(\"M3\", 2, 1000, 0);\r\n        let M4 = new exprs.ParameterExpr(\"M4\", 2, 1000, 0);\r\n        let M5 = new exprs.ParameterExpr(\"M5\", 2, 1000, 0);\r\n        let M6 = new exprs.ParameterExpr(\"M6\", 2, 1000, 0);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        this.addParameter(M3);\r\n        this.addParameter(M4);\r\n        this.addParameter(M5);\r\n        this.addParameter(M6);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M1)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M2)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M3)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M4)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M5)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), M6)\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"MA\";\r\n    }\r\n}\r\n\r\n\r\nexport class EMAIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 1000, 7);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 1000, 30);\r\n        let M3 = new exprs.ParameterExpr(\"M3\", 2, 1000, 0);\r\n        let M4 = new exprs.ParameterExpr(\"M4\", 2, 1000, 0);\r\n        let M5 = new exprs.ParameterExpr(\"M5\", 2, 1000, 0);\r\n        let M6 = new exprs.ParameterExpr(\"M6\", 2, 1000, 0);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        this.addParameter(M3);\r\n        this.addParameter(M4);\r\n        this.addParameter(M5);\r\n        this.addParameter(M6);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M1)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M2)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M3)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M4)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M5)\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"EMA\",\r\n            new exprs.EmaExpr(new exprs.CloseExpr(), M6)\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"EMA\";\r\n    }\r\n}\r\n\r\n\r\nexport class VOLUMEIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 500, 5);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 500, 10);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        let VOLUME = new exprs.OutputExpr(\"VOLUME\",\r\n            new exprs.VolumeExpr(),\r\n            exprs.OutputExpr.outputStyle.VolumeStick,\r\n            themes.Theme.Color.Text4\r\n        );\r\n        this.addOutput(VOLUME);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(VOLUME, M1),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator0\r\n        ));\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(VOLUME, M2),\r\n            exprs.OutputExpr.outputStyle.Line,\r\n            themes.Theme.Color.Indicator1\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"VOLUME\";\r\n    }\r\n}\r\n\r\n\r\nexport class MACDIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let SHORT = new exprs.ParameterExpr(\"SHORT\", 2, 200, 12);\r\n        let LONG = new exprs.ParameterExpr(\"LONG\", 2, 200, 26);\r\n        let MID = new exprs.ParameterExpr(\"MID\", 2, 200, 9);\r\n        this.addParameter(SHORT);\r\n        this.addParameter(LONG);\r\n        this.addParameter(MID);\r\n        let DIF = new exprs.OutputExpr(\"DIF\",\r\n            new exprs.SubExpr(\r\n                new exprs.EmaExpr(new exprs.CloseExpr(), SHORT),\r\n                new exprs.EmaExpr(new exprs.CloseExpr(), LONG)\r\n            )\r\n        );\r\n        this.addOutput(DIF);\r\n        let DEA = new exprs.OutputExpr(\"DEA\",\r\n            new exprs.EmaExpr(DIF, MID)\r\n        );\r\n        this.addOutput(DEA);\r\n        let MACD = new exprs.OutputExpr(\"MACD\",\r\n            new exprs.MulExpr(\r\n                new exprs.SubExpr(DIF, DEA),\r\n                new exprs.ConstExpr(2)\r\n            ),\r\n            exprs.OutputExpr.outputStyle.MACDStick\r\n        );\r\n        this.addOutput(MACD);\r\n    }\r\n\r\n    getName() {\r\n        return \"MACD\";\r\n    }\r\n}\r\n\r\n\r\nexport class DMIIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 90, 14);\r\n        let MM = new exprs.ParameterExpr(\"MM\", 2, 60, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(MM);\r\n        let MTR = new exprs.AssignExpr(\"MTR\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.MaxExpr(\r\n                    new exprs.MaxExpr(\r\n                        new exprs.SubExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                        new exprs.AbsExpr(\r\n                            new exprs.SubExpr(\r\n                                new exprs.HighExpr(),\r\n                                new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n                            )\r\n                        )\r\n                    ),\r\n                    new exprs.AbsExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1)),\r\n                            new exprs.LowExpr()\r\n                        )\r\n                    )\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(MTR);\r\n        let HD = new exprs.AssignExpr(\"HD\",\r\n            new exprs.SubExpr(\r\n                new exprs.HighExpr(),\r\n                new exprs.RefExpr(new exprs.HighExpr(), new exprs.ConstExpr(1))\r\n            )\r\n        );\r\n        this.addAssign(HD);\r\n        let LD = new exprs.AssignExpr(\"LD\",\r\n            new exprs.SubExpr(\r\n                new exprs.RefExpr(new exprs.LowExpr(), new exprs.ConstExpr(1)),\r\n                new exprs.LowExpr()\r\n            )\r\n        );\r\n        this.addAssign(LD);\r\n        let DMP = new exprs.AssignExpr(\"DMP\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.AndExpr(\r\n                        new exprs.GtExpr(HD, new exprs.ConstExpr(0)),\r\n                        new exprs.GtExpr(HD, LD)\r\n                    ),\r\n                    HD,\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(DMP);\r\n        let DMM = new exprs.AssignExpr(\"DMM\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.AndExpr(\r\n                        new exprs.GtExpr(LD, new exprs.ConstExpr(0)),\r\n                        new exprs.GtExpr(LD, HD)\r\n                    ),\r\n                    LD,\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(DMM);\r\n        let PDI = new exprs.OutputExpr(\"PDI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(DMP, MTR),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(PDI);\r\n        let MDI = new exprs.OutputExpr(\"MDI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(DMM, MTR),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(MDI);\r\n        let ADX = new exprs.OutputExpr(\"ADX\",\r\n            new exprs.ExpmemaExpr(\r\n                new exprs.MulExpr(\r\n                    new exprs.DivExpr(\r\n                        new exprs.AbsExpr(\r\n                            new exprs.SubExpr(MDI, PDI)\r\n                        ),\r\n                        new exprs.AddExpr(MDI, PDI)\r\n                    ),\r\n                    new exprs.ConstExpr(100)\r\n                ),\r\n                MM\r\n            )\r\n        );\r\n        this.addOutput(ADX);\r\n        let ADXR = new exprs.OutputExpr(\"ADXR\",\r\n            new exprs.ExpmemaExpr(ADX, MM)\r\n        );\r\n        this.addOutput(ADXR);\r\n    }\r\n\r\n    getName() {\r\n        return \"DMI\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class DMAIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N1 = new exprs.ParameterExpr(\"N1\", 2, 60, 10);\r\n        let N2 = new exprs.ParameterExpr(\"N2\", 2, 250, 50);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 10);\r\n        this.addParameter(N1);\r\n        this.addParameter(N2);\r\n        this.addParameter(M);\r\n        let DIF = new exprs.OutputExpr(\"DIF\",\r\n            new exprs.SubExpr(\r\n                new exprs.MaExpr(new exprs.CloseExpr(), N1),\r\n                new exprs.MaExpr(new exprs.CloseExpr(), N2)\r\n            )\r\n        );\r\n        this.addOutput(DIF);\r\n        let DIFMA = new exprs.OutputExpr(\"DIFMA\",\r\n            new exprs.MaExpr(DIF, M)\r\n        );\r\n        this.addOutput(DIFMA);\r\n    }\r\n\r\n    getName() {\r\n        return \"DMA\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class TRIXIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 9);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let MTR = new exprs.AssignExpr(\"MTR\",\r\n            new exprs.EmaExpr(\r\n                new exprs.EmaExpr(\r\n                    new exprs.EmaExpr(new exprs.CloseExpr(), N), N), N)\r\n        );\r\n        this.addAssign(MTR);\r\n        let TRIX = new exprs.OutputExpr(\"TRIX\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        MTR,\r\n                        new exprs.RefExpr(\r\n                            MTR,\r\n                            new exprs.ConstExpr(1)\r\n                        )\r\n                    ),\r\n                    new exprs.RefExpr(\r\n                        MTR,\r\n                        new exprs.ConstExpr(1)\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(TRIX);\r\n        let MATRIX = new exprs.OutputExpr(\"MATRIX\",\r\n            new exprs.MaExpr(TRIX, M)\r\n        );\r\n        this.addOutput(MATRIX);\r\n    }\r\n\r\n    getName() {\r\n        return \"TRIX\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BRARIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 26);\r\n        this.addParameter(N);\r\n        let REF_CLOSE_1 = new exprs.AssignExpr(\"REF_CLOSE_1\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(REF_CLOSE_1);\r\n        let BR = new exprs.OutputExpr(\"BR\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SumExpr(\r\n                        new exprs.MaxExpr(\r\n                            new exprs.ConstExpr(0),\r\n                            new exprs.SubExpr(\r\n                                new exprs.HighExpr(),\r\n                                REF_CLOSE_1\r\n                            )\r\n                        ),\r\n                        N\r\n                    ),\r\n                    new exprs.SumExpr(\r\n                        new exprs.MaxExpr(\r\n                            new exprs.ConstExpr(0),\r\n                            new exprs.SubExpr(\r\n                                REF_CLOSE_1,\r\n                                new exprs.LowExpr()\r\n                            )\r\n                        ),\r\n                        N\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(BR);\r\n        let AR = new exprs.OutputExpr(\"AR\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SumExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.HighExpr(),\r\n                            new exprs.OpenExpr()\r\n                        ),\r\n                        N\r\n                    ),\r\n                    new exprs.SumExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.OpenExpr(),\r\n                            new exprs.LowExpr()\r\n                        ),\r\n                        N\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(AR);\r\n    }\r\n\r\n    getName() {\r\n        return \"BRAR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class VRIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 26);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let REF_CLOSE_1 = new exprs.AssignExpr(\"REF_CLOSE_1\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(REF_CLOSE_1);\r\n        let TH = new exprs.AssignExpr(\"TH\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.GtExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_1\r\n                    ),\r\n                    new exprs.VolumeExpr(),\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(TH);\r\n        let TL = new exprs.AssignExpr(\"TL\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.LtExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_1\r\n                    ),\r\n                    new exprs.VolumeExpr(),\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(TL);\r\n        let TQ = new exprs.AssignExpr(\"TQ\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.EqExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_1\r\n                    ),\r\n                    new exprs.VolumeExpr(),\r\n                    new exprs.ConstExpr(0)\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addAssign(TQ);\r\n        let VR = new exprs.OutputExpr(\"VR\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.AddExpr(\r\n                        new exprs.MulExpr(\r\n                            TH,\r\n                            new exprs.ConstExpr(2)\r\n                        ),\r\n                        TQ\r\n                    ),\r\n                    new exprs.AddExpr(\r\n                        new exprs.MulExpr(\r\n                            TL,\r\n                            new exprs.ConstExpr(2)\r\n                        ),\r\n                        TQ\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(VR);\r\n        let MAVR = new exprs.OutputExpr(\"MAVR\",\r\n            new exprs.MaExpr(VR, M)\r\n        );\r\n        this.addOutput(MAVR);\r\n    }\r\n\r\n    getName() {\r\n        return \"VR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class OBVIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 30);\r\n        this.addParameter(M);\r\n        let REF_CLOSE_1 = new exprs.AssignExpr(\"REF_CLOSE_1\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(REF_CLOSE_1);\r\n        let VA = new exprs.AssignExpr(\"VA\",\r\n            new exprs.IfExpr(\r\n                new exprs.GtExpr(new exprs.CloseExpr(), REF_CLOSE_1),\r\n                new exprs.VolumeExpr(),\r\n                new exprs.NegExpr(new exprs.VolumeExpr())\r\n            )\r\n        );\r\n        this.addAssign(VA);\r\n        let OBV = new exprs.OutputExpr(\"OBV\",\r\n            new exprs.SumExpr(\r\n                new exprs.IfExpr(\r\n                    new exprs.EqExpr(new exprs.CloseExpr(), REF_CLOSE_1),\r\n                    new exprs.ConstExpr(0),\r\n                    VA\r\n                ),\r\n                new exprs.ConstExpr(0)\r\n            )\r\n        );\r\n        this.addOutput(OBV);\r\n        let MAOBV = new exprs.OutputExpr(\"MAOBV\",\r\n            new exprs.MaExpr(OBV, M)\r\n        );\r\n        this.addOutput(MAOBV);\r\n    }\r\n\r\n    getName() {\r\n        return \"OBV\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class EMVIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 90, 14);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 60, 9);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let VOLUME = new exprs.AssignExpr(\"VOLUME\",\r\n            new exprs.DivExpr(\r\n                new exprs.MaExpr(new exprs.VolumeExpr(), N),\r\n                new exprs.VolumeExpr()\r\n            )\r\n        );\r\n        this.addAssign(VOLUME);\r\n        let MID = new exprs.AssignExpr(\"MID\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        new exprs.AddExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                        new exprs.RefExpr(\r\n                            new exprs.AddExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                            new exprs.ConstExpr(1)\r\n                        )\r\n                    ),\r\n                    new exprs.AddExpr(new exprs.HighExpr(), new exprs.LowExpr())\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addAssign(MID);\r\n        let EMV = new exprs.OutputExpr(\"EMV\",\r\n            new exprs.MaExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.MulExpr(\r\n                        MID,\r\n                        new exprs.MulExpr(\r\n                            VOLUME,\r\n                            new exprs.SubExpr(new exprs.HighExpr(), new exprs.LowExpr())\r\n                        )\r\n                    ),\r\n                    new exprs.MaExpr(\r\n                        new exprs.SubExpr(new exprs.HighExpr(), new exprs.LowExpr()),\r\n                        N\r\n                    )\r\n                ),\r\n                N\r\n            )\r\n        );\r\n        this.addOutput(EMV);\r\n        let MAEMV = new exprs.OutputExpr(\"MAEMV\",\r\n            new exprs.MaExpr(EMV, M)\r\n        );\r\n        this.addOutput(MAEMV);\r\n    }\r\n\r\n    getName() {\r\n        return \"EMV\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class RSIIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N1 = new exprs.ParameterExpr(\"N1\", 2, 120, 6);\r\n        let N2 = new exprs.ParameterExpr(\"N2\", 2, 250, 12);\r\n        let N3 = new exprs.ParameterExpr(\"N3\", 2, 500, 24);\r\n        this.addParameter(N1);\r\n        this.addParameter(N2);\r\n        this.addParameter(N3);\r\n        let LC = new exprs.AssignExpr(\"LC\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(LC);\r\n        let CLOSE_LC = new exprs.AssignExpr(\"CLOSE_LC\",\r\n            new exprs.SubExpr(new exprs.CloseExpr(), LC)\r\n        );\r\n        this.addAssign(CLOSE_LC);\r\n        this.addOutput(new exprs.OutputExpr(\"RSI1\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N1, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N1, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"RSI2\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N2, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N2, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        ));\r\n        this.addOutput(new exprs.OutputExpr(\"RSI3\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N3, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N3, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"RSI\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class WRIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 10);\r\n        let N1 = new exprs.ParameterExpr(\"N1\", 2, 100, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(N1);\r\n        let HHV = new exprs.AssignExpr(\"HHV\",\r\n            new exprs.HhvExpr(new exprs.HighExpr(), N)\r\n        );\r\n        this.addAssign(HHV);\r\n        let HHV1 = new exprs.AssignExpr(\"HHV1\",\r\n            new exprs.HhvExpr(new exprs.HighExpr(), N1)\r\n        );\r\n        this.addAssign(HHV1);\r\n        let LLV = new exprs.AssignExpr(\"LLV\",\r\n            new exprs.LlvExpr(new exprs.LowExpr(), N)\r\n        );\r\n        this.addAssign(LLV);\r\n        let LLV1 = new exprs.AssignExpr(\"LLV1\",\r\n            new exprs.LlvExpr(new exprs.LowExpr(), N1)\r\n        );\r\n        this.addAssign(LLV1);\r\n        let WR1 = new exprs.OutputExpr(\"WR1\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        HHV,\r\n                        new exprs.CloseExpr()\r\n                    ),\r\n                    new exprs.SubExpr(\r\n                        HHV,\r\n                        LLV\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(WR1);\r\n        let WR2 = new exprs.OutputExpr(\"WR2\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        HHV1,\r\n                        new exprs.CloseExpr()\r\n                    ),\r\n                    new exprs.SubExpr(\r\n                        HHV1,\r\n                        LLV1\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(WR2);\r\n    }\r\n\r\n    getName() {\r\n        return \"WR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class SARIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ConstExpr(4);\r\n        let MIN = new exprs.ConstExpr(2);\r\n        let STEP = new exprs.ConstExpr(2);\r\n        let MAX = new exprs.ConstExpr(20);\r\n        this.addOutput(new exprs.OutputExpr(\"SAR\",\r\n            new exprs.SarExpr(N, MIN, STEP, MAX),\r\n            exprs.OutputExpr.outputStyle.SARPoint\r\n        ));\r\n    }\r\n\r\n    getName() {\r\n        return \"SAR\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class KDJIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 90, 9);\r\n        let M1 = new exprs.ParameterExpr(\"M1\", 2, 30, 3);\r\n        let M2 = new exprs.ParameterExpr(\"M2\", 2, 30, 3);\r\n        this.addParameter(N);\r\n        this.addParameter(M1);\r\n        this.addParameter(M2);\r\n        let HHV = new exprs.AssignExpr(\"HHV\",\r\n            new exprs.HhvExpr(new exprs.HighExpr(), N)\r\n        );\r\n        this.addAssign(HHV);\r\n        let LLV = new exprs.AssignExpr(\"LLV\",\r\n            new exprs.LlvExpr(new exprs.LowExpr(), N)\r\n        );\r\n        this.addAssign(LLV);\r\n        let RSV = new exprs.AssignExpr(\"RSV\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        new exprs.CloseExpr(),\r\n                        LLV\r\n                    ),\r\n                    new exprs.SubExpr(\r\n                        HHV,\r\n                        LLV\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addAssign(RSV);\r\n        let K = new exprs.OutputExpr(\"K\",\r\n            new exprs.SmaExpr(RSV, M1, new exprs.ConstExpr(1))\r\n        );\r\n        this.addOutput(K);\r\n        let D = new exprs.OutputExpr(\"D\",\r\n            new exprs.SmaExpr(K, M2, new exprs.ConstExpr(1))\r\n        );\r\n        this.addOutput(D);\r\n        let J = new exprs.OutputExpr(\"J\",\r\n            new exprs.SubExpr(\r\n                new exprs.MulExpr(\r\n                    K,\r\n                    new exprs.ConstExpr(3)\r\n                ),\r\n                new exprs.MulExpr(\r\n                    D,\r\n                    new exprs.ConstExpr(2)\r\n                )\r\n            )\r\n        );\r\n        this.addOutput(J);\r\n    }\r\n\r\n    getName() {\r\n        return \"KDJ\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class ROCIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 60, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let REF_CLOSE_N = new exprs.AssignExpr(\"REF_CLOSE_N\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), N)\r\n        );\r\n        this.addAssign(REF_CLOSE_N);\r\n        let ROC = new exprs.OutputExpr(\"ROC\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SubExpr(\r\n                        new exprs.CloseExpr(),\r\n                        REF_CLOSE_N\r\n                    ),\r\n                    REF_CLOSE_N\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(ROC);\r\n        let MAROC = new exprs.OutputExpr(\"MAROC\",\r\n            new exprs.MaExpr(ROC, M)\r\n        );\r\n        this.addOutput(MAROC);\r\n    }\r\n\r\n    getName() {\r\n        return \"ROC\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class MTMIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 60, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let MTM = new exprs.OutputExpr(\"MTM\",\r\n            new exprs.SubExpr(\r\n                new exprs.CloseExpr(),\r\n                new exprs.RefExpr(new exprs.CloseExpr(), N)\r\n            )\r\n        );\r\n        this.addOutput(MTM);\r\n        let MTMMA = new exprs.OutputExpr(\"MTMMA\",\r\n            new exprs.MaExpr(MTM, M)\r\n        );\r\n        this.addOutput(MTMMA);\r\n    }\r\n\r\n    getName() {\r\n        return \"MTM\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class BOLLIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 120, 20);\r\n        this.addParameter(N);\r\n        let STD_CLOSE_N = new exprs.AssignExpr(\"STD_CLOSE_N\",\r\n            new exprs.StdExpr(new exprs.CloseExpr(), N)\r\n        );\r\n        this.addAssign(STD_CLOSE_N);\r\n        let BOLL = new exprs.OutputExpr(\"BOLL\",\r\n            new exprs.MaExpr(new exprs.CloseExpr(), N)\r\n        );\r\n        this.addOutput(BOLL);\r\n        let UB = new exprs.OutputExpr(\"UB\",\r\n            new exprs.AddExpr(\r\n                BOLL,\r\n                new exprs.MulExpr(\r\n                    new exprs.ConstExpr(2),\r\n                    STD_CLOSE_N\r\n                )\r\n            )\r\n        );\r\n        this.addOutput(UB);\r\n        let LB = new exprs.OutputExpr(\"LB\",\r\n            new exprs.SubExpr(\r\n                BOLL,\r\n                new exprs.MulExpr(\r\n                    new exprs.ConstExpr(2),\r\n                    STD_CLOSE_N\r\n                )\r\n            )\r\n        );\r\n        this.addOutput(LB);\r\n    }\r\n\r\n    getName() {\r\n        return \"BOLL\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class PSYIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 2, 100, 12);\r\n        let M = new exprs.ParameterExpr(\"M\", 2, 100, 6);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        let PSY = new exprs.OutputExpr(\"PSY\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.CountExpr(\r\n                        new exprs.GtExpr(\r\n                            new exprs.CloseExpr(),\r\n                            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n                        ),\r\n                        N\r\n                    ),\r\n                    N\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(PSY);\r\n        let PSYMA = new exprs.OutputExpr(\"PSYMA\",\r\n            new exprs.MaExpr(PSY, M)\r\n        );\r\n        this.addOutput(PSYMA);\r\n    }\r\n\r\n    getName() {\r\n        return \"PSY\";\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class STOCHRSIIndicator extends Indicator {\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        let N = new exprs.ParameterExpr(\"N\", 3, 100, 14);\r\n        let M = new exprs.ParameterExpr(\"M\", 3, 100, 14);\r\n        let P1 = new exprs.ParameterExpr(\"P1\", 2, 50, 3);\r\n        let P2 = new exprs.ParameterExpr(\"P2\", 2, 50, 3);\r\n        this.addParameter(N);\r\n        this.addParameter(M);\r\n        this.addParameter(P1);\r\n        this.addParameter(P2);\r\n        let LC = new exprs.AssignExpr(\"LC\",\r\n            new exprs.RefExpr(new exprs.CloseExpr(), new exprs.ConstExpr(1))\r\n        );\r\n        this.addAssign(LC);\r\n        let CLOSE_LC = new exprs.AssignExpr(\"CLOSE_LC\",\r\n            new exprs.SubExpr(new exprs.CloseExpr(), LC)\r\n        );\r\n        this.addAssign(CLOSE_LC);\r\n        let RSI = new exprs.AssignExpr(\"RSI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.SmaExpr(new exprs.MaxExpr(CLOSE_LC, new exprs.ConstExpr(0)), N, new exprs.ConstExpr(1)),\r\n                    new exprs.SmaExpr(new exprs.AbsExpr(CLOSE_LC), N, new exprs.ConstExpr(1))\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addAssign(RSI);\r\n        let STOCHRSI = new exprs.OutputExpr(\"STOCHRSI\",\r\n            new exprs.MulExpr(\r\n                new exprs.DivExpr(\r\n                    new exprs.MaExpr(\r\n                        new exprs.SubExpr(\r\n                            RSI,\r\n                            new exprs.LlvExpr(RSI, M)\r\n                        ),\r\n                        P1\r\n                    ),\r\n                    new exprs.MaExpr(\r\n                        new exprs.SubExpr(\r\n                            new exprs.HhvExpr(RSI, M),\r\n                            new exprs.LlvExpr(RSI, M)\r\n                        ),\r\n                        P1\r\n                    )\r\n                ),\r\n                new exprs.ConstExpr(100)\r\n            )\r\n        );\r\n        this.addOutput(STOCHRSI);\r\n        this.addOutput(new exprs.RangeOutputExpr(\"MA\",\r\n            new exprs.MaExpr(STOCHRSI, P2)\r\n        ));\r\n    }\r\n\r\n    getName = function () {\r\n        return \"StochRSI\";\r\n    }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/indicators.js"],"sourceRoot":""}